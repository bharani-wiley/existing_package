sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/Label","sap/ui/commons/TextView","sap/ui/core/util/Export","sap/ui/core/util/ExportTypeCSV","sap/ui/table/Tabl+
ePersoController","sap/ui/export/Spreadsheet","sap/m/Dialog","sap/ui/Device","sap/ui/model/Sorter","sap/viz/ui5/api/env/Format","sap/ui/core/format/NumberFormat","sap/viz/ui5/format/ChartFormatter","sap/ui/core/Fragment","sap/m/Token","sap/ui/core/routin+
g/History","sap/ui/model/odata/v2/ODataModel","sap/ui/export/library","sap/m/Button","sap/m/MessageBox","sap/ui/util/Storage","../model/personalization"],function(e,t,a,r,i,s,o,n,l,g,u,d,p,m,h,c,v,f,w,V,y,I,b,C,S,B){"use strict";var T=I.EdmType;var F=new+
 S(S.Type.session,"Document");var O=[];return e.extend("Block_Orders.Block_Orders.controller.Worklist",{formatter:a,onInit:function(e){var a=this;var r=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV",{json:true,loadMet+
adataAsync:true});var i=this.byId("Tbar");try{sap.ui.getCore().bp=jQuery.sap.getUriParameters().mParams["sap-del"][0]}catch(e){sap.ui.getCore().bp=""}r.read("/reportAuthSet",{success:function(e){if(e.results[0].ZunpaidOr==="X"){a.getView().byId("Tab3").s+
etVisible(true);a.getView().byId("Tab3").setIcon("sap-icon://locked");a.getView().byId("Tab3").setIconColor("Negative");a.getView().byId("Tab1").setVisible(true);a.getView().byId("Tab1").setIcon("sap-icon://locked");a.getView().byId("Tab1").setIconColor(+
"Positive");a.getView().byId("Tab2").setVisible(true);a.getView().byId("Tab2").setIcon("sap-icon://explorer");a.getView().byId("Tab2").setIconColor("Default");i.setSelectedKey("Key3");a.chart();a.Dunning()}else if(e.results[0].BILLING==="X"){a.getView().+
byId("Tab1").setVisible(true);a.getView().byId("Tab1").setIcon("sap-icon://locked");a.getView().byId("Tab1").setIconColor("Positive");a.getView().byId("Tab2").setVisible(true);a.getView().byId("Tab2").setIcon("sap-icon://explorer");a.getView().byId("Tab2+
").setIconColor("Default");a.getView().byId("Tab3").setVisible(false);a.ConstdataEH();a.ChartdataEH();var t=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/");a.setModel(t,"SUMVA45")}else{a.getView().byId("Tab3").setVisibl+
e(false);C.error("No authorization to view the Unpaid Order Tab")}},error:function(e){a.getView().byId("Tab3").setVisible(false);C.error("No authorization to view the Unpaid Order Tab")}});this._mViewSettingsDialogs={};var s;var o=new Promise(function(e,+
t){this.getOwnerComponent().getModel().read("/TimeSet",{success:function(t){s=t.results[0].times*1e3;e()},error:function(e){s="300000";t()}})}.bind(this));o.then(function(e){var t;function a(){clearTimeout(t);t=setTimeout(function(){sap.m.MessageBox.show+
("Click OK to Refresh",{icon:sap.m.MessageBox.Icon.Error,title:"Session Timeout",onClose:function(e){location.reload()}})},s)}document.onmousemove=a});this.getView().setBusy(true);this.HideRefreshEH();this.getView().setBusy(false);this.oJsonData=new t([]+
,true);this.getView().setModel(this.oJsonData,"Bsosel");this.oJsonData1=new t([],true);this.getView().setModel(this.oJsonData1,"BKsel");this.oJsonDataT=new t([],true);this.getView().setModel(this.oJsonDataT,"BTsel");this.oJsonDataCT45=new t([],true);this+
.getView().setModel(this.oJsonDataCT45,"CT45sel");this.oJsonDataBP45=new t([],true);this.getView().setModel(this.oJsonDataBP45,"BP45sel");this.oJsonDataSOrg45=new t([],true);this.getView().setModel(this.oJsonDataSOrg45,"SOrg45sel");this.oJsonDataSOrd45=n+
ew t([],true);this.getView().setModel(this.oJsonDataSOrd45,"SOrd45sel");this.oJsonData2=new t([],true);this.getView().setModel(this.oJsonData2,"sel");this.oJsonData3=new t([],true);this.getView().setModel(this.oJsonData3,"sel1");var n=new Date;var l=n.se+
tFullYear(n.getFullYear(),0,1);var u=n.setFullYear(n.getFullYear(),11,31);this.byId("IDatefrom").setDateValue(new Date(l));this.byId("IDateto").setDateValue(new Date(u));this.byId("Dunning").setSelectedKeys(["ZWDU"]);this.byId("DunInput").setSelectedKeys+
(["3","4","5",">5"]);this.byId("salegrpinput").setSelectedKeys(["FRM"]);this.byId("InvoiceDunInput").setSelectedKeys(["3","4","5",">5"]);var d=this.getView().byId("idVizFrameo");var p=this.getView().byId("idPopOver");p.connect(d.getVizUid());p.setActionI+
tems([{type:"action",press:this.onPopoverPress.bind(this)}]);var m=new sap.ui.model.json.JSONModel([]);this.getView().setModel(m,"msg");this._oVDR1=new g("perosId",{table:this.getView().byId("seltable"),componentName:"demoApp",persoService:B})},onPopover+
Press:function(e){this._showObject(e.getSource())},onFilterSearch12:function(e){this.chart();this.Dunning()},onSelectData:function(e){this.Date=e.getParameter("data")[0]["data"]["Year/Month"];this.Count=e.getParameter("data")[0]["data"]["Invoice Count"]}+
,serviceCall:function(e){var t=this.getView().byId("idVizDataSet");t.unbindData();t.bindData({path:"/DunningReportSet",template:t,templateShareable:true,filters:e,events:{dataReceived:function(e){var t}}})},Dunning:function(e){var t=new sap.ui.model.odat+
a.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV",{json:true,loadMetadataAsync:true});var a=this;a.getView().setBusy(true);var r=this.getView().byId("IDatefrom").getValue();var i=this.getView().byId("IDateto").getValue();if(this.getView().by+
Id("salegrpinput").getSelectedItems().length>0){var s=0;s=this.getView().byId("salegrpinput").getSelectedItems();var o=[];for(var n=0;n<=s.length;n++){var l=s[n];if(l!==undefined){var g=l.getBindingContext();var u=g.getProperty("VKGRP");o.push(u)}}}if(th+
is.getView().byId("DunInput").getSelectedItems().length>0){var d=0;d=this.getView().byId("DunInput").getSelectedItems();var p=[];for(var n=0;n<=d.length;n++){var m=d[n];if(m!==undefined){var h=m.getProperty("key");p.push(h)}}}if(this.getView().byId("Invo+
iceDunInput").getSelectedItems().length>0){var c=0;c=this.getView().byId("InvoiceDunInput").getSelectedItems();var v=[];for(var n=0;n<=c.length;n++){var f=c[n];if(f!==undefined){var w=f.getProperty("key");v.push(w)}}}if(this.getView().byId("Dunning").get+
SelectedKeys().length>0){var V=0;V=this.getView().byId("Dunning").getSelectedKeys();var y=[];for(var n=0;n<=V.length;n++){var I=V[n];if(I!==undefined){y.push(I)}}}if(this.getView().byId("sotyp").getSelectedItems().length>0){var b=0;b=this.getView().byId(+
"sotyp").getSelectedItems();var C=[];for(var n=0;n<=b.length;n++){var S=b[n];if(S!==undefined){var B=S.getBindingContext();var T=B.getProperty("Auart");C.push(T)}}}if(this.getView().byId("SalesOff").getSelectedItems().length>0){var F=0;F=this.getView().b+
yId("SalesOff").getSelectedItems();var O=[];for(var n=0;n<=F.length;n++){var D=F[n];if(D!==undefined){var P=D.getBindingContext();var M=P.getProperty("VKBUR");O.push(M)}}}var E=new sap.ui.model.Filter({filters:[],and:true});if(r.length>0){E.aFilters.push+
(new sap.ui.model.Filter("Stdate",sap.ui.model.FilterOperator.EQ,r))}if(i.length>0){E.aFilters.push(new sap.ui.model.Filter("Endate",sap.ui.model.FilterOperator.EQ,i))}if(this.getView().byId("sotyp").getSelectedItems().length>0){C.forEach(function(e){E.a+
Filters.push(new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("Dunning").getSelectedKeys().length>0){y.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Mahna",sap.ui.model.FilterOperator.EQ,e))})}if(+
this.getView().byId("DunInput").getSelectedItems().length>0){p.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Mahns",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("InvoiceDunInput").getSelectedItems().length>0){v.forEach(funct+
ion(e){E.aFilters.push(new sap.ui.model.Filter("Mahns1",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("salegrpinput").getSelectedItems().length>0){o.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Vkgrp",sap.ui.model.FilterOper+
ator.EQ,e))})}if(this.getView().byId("SalesOff").getSelectedItems().length>0){O.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Vkbur",sap.ui.model.FilterOperator.EQ,e))})}var k=this.getView().byId("customerInput").getTokens();var R=[];if(k.+
length>0){for(var x=0;x<k.length;x++){var A=k[x].getProperty("text");R.push(A)}}if(sap.ui.getCore().multicustomer!==undefined){R.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Kunnr",sap.ui.model.FilterOperator.EQ,e))})}t.read("/DunningRepo+
rtSet",{filters:E.aFilters,success:function(e,t){var r=a.getView().getModel("Dunning");r.setData(e);a.getView().setModel(r,"Dunning");sap.ui.getCore().setModel(r,"Dunning");a.getView().setBusy(false);var i=e.results.length;a.byId("getrecords1").setText(i+
);a.getView().setBusy(false)},error:function(e){sap.m.MessageToast.show("Error in Fetching Data");a.getView().setBusy(false)}})},chart:function(e){var t=this.getOwnerComponent().getModel();var a=this;a.getView().setBusy(true);var r=this.getView().byId("I+
Datefrom").getValue();var i=this.getView().byId("IDateto").getValue();if(this.getView().byId("salegrpinput").getSelectedItems().length>0){var s=0;s=this.getView().byId("salegrpinput").getSelectedItems();var o=[];for(var n=0;n<=s.length;n++){var l=s[n];if+
(l!==undefined){var g=l.getBindingContext();var u=g.getProperty("VKGRP");o.push(u)}}}if(this.getView().byId("DunInput").getSelectedItems().length>0){var d=0;d=this.getView().byId("DunInput").getSelectedItems();var p=[];for(var n=0;n<=d.length;n++){var m=+
d[n];if(m!==undefined){var h=m.getProperty("key");p.push(h)}}}if(this.getView().byId("Dunning").getSelectedKeys().length>0){var c=0;c=this.getView().byId("Dunning").getSelectedKeys();var v=[];for(var n=0;n<=c.length;n++){var f=c[n];if(f!==undefined){v.pu+
sh(f)}}}if(this.getView().byId("sotyp").getSelectedItems().length>0){var w=0;w=this.getView().byId("sotyp").getSelectedItems();var V=[];for(var n=0;n<=w.length;n++){var y=w[n];if(y!==undefined){var I=y.getBindingContext();var b=I.getProperty("Auart");V.p+
ush(b)}}}if(this.getView().byId("InvoiceDunInput").getSelectedItems().length>0){var C=0;C=this.getView().byId("InvoiceDunInput").getSelectedItems();var S=[];for(var n=0;n<=C.length;n++){var B=C[n];if(B!==undefined){var T=B.getProperty("key");S.push(T)}}}+
if(this.getView().byId("SalesOff").getSelectedItems().length>0){var F=0;F=this.getView().byId("SalesOff").getSelectedItems();var O=[];for(var n=0;n<=F.length;n++){var D=F[n];if(D!==undefined){var P=D.getBindingContext();var M=P.getProperty("VKBUR");O.pus+
h(M)}}}var E=new sap.ui.model.Filter({filters:[],and:true});if(r.length>0){E.aFilters.push(new sap.ui.model.Filter("Stdate",sap.ui.model.FilterOperator.EQ,r))}if(i.length>0){E.aFilters.push(new sap.ui.model.Filter("Endate",sap.ui.model.FilterOperator.EQ,+
i))}if(this.getView().byId("sotyp").getSelectedItems().length>0){V.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("Dunning").getSelectedKeys().length>0){v.forEach(function(e+
){E.aFilters.push(new sap.ui.model.Filter("Mahna",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("DunInput").getSelectedItems().length>0){p.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Mahns",sap.ui.model.FilterOperator.EQ,e)+
)})}if(this.getView().byId("salegrpinput").getSelectedItems().length>0){o.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Vkgrp",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("InvoiceDunInput").getSelectedItems().length>0){S.fo+
rEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Mahns1",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("SalesOff").getSelectedItems().length>0){O.forEach(function(e){E.aFilters.push(new sap.ui.model.Filter("Vkbur",sap.ui.model.Fil+
terOperator.EQ,e))})}var k=this.getView().byId("customerInput").getTokens();var R=[];if(k.length>0){for(var x=0;x<k.length;x++){var A=k[x].getProperty("text");R.push(A)}}if(sap.ui.getCore().multicustomer!==undefined){R.forEach(function(e){E.aFilters.push+
(new sap.ui.model.Filter("Kunnr",sap.ui.model.FilterOperator.EQ,e))})}t.read("/DunningReportChartSet",{filters:E.aFilters,success:function(e,t){var r=new sap.ui.model.json.JSONModel;r.setData(e);a.getView().setModel(r,"Dunning1");a.getView().setBusy(fals+
e)},error:function(e){sap.m.MessageToast.show("Error in Fetching Data");a.getView().setBusy(false)}})},inputBso:"",fragmentBso:null,onBorderHelpRequest:function(e){this.inputBso=e.getSource().getId();if(this.fragmentBso===null){this.fragmentBso=new sap.u+
i.xmlfragment("Block_Orders.Block_Orders.view.fragmentOrder",this);this.fragmentBso.setTitle("Sales Orders ");this.getView().addDependent(this.fragmentBso)}this.fragmentBso.open()},cancelBSO:function(){this.fragmentBso.close()},rowSelectionBso:function(e+
){var t=sap.ui.getCore().byId("BSOTable");if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var a=0;a<e.getParameter("listItems").length;a++){var r=e.getParameter("listItems")[a].getBindingContext("Billing").getProperty("Vbe+
ln");this.getView().getModel("Bsosel").getData().push({Vbeln:r});this.getView().getModel("Bsosel").updateBindings(true)}}else{var i=e.getParameter("listItem").getBindingContext("Billing").getProperty("Vbeln");if(e.getParameter("listItem").getProperty("se+
lected")===true){this.getView().getModel("Bsosel").getData().push({Vbeln:i});this.getView().getModel("Bsosel").updateBindings(true)}else{this.getView().getModel("Bsosel").getData().pop({Vbeln:i});this.getView().getModel("Bsosel").updateBindings(true)}}if+
(e.getParameter("listItems").length>1&&e.getParameter("selected")===false){this.getView().getModel("Bsosel").setData([])}},acceptBSO:function(e){this.getView().byId("Bso").removeAllTokens();var t=[];var a=sap.ui.getCore().byId("BSOselTable");var r=a.getI+
tems();if(r.length>0){for(var i=0;i<r.length;i++){var s=r[i].getBindingContext("Bsosel").getProperty("Vbeln");var o=new sap.m.Token({text:s});this.getView().byId("Bso").addToken(o);sap.ui.getCore().Bso=s;t.push(s)}sap.ui.getCore().multiBso=t;sap.ui.getCo+
re().byId("BSOTable").removeSelections(true)}else{sap.ui.getCore().Bso=null;sap.ui.getCore().multiBso=[]}this.fragmentBso.close()},clearBSO:function(){var e=sap.ui.getCore().byId("BSOTable");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(tr+
ue);var a=this.getView().byId("Bso").getTokens();this.getView().byId("Bso").destroyTokens([a]);sap.ui.getCore().multiBso=[]}this.getView().getModel("Bsosel").setData([]);var r=sap.ui.getCore().byId("mySearch");r.setValue(null);this.getView().byId("Bso").+
removeAllTokens()},deleteSelectionBso:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("BSOselTable");a.removeItem(t)},searchEHO:function(e){var t=e.getParameter("query");var a=new sap.ui.model.Filter("Vbeln",sap.ui.model.FilterOp+
erator.EQ,t);var r=sap.ui.getCore().byId("BSOTable");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},BsoChange:function(e){var t=e.getParameter("type");if(t==="removed"){var a=e.getParameter("token").getText();this.getView().getModel("B+
sosel").getData().pop({Kunnr:a});this.getView().getModel("Bsosel").updateBindings(true);var r=[];var i=this.getView().byId("Kunnr").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getCore().multiMedi+
a=r}else{sap.ui.getCore().multiMedia=[];sap.ui.getCore().media=null}this.BillRefreshEH(e)()}},inputBK:"",fragmentBK:null,onHelpRequestBK:function(e){this.inputBK=e.getSource().getId();if(this.fragmentBK===null){this.fragmentBK=new sap.ui.xmlfragment("Blo+
ck_Orders.Block_Orders.view.fragmentCust",this);this.fragmentBK.setTitle("Sold to Party");this.getView().addDependent(this.fragmentBK)}this.fragmentBK.open()},cancelBK:function(){this.fragmentBK.close()},searchCEHK:function(e){var t=e.getParameter("query+
");var a=new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("BKTable");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},searchEHT:function(e){var t=e.getParameter("query").toUpperCase();t.toUppe+
rCase();var a=new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("BTTable");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},searchEHSold:function(e){var t=e.getParameter("query");var a=new sap.+
ui.model.Filter("Name1",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("BKTable");var i=r.getBinding("items");i.filter(a)},rowSelectionBK:function(e){if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var t=0;t+
<e.getParameter("listItems").length;t++){var a=e.getParameter("listItems")[t].getBindingContext().getProperty("Kunnr");this.getView().getModel("BKsel").getData().push({Kunnr:a});this.getView().getModel("BKsel").updateBindings(true)}}else{var r=e.getParam+
eter("listItem").getBindingContext().getProperty("Kunnr");if(e.getParameter("listItem").getProperty("selected")===true){this.getView().getModel("BKsel").getData().push({Kunnr:r});this.getView().getModel("BKsel").updateBindings(true)}else{this.getView().g+
etModel("BKsel").getData().pop({Kunnr:r});this.getView().getModel("BKsel").updateBindings(true)}}if(e.getParameter("listItems").length>1&&e.getParameter("selected")===false){this.getView().getModel("BKsel").setData([])}},acceptBK:function(e){this.getView+
().byId("BK").removeAllTokens();var t=[];var a=sap.ui.getCore().byId("BKselTable");var r=a.getItems();if(r.length>0){for(var i=0;i<r.length;i++){var s=r[i].getBindingContext("BKsel").getProperty("Kunnr");var o=new sap.m.Token({text:s});this.getView().byI+
d("BK").addToken(o);sap.ui.getCore().BK=s;t.push(s)}sap.ui.getCore().multiBK=t;sap.ui.getCore().byId("BKTable").removeSelections(true)}else{sap.ui.getCore().BK=null;sap.ui.getCore().multiBK=[]}this.fragmentBK.close()},clearBK:function(){var e=sap.ui.getC+
ore().byId("BKTable");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(true);var a=this.getView().byId("BK").getTokens();this.getView().byId("BK").destroyTokens([a]);sap.ui.getCore().multiBK=[]}this.getView().getModel("BKsel").setData([]);var+
 r=sap.ui.getCore().byId("mySearch");r.setValue(null);this.getView().byId("BK").removeAllTokens()},deleteSelectionBK:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("BKselTable");a.removeItem(t)},BKChange:function(e){var t=e.getP+
arameter("type");if(t==="removed"){var a=e.getParameter("token").getText();this.getView().getModel("BKsel").getData().pop({Kunnr:a});this.getView().getModel("BKsel").updateBindings(true);var r=[];var i=this.getView().byId("Kunnr").getTokens();if(i.length+
>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getCore().multiMedia=r}else{sap.ui.getCore().multiMedia=[];sap.ui.getCore().media=null}this.BillRefreshEH(e)()}},inputBT:"",fragmentBT:null,onHelpRequestBT:function(e){this.i+
nputBT=e.getSource().getId();if(this.fragmentBT===null){this.fragmentBT=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentOrdType",this);this.fragmentBT.setTitle("Order Type");this.getView().addDependent(this.fragmentBT)}this.fragmentBT.open+
()},cancelBT:function(){this.fragmentBT.close()},rowSelectionBT:function(e){if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var t=0;t<e.getParameter("listItems").length;t++){var a=e.getParameter("listItems")[t].getBindingC+
ontext().getProperty("Auart");this.getView().getModel("BTsel").getData().push({Auart:a});this.getView().getModel("BTsel").updateBindings(true)}}else{var r=e.getParameter("listItem").getBindingContext().getProperty("Auart");if(e.getParameter("listItem").g+
etProperty("selected")===true){this.getView().getModel("BTsel").getData().push({Auart:r});this.getView().getModel("BTsel").updateBindings(true)}else{this.getView().getModel("BTsel").getData().pop({Auart:r});this.getView().getModel("BTsel").updateBindings+
(true)}}if(e.getParameter("listItems").length>1&&e.getParameter("selected")===false){this.getView().getModel("BTsel").setData([])}},acceptBT:function(e){this.getView().byId("BT3").removeAllTokens();var t=[];var a=sap.ui.getCore().byId("BTselTable");var r+
=a.getItems();if(r.length>0){for(var i=0;i<r.length;i++){var s=r[i].getBindingContext("BTsel").getProperty("Auart");var o=new sap.m.Token({text:s});this.getView().byId("BT3").addToken(o);sap.ui.getCore().BT3=s;t.push(s)}sap.ui.getCore().multiBT=t;sap.ui.+
getCore().byId("BTTable").removeSelections(true)}else{sap.ui.getCore().BT3=null;sap.ui.getCore().multiBT=[]}this.fragmentBT.close()},clearBT:function(){var e=sap.ui.getCore().byId("BTTable");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(tr+
ue);var a=this.getView().byId("BT").getTokens();this.getView().byId("BT").destroyTokens([a]);sap.ui.getCore().multiBT=[]}this.getView().getModel("BTsel").setData([]);var r=sap.ui.getCore().byId("mytypSearch");r.setValue(null);this.getView().byId("BT").re+
moveAllTokens()},deleteSelectionBT:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("BTselTable");a.removeItem(t)},BTChange:function(e){var t=e.getParameter("type");if(t==="removed"){var a=e.getParameter("token").getText();this.ge+
tView().getModel("BTsel").getData().pop({Auart:a});this.getView().getModel("BTsel").updateBindings(true);var r=[];var i=this.getView().byId("Auart").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.ge+
tCore().multiMedia=r}else{sap.ui.getCore().multiMedia=[];sap.ui.getCore().media=null}this.BillRefreshEH(e)()}},onUpdateFinished:function(e){var t,a=e.getSource(),r=e.getParameter("total");if(r&&a.getBinding("items").isLengthFinal()){t=this.getResourceBun+
dle().getText("worklistTableTitleCount",[r])}else{t=this.getResourceBundle().getText("worklistTableTitle")}this.getModel("worklistView").setProperty("/worklistTableTitle",t)},onPress:function(e){this._showObject(e.getSource())},onNavBack:function(){histo+
ry.go(-1)},onSearch:function(e){if(e.getParameters().refreshButtonPressed){this.onRefresh()}else{var t=[];var a=e.getParameter("query");if(a&&a.length>0){t=[new r("Arktx",i.Contains,a)]}this._applySearch(t)}},onRefresh:function(){var e=this.byId("table")+
;e.getBinding("items").refresh()},setBillDefaultDates:function(){var e=sap.ui.getCore().NoDays;var t=new Date;var a=this.getView().byId("Bedate");a.setDateValue(t);var r=new Date;var i=r;i=i.setDate(i.getDate()-e);this.getView().byId("Bsdate").setDateVal+
ue(new Date(i))},ConstdataEH:function(e){sap.ui.getCore().NoDays="";var t=new sap.ui.model.Filter({filters:[],and:true});var a=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});var r=+
this;a.read("/ZCACONSTSet",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.setSizeLimit(e.results.length);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"Const");sap.ui.getCore().NoDays=e.results[0].Low;thi+
s.setBillDefaultDates();this.BillRefreshEH()}.bind(this),error:function(e){sap.m.MessageToast.show("Error in Constant data refresh")}})},BillRefreshEH:function(e){var t={};var a=0;var r=0;t.Vbeln=a;var i=this.getView().byId("Bsdate").getValue();var s=thi+
s.getView().byId("Bedate").getValue();sap.ui.getCore().bsdate=i;sap.ui.getCore().bedate=s;if(s<i){sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please9 check! ");return}t.Posnr=r;var o=new sap.ui.model.Filter({filters:[new sap.ui.mode+
l.Filter("Posnr",sap.ui.model.FilterOperator.EQ,t.Posnr),new sap.ui.model.Filter("Faksk",sap.ui.model.FilterOperator.EQ,"RF"),new sap.ui.model.Filter("Stdate",sap.ui.model.FilterOperator.EQ,i),new sap.ui.model.Filter("Endate",sap.ui.model.FilterOperator.+
EQ,s)],and:true});var n=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});var l=[];var g=this.getView().byId("BK").getTokens();for(var u=0;u<g.length;u++){var d=g[u].getText();l.push(+
new sap.ui.model.Filter("Kunnr",sap.ui.model.FilterOperator.EQ,d))}var p=this.getView().byId("Bso").getTokens();for(var m=0;m<p.length;m++){var h=p[m].getText();l.push(new sap.ui.model.Filter("Vbeln",sap.ui.model.FilterOperator.EQ,h))}var c=this.getView(+
).byId("BT3").getTokens();for(var v=0;v<c.length;v++){var f=c[v].getText();l.push(new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.EQ,f))}this.getView().setBusy(true);sap.ui.getCore().multiItype=l;o=o.aFilters.concat(l);n.read("/BillingBlockSe+
t",{filters:[o],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.setSizeLimit(e.results.length);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"Billing");this.getView().setBusy(false)}.bind(this),error:function(e){sap.m.+
MessageToast.show("Error in Billing data refresh")}})},ChartdataEH:function(e){var t={};var a=0;var r=0;t.Vbeln=a;var i=this.getView().byId("Bsdate").getValue();var s=this.getView().byId("Bedate").getValue();sap.ui.getCore().bsdate=i;sap.ui.getCore().bed+
ate=s;if(s<i){sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please check! ");return}t.Posnr=r;var o=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("Vbeln",sap.ui.model.FilterOperator.EQ,t.Vbeln)],and:true});var n=new sap.ui+
.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKED_SO_INFO_SRV/",{json:true,loadMetadataAsync:true})},downloadExcel:function(){var e=this.getView().byId("bill");var t=e.getColumns();var a=[];t.forEach(function(e){a.push({label:e.getName(),proper+
ty:e.getSortProperty()})});var r={workbook:{columns:a,context:{application:"Blocked Orders",version:"1.87.0",title:"Billing Blocked Order",metaSheetName:"Custom metadata"}},dataSource:this.getView().getModel("Billing").getData().results,fileName:"Blocked+
Orders.xlsx"};var i=new sap.ui.export.Spreadsheet(r);i.build()},onMainSearch:function(e){var t=e.getParameter("query");t.toUpperCase();var a=new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.Contains,t);var r=new sap.ui.model.Filter("Vbeln",sap+
.ui.model.FilterOperator.Contains,t);var i=new sap.ui.model.Filter("Kunnr",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.Contains,t);var o=new sap.ui.model.Filter("Faksk",sap.ui.model.FilterOper+
ator.Contains,t);var n=new sap.ui.model.Filter("Faksd",sap.ui.model.FilterOperator.Contains,t);var l=new sap.ui.model.Filter("Ernam",sap.ui.model.FilterOperator.Contains,t);var g=new sap.ui.model.Filter("Vkorg",sap.ui.model.FilterOperator.Contains,t);var+
 u=this.getView().byId("bill");var d=u.getBinding("rows");var p=new sap.ui.model.Filter({filters:[a,r,i,s,o,n,l,g],and:false});var m=[p];d.filter(m)},ControldataEH:function(e){sap.ui.getCore().BILLING="";sap.ui.getCore().VA45="";var t=new sap.ui.model.Fi+
lter({filters:[],and:true});var a=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});var r=this;a.read("/reportAuthSet",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.J+
SONModel;a.setSizeLimit(e.results.length);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"UAccess");sap.ui.getCore().BILLING=e.results[0].BILLING;sap.ui.getCore().VA45=e.results[0].VA45;if(sap.ui.getCore().BILLING==="X"){this.getView+
().byId("Tab1").setVisible(true)}else{this.getView().byId("Tab1").setVisible(false)}if(sap.ui.getCore().VA45==="X"){this.getView().byId("Tab2").setVisible(true)}else{this.getView().byId("Tab2").setVisible(false)}}.bind(this),error:function(e){sap.m.Messa+
geToast.show("Error in Constant data refresh")}})},VA45RefreshEHF:function(e){sap.ui.getCore().valdatF=this.getView().byId("newFrag--Bsdate1F").getValue();sap.ui.getCore().valdatT=this.getView().byId("newFrag--Bedate1F").getValue();sap.ui.getCore().creda+
tF=this.getView().byId("newFrag--SerdatF").getValue();sap.ui.getCore().credatT=this.getView().byId("newFrag--EerdatF").getValue();sap.ui.getCore().docdatF=this.getView().byId("newFrag--SaudatF").getValue();sap.ui.getCore().docdatT=this.getView().byId("ne+
wFrag--EaudatF").getValue();sap.ui.getCore().rejval=this.getView().byId("newFrag--rej45F").getSelectedItem().getKey();this.cancelVA45SEL();this.VA45RefreshEH()},fragmentva45sel:null,VA45RefreshEH:function(e){var t=sap.ui.getCore().valdatF;var a=sap.ui.ge+
tCore().datsf;var r={};var i=0;var s=0;r.Vbeln=i;var o=this.getView().byId("Bsdate1").getValue();var n=this.getView().byId("Bedate1").getValue();var l=this.getView().byId("Serdat").getValue();var g=this.getView().byId("Eerdat").getValue();var u=this.getV+
iew().byId("Saudat").getValue();var d=this.getView().byId("Eaudat").getValue();var p=this.getView().byId("rej45").getSelectedItem();var m=p.getKey();var h=sap.ui.getCore().rejval;if(h==""){h=m}else{m=h}sap.ui.getCore().ABGRU=m;if(n<o){sap.m.MessageBox.wa+
rning("'Date-To'  earlier  than  'Date-From ', Please check! ");return}r.Posnr=s;var c=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("FLAG",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().oKey),new sap.ui.model.Filter("ABGRU",sap.ui.model.Fil+
terOperator.EQ,m),new sap.ui.model.Filter("ANGDT",sap.ui.model.FilterOperator.EQ,o),new sap.ui.model.Filter("BNDDT",sap.ui.model.FilterOperator.EQ,n),new sap.ui.model.Filter("ERDAT",sap.ui.model.FilterOperator.EQ,l),new sap.ui.model.Filter("ERDAT",sap.ui+
.model.FilterOperator.EQ,g),new sap.ui.model.Filter("AUDAT",sap.ui.model.FilterOperator.EQ,u),new sap.ui.model.Filter("AUDAT",sap.ui.model.FilterOperator.EQ,d)],and:true});var v=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E2+
66_SRV/",{json:true,loadMetadataAsync:true});var f=[];var w=this.getView().byId("BK45").getTokens();for(var V=0;V<w.length;V++){var y=w[V].getText();f.push(new sap.ui.model.Filter("KUNNR",sap.ui.model.FilterOperator.EQ,y))}sap.ui.getCore().multiItype=f;v+
ar I=this.getView().byId("SOrg45").getTokens();for(var b=0;b<I.length;b++){var C=I[b].getText();f.push(new sap.ui.model.Filter("VKORG",sap.ui.model.FilterOperator.EQ,C))}sap.ui.getCore().multiItype3=f;var S=this.getView().byId("SOrd45").getTokens();for(v+
ar B=0;B<S.length;B++){var T=S[B].getText();f.push(new sap.ui.model.Filter("VBELN",sap.ui.model.FilterOperator.EQ,T))}sap.ui.getCore().multiItypev=f;var F=this.getView().byId("auart45").getTokens();for(var O=0;O<F.length;O++){var D=F[O].getText();f.push(+
new sap.ui.model.Filter("AUART",sap.ui.model.FilterOperator.EQ,D))}this.getView().setBusy(true);sap.ui.getCore().multiItype2=f;c=c.aFilters.concat(f);v.read("/VA45_SumSet",{filters:[c],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.setSize+
Limit(e.results.length);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"SUMVA45");this.getView().setBusy(false)}.bind(this),error:function(e){sap.m.MessageToast.show("Error in VA45 data refresh")}});this.HideRefreshEH()},TabSelectEH:+
function(e){var t=e.getParameter("selectedKey");var a=this.getView().byId("rej45");a.setSelectedKey("A");sap.ui.getCore().abgru45=a;var r=this.byId("va45");var i;switch(t){case"Key1":break;case"Key2":sap.ui.getCore().oKey=t;this.VA45ConstdataEH();break;c+
ase"Key3":this.chart();this.Dunning();break;default:}},inputcustomer:"",fragmentcustomer:null,onHelpRequestKunnr:function(e){this.inputkunnr=e.getSource().getId();if(this.fragmentcustomer===null){this.fragmentcustomer=new sap.ui.xmlfragment("Block_Orders+
.Block_Orders.view.fragmentcustomer",this);this.fragmentcustomer.setTitle("Customer Value Help");this.getView().addDependent(this.fragmentcustomer)}this.fragmentcustomer.open()},handleHelpcustmerConfirm:function(e){var t=e.getParameter("selectedItem");va+
r a=t.getLabel();sap.ui.getCore().byId(this.inputcustomer).setValue(a);sap.ui.getCore().customer=a?a:null},customerChange:function(e){var t=e.getParameter("type");if(t==="removed"||t==="removedAll"){var a=e.getParameter("token").getText();this.getView().+
getModel("sel1").getData().pop({Kunnr:a});this.getView().getModel("sel1").updateBindings(true);var r=[];var i=this.getView().byId("customerInput").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getC+
ore().multicustomer=r}else{sap.ui.getCore().multicustomer=[];sap.ui.getCore().customer=null}}},acceptcustomer:function(e){var t=[];var a=sap.ui.getCore().byId("mySelProdTable1");var r=a.getItems();if(r.length>0){var i=this.getView().byId("customerInput")+
.getTokens();this.getView().byId("customerInput").destroyTokens([i]);for(var s=0;s<r.length;s++){var o=r[s].getBindingContext("sel1").getProperty("Kunnr");var n=new sap.m.Token({text:o});this.getView().byId("customerInput").addToken(n);sap.ui.getCore().c+
ustomer=o;t.push(o)}sap.ui.getCore().multicustomer=t;sap.ui.getCore().byId("myProdTable1").removeSelections(true)}else{i=this.getView().byId("customerInput").getTokens();this.getView().byId("customerInput").destroyTokens([i]);sap.ui.getCore().customer=nu+
ll;sap.ui.getCore().multicustomer=[]}this.fragmentcustomer.close()},cancelcustomer:function(){this.fragmentcustomer.close()},deleteSelectioncustomer:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("mySelProdTable1");a.removeItem(+
t)},rowSelectioncustomer:function(e){if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var t=0;t<e.getParameter("listItems").length;t++){var a=e.getParameter("listItems")[t].getBindingContext().getProperty("Kunnr");this.getV+
iew().getModel("sel1").getData().push({Kunnr:a});this.getView().getModel("sel1").updateBindings(true)}}else{var r=e.getParameter("listItem").getBindingContext().getProperty("Kunnr");if(e.getParameter("listItem").getProperty("selected")===true){this.getVi+
ew().getModel("sel1").getData().push({Kunnr:r});this.getView().getModel("sel1").updateBindings(true)}else{this.getView().getModel("sel1").getData().pop({Kunnr:r});this.getView().getModel("sel1").updateBindings(true)}}if(e.getParameter("listItems").length+
>1&&e.getParameter("selected")===false){this.getView().getModel("sel1").setData([])}},clearcustomer:function(){var e=sap.ui.getCore().byId("myProdTable1");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(true);var a=this.getView().byId("custo+
merInput").getTokens();this.getView().byId("customerInput").destroyTokens([a]);sap.ui.getCore().multicustomer=[]}this.getView().getModel("sel1").setData([]);var r=sap.ui.getCore().byId("mySearch");r.setValue(null)},searchEH2:function(e){var t=e.getParame+
ter("query");var a=new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("myProdTable1");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},inputMedia:"",fragmentProd:null,onHelpRequestPRD:function(e+
){this.inputPRDID=e.getSource().getId();if(this.fragmentProd===null){this.fragmentProd=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentProd",this);this.fragmentProd.setTitle("Product Value Help");this.getView().addDependent(this.fragmentPr+
od)}this.fragmentProd.open()},handleHelpConfirm:function(e){var t=e.getParameter("selectedItem");var a=t.getLabel();sap.ui.getCore().byId(this.inputMedia).setValue(a);sap.ui.getCore().media7=a?a:null},mediaChange:function(e){var t=e.getParameter("type");+
if(t==="removed"||t==="removedAll"){var a=e.getParameter("token").getText();this.getView().getModel("sel").getData().pop({Matnr:a});this.getView().getModel("sel").updateBindings(true);var r=[];var i=this.getView().byId("productInput").getTokens();if(i.le+
ngth>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getCore().multiMedia7=r}else{sap.ui.getCore().multiMedia7=[];sap.ui.getCore().media7=null}}},acceptProd:function(e){var t=[];var a=sap.ui.getCore().byId("mySelProdTable")+
;var r=a.getItems();if(r.length>0){var i=this.getView().byId("productInput").getTokens();this.getView().byId("productInput").destroyTokens([i]);for(var s=0;s<r.length;s++){var o=r[s].getBindingContext("sel").getProperty("Matnr");var n=new sap.m.Token({te+
xt:o});this.getView().byId("productInput").addToken(n);sap.ui.getCore().media7=o;t.push(o)}sap.ui.getCore().multiMedia7=t;sap.ui.getCore().byId("myProdTable").removeSelections(true)}else{i=this.getView().byId("productInput").getTokens();this.getView().by+
Id("productInput").destroyTokens([i]);sap.ui.getCore().media7=null;sap.ui.getCore().multiMedia7=[]}this.fragmentProd.close()},cancelProd:function(){this.fragmentProd.close()},deleteSelectionMedia:function(e){var t=e.getParameter("listItem");var a=sap.ui.+
getCore().byId("mySelProdTable");a.removeItem(t)},rowSelectionMedia:function(e){if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var t=0;t<e.getParameter("listItems").length;t++){var a=e.getParameter("listItems")[t].getBind+
ingContext().getProperty("Matnr");this.getView().getModel("sel").getData().push({Matnr:a});this.getView().getModel("sel").updateBindings(true)}}else{var r=e.getParameter("listItem").getBindingContext().getProperty("Matnr");if(e.getParameter("listItem").g+
etProperty("selected")===true){this.getView().getModel("sel").getData().push({Matnr:r});this.getView().getModel("sel").updateBindings(true)}else{this.getView().getModel("sel").getData().pop({Matnr:r});this.getView().getModel("sel").updateBindings(true)}}+
if(e.getParameter("listItems").length>1&&e.getParameter("selected")===false){this.getView().getModel("sel").setData([])}},clearProd:function(){var e=sap.ui.getCore().byId("myProdTable");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(true);v+
ar a=this.getView().byId("productInput").getTokens();this.getView().byId("productInput").destroyTokens([a]);sap.ui.getCore().multiMedia7=[]}this.getView().getModel("sel").setData([]);var r=sap.ui.getCore().byId("mySearch");r.setValue(null)},searchEH:func+
tion(e){var t=e.getParameter("query");var a=new sap.ui.model.Filter("Maktx",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("myProdTable");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},VA45ConstdataEH:function(e){sap.ui.+
getCore().NoDays45="";sap.ui.getCore().Serdat45="";sap.ui.getCore().Eerdat45="";var t=new sap.ui.model.Filter({filters:[],and:true});var a=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:t+
rue});var r=this;a.read("/VA45CONSTSet",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.setSizeLimit(e.results.length);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"Const45");sap.ui.getCore().NoDays45=e.r+
esults[0].Low;sap.ui.getCore().NoDaysCRE45=e.results[0].High;this.setVA45DefaultDates();this.VA45RefreshEH()}.bind(this),error:function(e){sap.m.MessageToast.show("Error in Constant data refresh")}})},setVA45DefaultDates:function(){var e=sap.ui.getCore()+
.NoDays45;var t=new Date;var a=t;var r=sap.ui.getCore().NoDaysCRE45;a=a.setDate(a.getDate()-r);var i=this.getView().byId("Serdat").getValue();if(i==""){this.getView().byId("Serdat").setDateValue(new Date(a))}var s=new Date;var o=this.getView().byId("Eerd+
at").getValue();if(o==""){this.getView().byId("Eerdat").setDateValue(s)}var n=new Date;var l=n;l=l.setDate(l.getDate()-e);var g=this.getView().byId("Bsdate1").getValue();if(g==""){this.getView().byId("Bsdate1").setDateValue(new Date(l))}var u=new Date;va+
r d=new Date;var p=this.getView().byId("Bedate1").getValue();if(p==""){this.getView().byId("Bedate1").setDateValue(d)}sap.ui.getCore().xdate=d;sap.ui.getCore().SCREDAT=t;sap.ui.getCore().ECREDAT=s;sap.ui.getCore().SVDAT=t;sap.ui.getCore().EVDAT=d},HideRe+
freshEH:function(){this.getView().byId("show1").setVisible(true);this.getView().byId("hide1").setVisible(false);this.getView().byId("ftb1").setVisible(false)},ShowRefreshEH:function(){if(!this.pDialog){this.pDialog=this.loadFragment({name:"Block_Orders.B+
lock_Orders.view.FragmentVA45Selection",id:"newFrag"})}this.pDialog.then(function(e){var t=this.byId("newFrag--Bsdate1F");var a=t.getValue();var r=this.byId("newFrag--Bedate1F");var i=r.getValue();var s=this.byId("newFrag--SerdatF");var o=s.getValue();va+
r n=this.byId("newFrag--EerdatF");var l=n.getValue();if(a==""){t.setDateValue(sap.ui.getCore().SVDAT)}if(i==""){r.setDateValue(sap.ui.getCore().EVDAT)}if(o==""){s.setDateValue(sap.ui.getCore().SCREDAT)}if(o==""){n.setDateValue(sap.ui.getCore().ECREDAT)}e+
.setTitle("Selection Screen.... ");e.open()}.bind(this));this.getView().byId("hide1").setVisible(true);this.getView().byId("show1").setVisible(false);this.getView().byId("ftb1").setVisible(false)},varDateEH:function(e){var t=this.getView().byId("newFrag-+
-Bsdate1F").getValue();sap.ui.getCore().valdatF=t;this.getView().byId("Bsdate1").setDateValue(new Date(t));var a=this.getView().byId("newFrag--Bedate1F").getValue();sap.ui.getCore().valdatT=a;this.getView().byId("Bedate1").setDateValue(new Date(a));var r+
=this.getView().byId("newFrag--SerdatF").getValue();sap.ui.getCore().credatF=r;var i=this.getView().byId("Serdat").getValue();this.getView().byId("Serdat").setDateValue(new Date(r));var s=this.getView().byId("newFrag--EerdatF").getValue();sap.ui.getCore(+
).credatT=s;this.getView().byId("Eerdat").setDateValue(new Date(s));var o=this.getView().byId("newFrag--SaudatF").getValue();sap.ui.getCore().docdatF=o;this.getView().byId("Saudat").setDateValue(new Date(o));var n=this.getView().byId("newFrag--EaudatF").+
getValue();sap.ui.getCore().docdatT=n;this.getView().byId("Eaudat").setDateValue(new Date(n));var l=this.getView().byId("newFrag--rej45F").getSelectedItem().getKey();sap.ui.getCore().rejval=l},cancelVA45SEL:function(e){this.getView().byId("show1").setVis+
ible(true);this.getView().byId("hide1").setVisible(false);this.byId("newFrag--dgsel2").close()},onMainSearch45:function(e){var t=e.getParameter("query");t.toUpperCase();var a=new sap.ui.model.Filter("AUART",sap.ui.model.FilterOperator.Contains,t);var r=n+
ew sap.ui.model.Filter("VBELN",sap.ui.model.FilterOperator.Contains,t);var i=new sap.ui.model.Filter("KUNNR",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("NAME1",sap.ui.model.FilterOperator.Contains,t);var o=new sap.ui.model.Filt+
er("VKORG",sap.ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter("ERDAT",sap.ui.model.FilterOperator.Contains,t);var l=new sap.ui.model.Filter("ERNAM",sap.ui.model.FilterOperator.Contains,t);var g=new sap.ui.model.Filter("BSTNK",sap.ui.mo+
del.FilterOperator.Contains,t);var u=this.getView().byId("va45");var d=u.getBinding("rows");var p=new sap.ui.model.Filter({filters:[a,r,i,s,o,n,l,g],and:false});var m=[p];d.filter(m)},fragmentRI:null,RitemsEH:function(e){sap.ui.getCore().Vbeln=this.getVi+
ew().getModel("SUMVA45").getProperty("VBELN",e.getSource().getBindingContext("SUMVA45"));this.getRejItemDetails();if(this.fragmentRI===null){this.fragmentRI=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.FragmentRejList",this);this.getView().addD+
ependent(this.fragmentRI)}this.fragmentRI.setTitle("Rejected Items of"+" "+sap.ui.getCore().Vbeln);this.fragmentRI.open()},getRejItemDetails:function(){var e=new sap.ui.model.Filter("VBELN",sap.ui.model.FilterOperator.EQ,this.vbeln);var t=new sap.ui.mode+
l.Filter({filters:[new sap.ui.model.Filter("VBELN",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().Vbeln),new sap.ui.model.Filter("ABGRU",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().ABGRU)],and:true});var a="/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_S+
RV/";var r=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});r.refresh(true);this.getView().setBusy(true);r.read("/VA45_RejectItemsSet",{filters:[t],success:function(e,t){var a=new sa+
p.ui.model.json.JSONModel;a.refresh(true);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"RejItems");this.getView().setBusy(false);e.bindRows("/RejItems")}.bind(this),error:function(e){sap.m.MessageToast.show("Data Read error ")}})},+
cancelREJItem:function(){this.fragmentRI.close()},fragmentLI45:null,va45itemsEH:function(e){sap.ui.getCore().Vbeln=this.getView().getModel("SUMVA45").getProperty("VBELN",e.getSource().getBindingContext("SUMVA45"));this.getVA45ItemDetails();if(this.fragme+
ntLI45===null){this.fragmentLI45=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.FragmentVA45Items",this);this.getView().addDependent(this.fragmentLI45)}this.fragmentLI45.setTitle("Line Items of"+" "+sap.ui.getCore().Vbeln);this.fragmentLI45.open(+
)},getVA45ItemDetails:function(){var e=new sap.ui.model.Filter("VBELN",sap.ui.model.FilterOperator.EQ,this.vbeln);var t=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("VBELN",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().Vbeln),new sap.ui.mo+
del.Filter("ABGRU",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().ABGRU)],and:true});var a="/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/";var r=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadata+
Async:true});r.refresh(true);this.getView().setBusy(true);r.read("/VA45_AllItemsSet",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.refresh(true);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"va45Items")+
;this.getView().setBusy(false);e.bindRows("/va45Items")}.bind(this),error:function(e){sap.m.MessageToast.show("Data Read error ")}})},cancelVA45Item:function(){this.fragmentLI45.close()},fragmentDI:null,inputCT45:"",fragmentCT45:null,onHelpRequestCT45:fu+
nction(e){this.inputCT45=e.getSource().getId();if(this.fragmentCT45===null){this.fragmentCT45=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentCType45",this);this.fragmentCT45.setTitle("Contract Types ");this.getView().addDependent(this.fra+
gmentCT45)}this.getContractTypes45EH();this.fragmentCT45.open()},getContractTypes45EH:function(e){var t=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().oKey)],and:true});var a=new sap.ui.m+
odel.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});a.refresh(true);a.read("/ContractTypeSet",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.refresh(true);a.setData(e);s+
ap.ui.getCore().setModel(a);this.getView().setModel(a,"Ctypes45")}.bind(this),error:function(e){sap.m.MessageToast.show("Data Read error ")}})},cancelCT45:function(){this.fragmentCT45.close()},rowSelectionCT45:function(e){var t=sap.ui.getCore().byId("CT4+
5Table");if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var a=0;a<e.getParameter("listItems").length;a++){var r=e.getParameter("listItems")[a].getBindingContext("Ctypes45").getProperty("Auart");this.getView().getModel("CT+
45sel").getData().push({Auart:r});this.getView().getModel("CT45sel").updateBindings(true)}}else{var i=e.getParameter("listItem").getBindingContext("Ctypes45").getProperty("Auart");if(e.getParameter("listItem").getProperty("selected")===true){this.getView+
().getModel("CT45sel").getData().push({Auart:i});this.getView().getModel("CT45sel").updateBindings(true)}else{this.getView().getModel("CT45sel").getData().pop({Auart:i});this.getView().getModel("CT45sel").updateBindings(true)}}if(e.getParameter("listItem+
s").length>1&&e.getParameter("selected")===false){this.getView().getModel("CT45sel").setData([])}},acceptCT45:function(e){this.getView().byId("auart45").removeAllTokens();this.getView().byId("newFrag--auart45F").removeAllTokens();var t=[];var a=[];var r=+
sap.ui.getCore().byId("CT45selTable");var i=r.getItems();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getBindingContext("CT45sel").getProperty("Auart");var n=new sap.m.Token({text:o});var l=new sap.m.Token({text:o});this.getView().byId("auart45"+
).addToken(n);this.getView().byId("newFrag--auart45F").addToken(l);sap.ui.getCore().auart45=o;sap.ui.getCore().auart45F=o;t.push(o);a.push(o)}sap.ui.getCore().multiauart45=t;sap.ui.getCore().multiauart45F=t;sap.ui.getCore().byId("CT45Table").removeSelect+
ions(true)}else{sap.ui.getCore().auart45=null;sap.ui.getCore().auart45F=null;sap.ui.getCore().multiauart45=[];sap.ui.getCore().multiauart45F=[]}this.fragmentCT45.close()},clearCT45:function(){var e=sap.ui.getCore().byId("CT45Table");var t=e.getSelectedIt+
ems();if(t.length>0){e.removeSelections(true);var a=this.getView().byId("auart45").getTokens();this.getView().byId("auart45").destroyTokens([a]);sap.ui.getCore().multiauart45=[];var r=this.getView().byId("auart45F").getTokens();sap.ui.getCore().byId("aua+
rt45F").destroyTokens([r]);sap.ui.getCore().multiauart45F=[]}this.getView().getModel("CT45sel").setData([]);var i=sap.ui.getCore().byId("mySearch");i.setValue(null);this.getView().byId("auart45").removeAllTokens();this.getView().byId("auart45F").removeAl+
lTokens()},deleteSelectionCT45:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("CT45selTable");a.removeItem(t)},searchCT45EH:function(e){var t=e.getParameter("query");var a=new sap.ui.model.Filter("Auart",sap.ui.model.FilterOpera+
tor.EQ,t);var r=sap.ui.getCore().byId("CT45Table");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},CT45Change:function(e){var t=e.getParameter("type");if(t==="removed"){var a=e.getParameter("token").getText();this.getView().getModel("CT+
45sel").getData().pop({Auart:a});this.getView().getModel("CT45sel").updateBindings(true);var r=[];var i=this.getView().byId("Auart").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getCore().multiMed+
iaCT45=r}else{sap.ui.getCore().multiMediaCT45=[];sap.ui.getCore().media=null}}},inputBP45:"",fragmentBP45:null,onHelpRequestBP45:function(e){this.inputBP45=e.getSource().getId();if(this.fragmentBP45===null){this.fragmentBP45=new sap.ui.xmlfragment("Block+
_Orders.Block_Orders.view.fragmentBP45",this);this.fragmentBP45.setTitle("Sold to");this.getView().addDependent(this.fragmentBP45)}this.getBP45EH();this.fragmentBP45.open()},getBP45EH:function(e){var t=new sap.ui.model.Filter({filters:[],and:true});var a+
=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});a.refresh(true);a.read("/SoldtoSet",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.refresh(true);a.setDa+
ta(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"BP45")}.bind(this),error:function(e){sap.m.MessageToast.show("Data Read error ")}})},cancelBP45:function(){this.fragmentBP45.close()},rowSelectionBP45:function(e){var t=sap.ui.getCore().byId("+
BP45Table");if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var a=0;a<e.getParameter("listItems").length;a++){var r=e.getParameter("listItems")[a].getBindingContext().getProperty("Kunnr");this.getView().getModel("BP45sel")+
.getData().push({Kunnr:r});this.getView().getModel("BP45sel").updateBindings(true)}}else{var i=e.getParameter("listItem").getBindingContext().getProperty("Kunnr");if(e.getParameter("listItem").getProperty("selected")===true){this.getView().getModel("BP45+
sel").getData().push({Kunnr:i});this.getView().getModel("BP45sel").updateBindings(true)}else{this.getView().getModel("BP45sel").getData().pop({Kunnr:i});this.getView().getModel("BP45sel").updateBindings(true)}}if(e.getParameter("listItems").length>1&&e.g+
etParameter("selected")===false){this.getView().getModel("BP45sel").setData([])}},acceptBP45:function(e){this.getView().byId("BK45").removeAllTokens();var t=[];this.getView().byId("newFrag--BK45F").removeAllTokens();var a=[];var r=sap.ui.getCore().byId("+
BP45selTable");var i=r.getItems();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getBindingContext("BP45sel").getProperty("Kunnr");var n=new sap.m.Token({text:o});var l=new sap.m.Token({text:o});this.getView().byId("BK45").addToken(n);sap.ui.getCo+
re().BP45=o;t.push(o);this.getView().byId("newFrag--BK45F").addToken(l);sap.ui.getCore().BP45F=o;a.push(o)}sap.ui.getCore().multibp45=t;sap.ui.getCore().multibp45F=a;sap.ui.getCore().byId("BP45Table").removeSelections(true)}else{sap.ui.getCore().BP45=nul+
l;sap.ui.getCore().multibp45=[];sap.ui.getCore().BP45F=null;sap.ui.getCore().multibp45F=[]}this.fragmentBP45.close()},clearBP45:function(){var e=sap.ui.getCore().byId("BP45Table");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(true);var a=t+
his.getView().byId("BP45").getTokens();this.getView().byId("BP45").destroyTokens([a]);sap.ui.getCore().multibp45=[]}this.getView().getModel("BP45sel").setData([]);var r=sap.ui.getCore().byId("mySearch");r.setValue(null);this.getView().byId("BP45").remove+
AllTokens()},deleteSelectionBP45:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("BP45selTable");a.removeItem(t)},searchBP45EH:function(e){var t=e.getParameter("query");var a=new sap.ui.model.Filter("Name1",sap.ui.model.FilterOpe+
rator.EQ,t);var r=sap.ui.getCore().byId("BP45Table");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},BP45Change:function(e){var t=e.getParameter("type");if(t==="removed"){var a=e.getParameter("token").getText();this.getView().getModel("+
BP45sel").getData().pop({Kunnr:a});this.getView().getModel("BP45sel").updateBindings(true);var r=[];var i=this.getView().byId("BP45").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getCore().multiMe+
diaBP45=r}else{sap.ui.getCore().multiMediaBP45=[];sap.ui.getCore().media=null}}},inputSOrg45:"",fragmentSOrg45:null,onHelpRequestSOrg45EH:function(e){this.inputSOrg45=e.getSource().getId();if(this.fragmentSOrg45===null){this.fragmentSOrg45=new sap.ui.xml+
fragment("Block_Orders.Block_Orders.view.fragmentSOrg45",this);this.fragmentSOrg45.setTitle("Sales Org");this.getView().addDependent(this.fragmentSOrg45)}this.getSOrg45EH();this.fragmentSOrg45.open()},getSOrg45EH:function(e){var t=new sap.ui.model.Filter+
({filters:[new sap.ui.model.Filter("VTEXT",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().oKey)],and:true});var a=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/",{json:true,loadMetadataAsync:true});a.refresh(true);a.+
read("/SOrg45Set",{filters:[t],success:function(e,t){var a=new sap.ui.model.json.JSONModel;a.refresh(true);a.setData(e);sap.ui.getCore().setModel(a);this.getView().setModel(a,"SOrg45")}.bind(this),error:function(e){sap.m.MessageToast.show("Data Read erro+
r ")}})},cancelSOrg45:function(){this.fragmentSOrg45.close()},rowSelectionSOrg45:function(e){var t=sap.ui.getCore().byId("SOrg45Table");if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var a=0;a<e.getParameter("listItems").+
length;a++){var r=e.getParameter("listItems")[a].getBindingContext("SOrg45").getProperty("VKORG");this.getView().getModel("SOrg45sel").getData().push({VKORG:r});this.getView().getModel("SOrg45sel").updateBindings(true)}}else{var i=e.getParameter("listIte+
m").getBindingContext("SOrg45").getProperty("VKORG");if(e.getParameter("listItem").getProperty("selected")===true){this.getView().getModel("SOrg45sel").getData().push({VKORG:i});this.getView().getModel("SOrg45sel").updateBindings(true)}else{this.getView(+
).getModel("SOrg45sel").getData().pop({VKORG:i});this.getView().getModel("SOrg45sel").updateBindings(true)}}if(e.getParameter("listItems").length>1&&e.getParameter("selected")===false){this.getView().getModel("SOrg45sel").setData([])}},acceptSOrg45:funct+
ion(e){this.getView().byId("SOrg45").removeAllTokens();this.getView().byId("newFrag--SOrg45F").removeAllTokens();var t=[];var a=[];var r=sap.ui.getCore().byId("SOrg45selTable");var i=r.getItems();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getB+
indingContext("SOrg45sel").getProperty("VKORG");var n=new sap.m.Token({text:o});var l=new sap.m.Token({text:o});this.getView().byId("SOrg45").addToken(n);this.getView().byId("newFrag--SOrg45F").addToken(l);sap.ui.getCore().SOrg45=o;t.push(o);a.push(o)}sa+
p.ui.getCore().multiSOrg45=t;sap.ui.getCore().byId("SOrg45Table").removeSelections(true)}else{sap.ui.getCore().SOrg45=null;sap.ui.getCore().SOrg45F=null;sap.ui.getCore().multiSOrg45=[];sap.ui.getCore().multiSOrg45F=[]}this.fragmentSOrg45.close()},clearSO+
rg45:function(){var e=sap.ui.getCore().byId("SOrg45Table");var t=e.getSelectedItems();if(t.length>0){e.removeSelections(true);var a=this.getView().byId("SOrg45").getTokens();this.getView().byId("SOrg45").destroyTokens([a]);sap.ui.getCore().multiSOrg45=[]+
;var r=this.getView().byId("SOrg45F").getTokens();this.getView().byId("SOrg45F").destroyTokens([r]);sap.ui.getCore().multiSOrg45F=[]}this.getView().getModel("SOrg45sel").setData([]);var i=sap.ui.getCore().byId("mySearch");i.setValue(null);this.getView().+
byId("SOrg45").removeAllTokens()},deleteSelectionSOrg45:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("SOrg45selTable");a.removeItem(t)},searchSOrg45EH:function(e){var t=e.getParameter("query");var a=new sap.ui.model.Filter("VK+
ORG",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("SOrg45Table");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},SOrg45Change:function(e){var t=e.getParameter("type");if(t==="removed"){var a=e.getParameter("token").getT+
ext();this.getView().getModel("SOrg45sel").getData().pop({Kunnr:a});this.getView().getModel("SOrg45sel").updateBindings(true);var r=[];var i=this.getView().byId("SOrg45").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text+
");r.push(o)}sap.ui.getCore().multiMediaSOrg45=r}else{sap.ui.getCore().multiMediaSOrg45=[];sap.ui.getCore().media=null}}},inputSOrd45:"",fragmentSOrd45:null,onHelpRequestSOrd45EH:function(e){this.inputSOrd45=e.getSource().getId();if(this.fragmentSOrd45==+
=null){this.fragmentSOrd45=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentSOrd45",this);this.fragmentSOrd45.setTitle("Contracts");this.getView().addDependent(this.fragmentSOrd45)}this.fragmentSOrd45.open()},cancelSOrd45:function(){this.fr+
agmentSOrd45.close()},rowSelectionSOrd45:function(e){if(e.getParameter("listItems").length>1&&e.getParameter("selected")===true){for(var t=0;t<e.getParameter("listItems").length;t++){var a=e.getParameter("listItems")[t].getBindingContext("SUMVA45").getPr+
operty("VBELN");this.getView().getModel("SOrd45sel").getData().push({VBELN:a});this.getView().getModel("SOrd45sel").updateBindings(true)}}else{var r=e.getParameter("listItem").getBindingContext("SUMVA45").getProperty("VBELN");if(e.getParameter("listItem"+
).getProperty("selected")===true){this.getView().getModel("SOrd45sel").getData().push({VBELN:r});this.getView().getModel("SOrd45sel").updateBindings(true)}else{this.getView().getModel("SOrd45sel").getData().pop({VBELN:r});this.getView().getModel("SOrd45s+
el").updateBindings(true)}}if(e.getParameter("listItems").length>1&&e.getParameter("selected")===false){this.getView().getModel("SOrd45sel").setData([])}},acceptSOrd45:function(e){this.getView().byId("SOrd45").removeAllTokens();this.getView().byId("newFr+
ag--SOrd45F").removeAllTokens();var t=[];var a=[];var r=sap.ui.getCore().byId("SOrd45selTable");var i=r.getItems();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getBindingContext("SOrd45sel").getProperty("VBELN");var n=new sap.m.Token({text:o});v+
ar l=new sap.m.Token({text:o});this.getView().byId("SOrd45").addToken(n);this.getView().byId("newFrag--SOrd45F").addToken(l);sap.ui.getCore().SOrd45=o;t.push(o);a.push(o)}sap.ui.getCore().multiSOrd45=t;sap.ui.getCore().byId("SOrd45Table").removeSelection+
s(true)}else{sap.ui.getCore().SOrd45=null;sap.ui.getCore().SOrd45F=null;sap.ui.getCore().multiSOrd45=[];sap.ui.getCore().multiSOrd45F=[]}this.fragmentSOrd45.close()},clearSOrd45:function(){var e=sap.ui.getCore().byId("SOrd45Table");var t=e.getSelectedIte+
ms();if(t.length>0){e.removeSelections(true);var a=this.getView().byId("SOrd45").getTokens();this.getView().byId("SOrd45").destroyTokens([a]);sap.ui.getCore().multiSOrd45=[];var r=this.getView().byId("SOrd45F").getTokens();sap.ui.getCore().byId("SOrd45")+
.destroyTokens([r]);sap.ui.getCore().multiSOrd45F=[]}this.getView().getModel("SOrd45sel").setData([]);var i=sap.ui.getCore().byId("mySearch");i.setValue(null);this.getView().byId("SOrd45").removeAllTokens();sap.ui.getCore().byId("SOrd45F").removeAllToken+
s()},deleteSelectionSOrd45:function(e){var t=e.getParameter("listItem");var a=sap.ui.getCore().byId("SOrd45selTable");a.removeItem(t)},searchSOrd45EH:function(e){var t=e.getParameter("query");var a=new sap.ui.model.Filter("VBELN",sap.ui.model.FilterOpera+
tor.EQ,t);var r=sap.ui.getCore().byId("SOrd45Table");var i=r.getBinding("items");i.filter(a);r.removeSelections(true)},SOrd45Change:function(e){var t=e.getParameter("type");if(t==="removed"){var a=e.getParameter("token").getText();this.getView().getModel+
("SOrd45sel").getData().pop({VBELN:a});this.getView().getModel("SOrd45sel").updateBindings(true);var r=[];var i=this.getView().byId("SOrd45").getTokens();if(i.length>0){for(var s=0;s<i.length;s++){var o=i[s].getProperty("text");r.push(o)}sap.ui.getCore()+
.multiMediaSOrd45=r}else{sap.ui.getCore().multiMediaSOrd45=[];sap.ui.getCore().media=null}}},downloadExcel45:function(){var e=this.getView().byId("va45");var t=e.getColumns();var a=[];t.forEach(function(e){a.push({label:e.getName(),property:e.getSortProp+
erty()})});var r={workbook:{columns:a,context:{application:"Contract Status Report",version:"1.87.0",title:"Contract Status Report",metaSheetName:"Custom metadata"}},dataSource:this.getView().getModel("SUMVA45").getData().results,fileName:"Contract Statu+
s Report.xlsx"};var i=new sap.ui.export.Spreadsheet(r);i.build()},_showObject:function(e){var t=this.getView().byId("idVizFrameo");t.vizSelection([],{clearSelection:true})},draggableDialog:null,OnBlock:function(e){debugger;var t;this.btnSource=e.getSourc+
e();var a=this.getView().byId("seltable").getSelectedIndices();if(a.length===0){sap.m.MessageBox.warning("Please Select Items To Be Processed!")}else{if(!this.draggableDialog){this.draggableDialog=new d({title:"Enter Delivery Blocking Reason",contentWidt+
h:"220px",contentHeight:"50px",draggable:true,content:[new sap.m.Label({text:"Delivery Blocking Reason",textDirection:"RTL",design:"Bold"}),new sap.m.Input({width:"100px",fieldWidth:"10px",id:"IReasn",value:"58",showValueHelp:true,showSuggestion:true,sug+
gest:[this.suggestReasons,this],suggestionItems:{path:"/DelReasonSet",template:new sap.ui.core.Item({text:"{Lifsp}",key:"{Lifsp}"})},valueHelpRequest:[this.onF4,this]})],beginButton:new sap.m.Button({type:"Emphasized",text:"OK",press:function(){this.crea+
teBlocking();this.draggableDialog.close()}.bind(this)}),endButton:new sap.m.Button({text:"Close",press:function(){this.draggableDialog.close()}.bind(this)})});this.getView().addDependent(this.draggableDialog)}}if(!t){this.draggableDialog.open()}},inputId+
:"",fragmento:null,onF4:function(e){this.inputId=e.getSource().getId();if(this.fragmento===null){this.fragmento=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentExcl",this);this.fragmento.bindAggregation("items",{path:"/DelReasonSet",parame+
ters:{operationMode:"Client"},template:new sap.m.DisplayListItem({label:"{Lifsp}",value:"{Vtext}"})});this.getView().addDependent(this.fragmento)}this.fragmento.open()},handleTableValueHelpConfirm:function(e){var t=e.getParameter("selectedItem");var a=t.+
getLabel();sap.ui.getCore().byId(this.inputId).setValue(a)},onSearchReasonf4:function(e){var t=e.getParameter("itemsBinding");var a=e.getParameter("value");var r=a.toUpperCase();if(!a){t.filter([])}else{var s=new sap.ui.model.Filter({path:"Lifsp",operato+
r:i.Contains,value1:a,caseSensitive:false});var o=new sap.ui.model.Filter({path:"Vtext",operator:i.Contains,value1:a,caseSensitive:false});var n=new sap.ui.model.Filter({filters:[s,o],and:false});var l=[n];t.filter(l)}},createBlocking:function(e){var a=t+
his.getView().byId("seltable").getSelectedIndices();if(a.length===0){sap.m.MessageBox.warning("Please Select Items To Be Processed!")}else{var r=[];for(var i=0;i<a.length;i++){var s=this.getView().byId("seltable").getContextByIndex(a[i]).getObject();var +
o={};o.Vbeln=s.Xref1;o.Matnr=s.Matnr;r.push(o)}var n=sap.ui.getCore().byId("IReasn");var l=n?n.getValue():null;var g=this;this.getView().setBusy(true);var u={};u.Vbeln=o.Vbeln;u.DelReason=l;u.ConItemSet=r;var d=new sap.ui.model.odata.v2.ODataModel("/sap/+
opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV",{json:true,loadMetadataAsync:true});d.create("/ConHeaderSet",u,{success:function(e,a){debugger;g.getView().setBusy(false);var r=new t;r.setData(e.ConItemSet.results);g.getView().setModel(r,"msg");g.getView().getMo+
del("msg").setData(g.getView().getModel("msg").getData().concat(e.ConItemSet.results));g.getView().getModel().refresh(true);g.byId("btnMsgPopover1").setVisible(true);g.byId("btnMsgPopover1").firePress();g.getView().byId("seltable").clearSelection()},erro+
r:function(e){g.getView().setBusy(false);sap.m.MessageBox.error("Error in Contract Blocking")}})}},onMessagePopoverPress:function(e){this.getViewSettingsDialog("Block_Orders.Block_Orders.view.messagePopover").then(function(e){e.open()})},onMessageDlgClos+
e:function(e){e.getSource().getParent().close()},OnSel:function(){if(!this.pDialog){this.pDialog=this.loadFragment({name:"Block_Orders.Block_Orders.view.fragmentSelect",id:"newFrag"})}this.pDialog.then(function(e){var t=new Date;var a=t.setFullYear(t.get+
FullYear(),0,1);var r=t.setFullYear(t.getFullYear(),11,31);var i=this.byId("newFrag--IDatefrom");var s=i.getValue();if(s==""){this.byId("newFrag--IDatefrom").setDateValue(new Date(a))}var o=this.byId("newFrag--IDateto");var n=o.getValue();if(n==""){this.+
byId("newFrag--IDateto").setDateValue(new Date(r))}var l=this.byId("newFrag--DunInput");var g=l.getValue();if(g==""){this.byId("newFrag--DunInput").setSelectedKeys(["3","4","5",">5"])}var u=this.byId("newFrag--Dunning");var d=u.getValue();if(g==""){this.+
byId("newFrag--Dunning").setSelectedKeys(["ZWDU"])}var p=this.byId("newFrag--customerInput");var m=p.getValue();e.open()}.bind(this))},Get87:function(e){var a=this.getOwnerComponent().getModel();e.getSource().getParent().close();var i=this;i.getView().se+
tBusy(true);var s=this.getView().byId("newFrag--IDatefrom").getValue();var o=this.getView().byId("newFrag--IDateto").getValue();if(this.getView().byId("newFrag--DunInput").getSelectedItems().length>0){var n=0;n=this.getView().byId("newFrag--DunInput").ge+
tSelectedItems();var l=[];for(var g=0;g<=n.length;g++){var u=n[g];if(u!==undefined){var d=u.getProperty("key");l.push(d)}}}if(this.getView().byId("newFrag--Dunning").getSelectedItems().length>0){var p=0;p=this.getView().byId("newFrag--Dunning").getSelect+
edItems();var m=[];for(var g=0;g<=p.length;g++){var h=p[g];if(h!==undefined){var c=h.getBindingContext();var v=c.getProperty("MAHNA");m.push(v)}}}if(this.getView().byId("newFrag--sotyp").getSelectedItems().length>0){var f=0;f=this.getView().byId("newFrag+
--sotyp").getSelectedItems();var w=[];for(var g=0;g<=f.length;g++){var V=f[g];if(V!==undefined){var y=V.getBindingContext();var I=y.getProperty("Auart");w.push(I)}}}var b=new sap.ui.model.Filter({filters:[],and:true});if(s.length>0){b.aFilters.push(new s+
ap.ui.model.Filter("Stdate",sap.ui.model.FilterOperator.EQ,s))}if(o.length>0){b.aFilters.push(new sap.ui.model.Filter("Endate",sap.ui.model.FilterOperator.EQ,o))}if(this.getView().byId("newFrag--sotyp").getSelectedItems().length>0){w.forEach(function(e){+
b.aFilters.push(new sap.ui.model.Filter("Auart",sap.ui.model.FilterOperator.EQ,e))})}if(this.getView().byId("newFrag--Dunning").getSelectedItems().length>0){m.forEach(function(e){b.aFilters.push(new sap.ui.model.Filter("Mahna",sap.ui.model.FilterOperator+
.EQ,e))})}if(this.getView().byId("newFrag--DunInput").getSelectedItems().length>0){l.forEach(function(e){b.aFilters.push(new sap.ui.model.Filter("Mahns",sap.ui.model.FilterOperator.EQ,e))})}if(sap.ui.getCore().multiMedia!==undefined){sap.ui.getCore().mul+
tiMedia.forEach(function(e){b.aFilters.push(new r("Matnr",sap.ui.model.FilterOperator.EQ,e))})}if(sap.ui.getCore().multicustomer!==undefined){sap.ui.getCore().multicustomer.forEach(function(e){b.aFilters.push(new r("Kunnr",sap.ui.model.FilterOperator.EQ,+
e))})}a.read("/DunningReportSet",{filters:b.aFilters,success:function(e,a){var r=i.getView().getModel("Dunning");r.destroy();var s=new t;s.setData(e);i.getView().setModel(s,"Dunning");sap.ui.getCore().setModel(s,"Dunning");var o=e.results.length;i.byId("+
getrecords").setText(o);i.getView().setBusy(false)},error:function(e){sap.m.MessageToast.show("Error in Fetching Data");i.getView().setBusy(false)}})},fragmentselect:null,Cancel87:function(e){e.getSource().getParent().close()},downlaodRelDocs:function(e)+
{var t=[],a,r,i,s;t.push({label:"Document No",type:T.String,property:"Vbeln"},{label:"Type",type:T.String,property:"Type"},{label:"Message1",type:T.String,property:"Msg1"},{label:"Message2",type:T.String,property:"Msg2"},{label:"Message3",type:T.String,p+
roperty:"Msg3"});s=this.getView().byId("dlgListMessageModel");a=s.getBinding("items");r={workbook:{columns:t,hierarchyLevel:"Level"},dataSource:a,fileName:"Message_Erro_log.xlsx",worker:false};i=new u(r);i.build().finally(function(){i.destroy()})},getVie+
wSettingsDialog:function(e){var t=this;var a=this._mViewSettingsDialogs[e];if(!a){a=f.load({id:this.getView().getId(),name:e,controller:this}).then(function(e){if(p.system.desktop){t.getView().addDependent(e)}return e});this._mViewSettingsDialogs[e]=a}re+
turn a},onRelease:function(e){var t=this.getView().byId("seltable");var a=t.getSelectedItems();var r="";a.forEach(function(e){r+=e.getBindingContext().getProperty("Date")+","});this.getView().setBusy(true);this.getView().getModel().callFunction("/Dunning+
ReportSet",{method:"GET",urlParameters:{Vbeln:r},success:function(e){if(e.results.length){this.getView().getModel("mModel").setData(this.getView().getModel("mModel").getData().concat(e.results))}this.getView().getModel().refresh(true);this.byId("btnMsgPo+
pover1").setVisible(true);this.byId("btnMsgPopover1").firePress();this.getView().setBusy(false)}.bind(this),error:function(e){this.getView().setBusy(false)}.bind(this)})},onPersoButtonPressed29:function(e){this._oVDR1.openDialog({})},addressOld:"",fragme+
ntAdd:null,addObject:"",addObjArray:[],soldtoAdd:function(e){this.selectedRowAdd=e.getSource().getBindingContext("Dunning");this.btnId=e.getParameter("id");var t={};for(var a=0;a<this.addObjArray.length;a++){if(this.addObjArray[a].Id===this.btnId){t=this+
.addObjArray[a];this.addObjectOld=t}}if(!t.Id){t.Id=this.btnId;t.Soldto=e.getSource().getBindingContext("Dunning").getProperty("Kunnr");t.Name1=e.getSource().getBindingContext("Dunning").getProperty("Name1");t.Ort01=e.getSource().getBindingContext("Dunni+
ng").getProperty("Ort01");t.Land1=e.getSource().getBindingContext("Dunning").getProperty("Land1");t.PostCode1=e.getSource().getBindingContext("Dunning").getProperty("PostCode1");t.Stras=e.getSource().getBindingContext("Dunning").getProperty("Stras");this+
.addObjectOld=t;this.addObjArray.push(t)}if(this.fragmentAdd===null){this.fragmentAdd=new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentAddress",this);this.getView().addDependent(this.fragmentAdd)}sap.ui.getCore().byId("Name1").setText(t.Nam+
e1);sap.ui.getCore().byId("Ort01").setText(t.Ort01);sap.ui.getCore().byId("Land1").setText(t.Land1);sap.ui.getCore().byId("PostCode1").setText(t.PostCode1);sap.ui.getCore().byId("Stras").setText(t.Stras);this.fragmentAdd.setTitle("Sold To Party "+t.Soldt+
o);var r=this.selectedRowAdd.getPath();this.fragmentAdd.setModel(this.getView().getModel("Dunning"));this.fragmentAdd.bindElement(r);this.fragmentAdd.open()},cancelAdd:function(){this.fragmentAdd.close()},onMainSearch88:function(e){var t=e.getParameter("+
query");t.toUpperCase();var a=new sap.ui.model.Filter("Kunnr",sap.ui.model.FilterOperator.Contains,t);var r=new sap.ui.model.Filter("Xref1",sap.ui.model.FilterOperator.Contains,t);var i=new sap.ui.model.Filter("Vbeln",sap.ui.model.FilterOperator.Contains+
,t);var s=new sap.ui.model.Filter("ShipTo",sap.ui.model.FilterOperator.Contains,t);var o=new sap.ui.model.Filter("Matnr",sap.ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter("InvoiceValue",sap.ui.model.FilterOperator.Contains,t);var l=ne+
w sap.ui.model.Filter("Posnr",sap.ui.model.FilterOperator.Contains,t);var g=new sap.ui.model.Filter("Maktx",sap.ui.model.FilterOperator.Contains,t);var u=new sap.ui.model.Filter("Vgtyp",sap.ui.model.FilterOperator.Contains,t);var d=new sap.ui.model.Filte+
r("Auart",sap.ui.model.FilterOperator.Contains,t);var p=new sap.ui.model.Filter("Pstyv",sap.ui.model.FilterOperator.Contains,t);var m=new sap.ui.model.Filter("Kdgrp",sap.ui.model.FilterOperator.Contains,t);var h=new sap.ui.model.Filter("Zlsch",sap.ui.mod+
el.FilterOperator.Contains,t);var c=new sap.ui.model.Filter("Erdat",sap.ui.model.FilterOperator.Contains,t);var v=new sap.ui.model.Filter("DueDate",sap.ui.model.FilterOperator.Contains,t);var f=new sap.ui.model.Filter("DaysBeyond",sap.ui.model.FilterOper+
ator.Contains,t);var w=new sap.ui.model.Filter("Vkgrp",sap.ui.model.FilterOperator.Contains,t);var V=new sap.ui.model.Filter("ConStDate",sap.ui.model.FilterOperator.Contains,t);var y=new sap.ui.model.Filter("ConEdDate",sap.ui.model.FilterOperator.Contain+
s,t);var I=new sap.ui.model.Filter("Vkbur1",sap.ui.model.FilterOperator.Contains,t);var b=new sap.ui.model.Filter("Bsark1",sap.ui.model.FilterOperator.Contains,t);var C=this.getView().byId("seltable");var S=C.getBinding("rows");var B=new sap.ui.model.Fil+
ter({filters:[a,r,i,s,o,n,g,u,d,p,m,h,l,c,v,f,w,V,y,I,b],and:false});var T=[B];S.filter(T)},downloadExcel87:function(){var e=this.getView().byId("seltable");var t=I.EdmType;var a=e.getColumns();var r=[];for(var i=0;i<a.length;i++){var s={label:a[i].getLa+
bel().getText(),property:a[i].getSortProperty(),type:t.String};r.push(s);if(i===38){r.pop(s)}}var o="Dunning";var n=new Date;var l=sap.ui.core.format.DateFormat.getInstance({pattern:"ddMMyyyyhhMMss"});var g=l.format(n);var d=this.getView().getModel("Dunn+
ing");var p=new u({workbook:{columns:r},dataSource:this.getView().getModel("Dunning").getProperty("/results"),fileName:o+g});p.build().then(function(){sap.m.MessageToast.show("Export Successfull")}).finally(p.destroy)},_applySearch:function(e){var t=this+
.byId("table"),a=this.getModel("worklistView");t.getBinding("items").filter(e,"Application");if(e.length!==0){a.setProperty("/tableNoDataText",this.getResourceBundle().getText("worklistNoDataWithSearchText"))}}})});                                        