sap.ui.define([                                                                                                                                                                                                                                                
	"./BaseController",                                                                                                                                                                                                                                           
	"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                                
	"sap/ui/core/routing/History",                                                                                                                                                                                                                                
	"sap/ui/model/odata/v2/ODataModel",                                                                                                                                                                                                                           
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator",                                                                                                                                                                                                                                
	"sap/ui/core/Fragment",                                                                                                                                                                                                                                       
	"sap/ui/core/util/Export",                                                                                                                                                                                                                                    
	"sap/ui/core/util/ExportTypeCSV",                                                                                                                                                                                                                             
	"sap/ui/table/TablePersoController",                                                                                                                                                                                                                          
	'sap/m/Token',                                                                                                                                                                                                                                                
	"sap/m/Button",                                                                                                                                                                                                                                               
	"sap/ui/Device",                                                                                                                                                                                                                                              
	"sap/m/Dialog",                                                                                                                                                                                                                                               
	"sap/m/MessageBox",                                                                                                                                                                                                                                           
	"sap/ui/export/Spreadsheet",                                                                                                                                                                                                                                  
	"sap/ui/export/library",                                                                                                                                                                                                                                      
	"../model/formatter",                                                                                                                                                                                                                                         
	"../model/personalization",                                                                                                                                                                                                                                   
	"sap/ui/util/Storage"                                                                                                                                                                                                                                         
], function (BaseController, JSONModel, History, ODATAModel, Filter, FilterOperator, Fragment, Export, ExportType,                                                                                                                                             
	TablePersoController, Token, Button, Device, Dialog, MessageBox, Spreadsheet, exportLibrary, formatter,                                                                                                                                                       
	DemoPersoService, Storage) {                                                                                                                                                                                                                                  
	"use strict";                                                                                                                                                                                                                                                 
	var EdmType = exportLibrary.EdmType;                                                                                                                                                                                                                          
	var oMyStorage = new Storage(Storage.Type.session, "Document");                                                                                                                                                                                               
	var storeMessage = [];                                                                                                                                                                                                                                        
	return BaseController.extend("Block_Orders.Block_Orders.controller.Object", {                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
		formatter: formatter,                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* lifecycle methods                                           */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Called when the worklist controller is instantiated.                                                                                                                                                                                                      
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onInit: function () {                                                                                                                                                                                                                                        
			// Model used to manipulate control states. The chosen values make sure,                                                                                                                                                                                    
			// detail page is busy indication immediately so there is no break in                                                                                                                                                                                       
			// between the busy indication for loading the view's meta data                                                                                                                                                                                             
			// var iOriginalBusyDelay,                                                                                                                                                                                                                                  
			// 	oViewModel = new JSONModel({                                                                                                                                                                                                                            
			// 		busy : true,                                                                                                                                                                                                                                           
			// 		delay : 0                                                                                                                                                                                                                                              
			// 	});                                                                                                                                                                                                                                                     
			////BOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                
			this._mViewSettingsDialogs = {};                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var Model = this.getOwnerComponent().getModel("Dunning");                                                                                                                                                                                                   
			this.getView().setModel(Model, "Dunning");;                                                                                                                                                                                                                 
			var oModel = new sap.ui.model.json.JSONModel([]);                                                                                                                                                                                                           
			this.getView().setModel(oModel, "msg");                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this._oVDR1 = new TablePersoController("perosId", {                                                                                                                                                                                                         
				table: this.getView().byId("seltable"),                                                                                                                                                                                                                    
				//specify the first part of persistence ids e.g. 'demoApp-productsTable-dimensionsCol'                                                                                                                                                                     
				componentName: "demoApp",                                                                                                                                                                                                                                  
				persoService: DemoPersoService                                                                                                                                                                                                                             
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.oJsonData2 = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonData2, "sel");                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			this.oJsonData3 = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonData3, "sel1");                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			////EOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                
			this.getRouter().getRoute("object").attachPatternMatched(this._onObjectMatched, this);                                                                                                                                                                      
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* event handlers                                              */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler  for navigating back.                                                                                                                                                                                                                       
		 * It there is a history entry we go one step back in the browser history                                                                                                                                                                                    
		 * If not, it will replace the current entry of the browser history with the worklist route.                                                                                                                                                                 
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onNavBack: function () {                                                                                                                                                                                                                                     
			var sPreviousHash = History.getInstance().getPreviousHash();                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			if (sPreviousHash !== undefined) {                                                                                                                                                                                                                          
				history.go(-1);                                                                                                                                                                                                                                            
			} else {                                                                                                                                                                                                                                                    
				this.getRouter().navTo("worklist", {}, true);                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////BOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                 
		onPersoButtonPressed29: function (oEvent) {                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			this._oVDR1.openDialog({                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////EOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                 
		/* =========================================================== */                                                                                                                                                                                            
		/* internal methods                                            */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Binds the view to the object path.                                                                                                                                                                                                                        
		 * @function                                                                                                                                                                                                                                                 
		 * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'                                                                                                                                                                                   
		 * @private                                                                                                                                                                                                                                                  
		 */                                                                                                                                                                                                                                                          
		_onObjectMatched: function (oEvent) {                                                                                                                                                                                                                        
			////BOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                
		                                                                                                                                                                                                                                                             
			var Date, Count;                                                                                                                                                                                                                                            
			Date = oEvent.getParameter("arguments").Date;                                                                                                                                                                                                               
			Count = oEvent.getParameter("arguments").Count;                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var oTable2 = this.getView().byId("seltable");                                                                                                                                                                                                              
			var oFilter1 = new sap.ui.model.Filter("Date", sap.ui.model.FilterOperator.Contains, Date);                                                                                                                                                                 
			var oFilter2 = new sap.ui.model.Filter("Count", sap.ui.model.FilterOperator.Contains, Count);                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
			aFilter.push(oFilter1);                                                                                                                                                                                                                                     
			aFilter.push(oFilter2);                                                                                                                                                                                                                                     
			var oTableItems = oTable2.getBinding("rows");                                                                                                                                                                                                               
			oTableItems.filter(aFilter);                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var count = oTableItems.aIndices.length;                                                                                                                                                                                                                    
			this.byId("getrecords").setText(count);                                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		draggableDialog: null,                                                                                                                                                                                                                                       
		OnBlock: function (oEvent) {                                                                                                                                                                                                                                 
			// debugger;                                                                                                                                                                                                                                                
			var sMsg;                                                                                                                                                                                                                                                   
			this.btnSource = oEvent.getSource();                                                                                                                                                                                                                        
			var items = this.getView().byId("seltable").getSelectedIndices();                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (items.length === 0) {                                                                                                                                                                                                                                   
				sap.m.MessageBox.warning("Please Select Items To Be Processed!");                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//get all the required info to process future order&nbsp;                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				//Create PopUp for order reasons                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				if (!this.draggableDialog) {                                                                                                                                                                                                                               
					this.draggableDialog = new Dialog({                                                                                                                                                                                                                       
						title: "Enter Delivery Blocking Reason",                                                                                                                                                                                                                 
						contentWidth: "220px",                                                                                                                                                                                                                                   
						contentHeight: "50px",                                                                                                                                                                                                                                   
						draggable: true,                                                                                                                                                                                                                                         
						content: [                                                                                                                                                                                                                                               
							new sap.m.Label({                                                                                                                                                                                                                                       
								text: "Delivery Blocking Reason",                                                                                                                                                                                                                      
								textDirection: "RTL",                                                                                                                                                                                                                                  
								design: "Bold"                                                                                                                                                                                                                                         
							}),                                                                                                                                                                                                                                                     
							new sap.m.Input({                                                                                                                                                                                                                                       
								width: "100px",                                                                                                                                                                                                                                        
								fieldWidth: "10px",                                                                                                                                                                                                                                    
								id: "IReasn",                                                                                                                                                                                                                                          
								value: "58",                                                                                                                                                                                                                                           
								showValueHelp: true,                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
								showSuggestion: true,                                                                                                                                                                                                                                  
								suggest: [this.suggestReasons, this],                                                                                                                                                                                                                  
								suggestionItems: {                                                                                                                                                                                                                                     
									path: "/DelReasonSet",                                                                                                                                                                                                                                
									template: new sap.ui.core.Item({                                                                                                                                                                                                                      
										text: "{Lifsp}",                                                                                                                                                                                                                                     
										key: "{Lifsp}"                                                                                                                                                                                                                                       
									})                                                                                                                                                                                                                                                    
								},                                                                                                                                                                                                                                                     
								valueHelpRequest: [this.onF4, this]                                                                                                                                                                                                                    
							})                                                                                                                                                                                                                                                      
						],                                                                                                                                                                                                                                                       
						beginButton: new Button({                                                                                                                                                                                                                                
							type: "Emphasized",                                                                                                                                                                                                                                     
							text: "OK",                                                                                                                                                                                                                                             
							press: function () {                                                                                                                                                                                                                                    
								//Create Claim&nbsp;                                                                                                                                                                                                                                   
								this.createBlocking();                                                                                                                                                                                                                                 
								this.draggableDialog.close();                                                                                                                                                                                                                          
							}.bind(this)                                                                                                                                                                                                                                            
						}),                                                                                                                                                                                                                                                      
						endButton: new Button({                                                                                                                                                                                                                                  
							text: "Close",                                                                                                                                                                                                                                          
							press: function () {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
								this.draggableDialog.close();                                                                                                                                                                                                                          
							}.bind(this)                                                                                                                                                                                                                                            
						})                                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
					//to get access to the global model                                                                                                                                                                                                                       
					this.getView().addDependent(this.draggableDialog);                                                                                                                                                                                                        
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			if (!sMsg) {                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				this.draggableDialog.open();                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Select diallog from Fragment and bind Order reasons in popup                                                                                                                                                                                               
		inputId: "",                                                                                                                                                                                                                                                 
		fragmento: null,                                                                                                                                                                                                                                             
		onF4: function (oEvent) {                                                                                                                                                                                                                                    
			// debugger;                                                                                                                                                                                                                                                
			this.inputId = oEvent.getSource().getId();                                                                                                                                                                                                                  
			if (this.fragmento === null) {                                                                                                                                                                                                                              
				this.fragmento = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentExcl", this);                                                                                                                                                              
				this.fragmento.bindAggregation("items", {                                                                                                                                                                                                                  
					path: "/DelReasonSet",                                                                                                                                                                                                                                    
					parameters: {                                                                                                                                                                                                                                             
						operationMode: "Client"                                                                                                                                                                                                                                  
					},                                                                                                                                                                                                                                                        
					template: new sap.m.DisplayListItem({                                                                                                                                                                                                                     
						label: "{Lifsp}",                                                                                                                                                                                                                                        
						value: "{Vtext}"                                                                                                                                                                                                                                         
					})                                                                                                                                                                                                                                                        
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				this.getView().addDependent(this.fragmento);                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			this.fragmento.open();                                                                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
		//Aftre clicking Ok on popup                                                                                                                                                                                                                                 
		handleTableValueHelpConfirm: function (oEvent) {                                                                                                                                                                                                             
			// debugger;                                                                                                                                                                                                                                                
			var selectedItem = oEvent.getParameter("selectedItem");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var Value = selectedItem.getLabel();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId(this.inputId).setValue(Value);                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
		//Search on Popup Order reasons                                                                                                                                                                                                                              
		onSearchReasonf4: function (oEvent) {                                                                                                                                                                                                                        
			// debugger;                                                                                                                                                                                                                                                
			var oBinding = oEvent.getParameter("itemsBinding");                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var sValue = oEvent.getParameter("value");                                                                                                                                                                                                                  
			var sValueUpp = sValue.toUpperCase();                                                                                                                                                                                                                       
			if (!sValue) {                                                                                                                                                                                                                                              
				oBinding.filter([]);                                                                                                                                                                                                                                       
			} else {                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				var oFilter1 = new sap.ui.model.Filter({                                                                                                                                                                                                                   
					path: "Lifsp",                                                                                                                                                                                                                                            
					operator: FilterOperator.Contains,                                                                                                                                                                                                                        
					value1: sValue,                                                                                                                                                                                                                                           
					caseSensitive: false                                                                                                                                                                                                                                      
				});                                                                                                                                                                                                                                                        
				var oFilter2 = new sap.ui.model.Filter({                                                                                                                                                                                                                   
					path: "Vtext",                                                                                                                                                                                                                                            
					operator: FilterOperator.Contains,                                                                                                                                                                                                                        
					value1: sValue,                                                                                                                                                                                                                                           
					caseSensitive: false                                                                                                                                                                                                                                      
				});                                                                                                                                                                                                                                                        
				var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                    
					filters: [                                                                                                                                                                                                                                                
						oFilter1,                                                                                                                                                                                                                                                
						oFilter2                                                                                                                                                                                                                                                 
					],                                                                                                                                                                                                                                                        
					and: false                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
				var aFilter = [oFilter];                                                                                                                                                                                                                                   
				oBinding.filter(aFilter);                                                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Call backend create method                                                                                                                                                                                                                                 
		createBlocking: function (oEvent) {                                                                                                                                                                                                                          
			// this.btnSource = oEvent.getSource();                                                                                                                                                                                                                     
			var items = this.getView().byId("seltable").getSelectedIndices();                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (items.length === 0) {                                                                                                                                                                                                                                   
				sap.m.MessageBox.warning("Please Select Items To Be Processed!");                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//get all the required info to process future order&nbsp;                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				var tableData = [];                                                                                                                                                                                                                                        
				for (var iRowIndex = 0; iRowIndex < items.length; iRowIndex++) {                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var itemrow = this.getView().byId("seltable").getContextByIndex(items[iRowIndex]).getObject();                                                                                                                                                            
					var selData = {};                                                                                                                                                                                                                                         
					selData.Vbeln = itemrow.Xref1;                                                                                                                                                                                                                            
					selData.Matnr = itemrow.Matnr;                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
					tableData.push(selData);                                                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
				var OrderReasnRef = sap.ui.getCore().byId("IReasn");                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				var OrderReasn = OrderReasnRef ? OrderReasnRef.getValue() : null;                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var that = this;                                                                                                                                                                                                                                           
				this.getView().setBusy(true);                                                                                                                                                                                                                              
				//filll input with navigation property of deep entity                                                                                                                                                                                                      
				var dataObject = {};                                                                                                                                                                                                                                       
				dataObject.Vbeln = selData.Vbeln;                                                                                                                                                                                                                          
				dataObject.DelReason = OrderReasn;                                                                                                                                                                                                                         
				dataObject.ConItemSet = tableData;                                                                                                                                                                                                                         
				var oDataModel = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV", {                                                                                                                                                    
					json: true,                                                                                                                                                                                                                                               
					loadMetadataAsync: true                                                                                                                                                                                                                                   
				});                                                                                                                                                                                                                                                        
				//Call create deep entity&nbsp;                                                                                                                                                                                                                            
				oDataModel.create("/ConHeaderSet", dataObject, {                                                                                                                                                                                                           
					//Sucess call back                                                                                                                                                                                                                                        
					success: function (oData, resp) {                                                                                                                                                                                                                         
						// debugger;                                                                                                                                                                                                                                             
						that.getView().setBusy(false);                                                                                                                                                                                                                           
						                                                                                                                                                                                                                                                         
						var oModel = new JSONModel();                                                                                                                                                                                                                            
						oModel.setData(oData.ConItemSet.results);                                                                                                                                                                                                                
						that.getView().setModel(oModel, "msg");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
						that.getView().getModel("msg").setData(that.getView().getModel("msg").getData().concat(oData.ConItemSet.results));                                                                                                                                       
                                                                                                                                                                                                                                                               
						that.getView().getModel().refresh(true);                                                                                                                                                                                                                 
						that.byId("btnMsgPopover").setVisible(true);                                                                                                                                                                                                             
						that.byId("btnMsgPopover").firePress();                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
						that.getView().byId("seltable").clearSelection();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
					},                                                                                                                                                                                                                                                        
					//Actual error from BAPI has been handled in Success call only with msg variables                                                                                                                                                                         
					//Error call back below if any connectivity issue                                                                                                                                                                                                         
					error: function (err) {                                                                                                                                                                                                                                   
						that.getView().setBusy(false);                                                                                                                                                                                                                           
						sap.m.MessageBox.error("Error in Contract Blocking");                                                                                                                                                                                                    
						//	that.getView().byId("table").clearSelection();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMessagePopoverPress: function (oEvent) {                                                                                                                                                                                                                   
			// debugger;                                                                                                                                                                                                                                                
			this.getViewSettingsDialog("Block_Orders.Block_Orders.view.messagePopover")                                                                                                                                                                                 
				.then(function (oViewSettingsDialog) {                                                                                                                                                                                                                     
					oViewSettingsDialog.open();                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMessageDlgClose: function (oEvent) {                                                                                                                                                                                                                       
			// debugger;                                                                                                                                                                                                                                                
			oEvent.getSource().getParent().close();                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		OnSel: function () {                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (!this.pDialog) {                                                                                                                                                                                                                                        
				this.pDialog = this.loadFragment({                                                                                                                                                                                                                         
					name: "Block_Orders.Block_Orders.view.fragmentSelect",                                                                                                                                                                                                    
					id: "newFrag"                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			this.pDialog.then(function (oDialog) {                                                                                                                                                                                                                      
			                                                                                                                                                                                                                                                            
				var d = new Date();                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				var d2 = d.setFullYear(d.getFullYear(), 0, 1);                                                                                                                                                                                                             
				var d1 = d.setFullYear(d.getFullYear(), 11, 31);                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				var datefrom = this.byId("newFrag--IDatefrom");                                                                                                                                                                                                            
				var fromdateval = datefrom.getValue();                                                                                                                                                                                                                     
				if (fromdateval == "") {                                                                                                                                                                                                                                   
					this.byId("newFrag--IDatefrom").setDateValue(new Date(d2));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				var dateto = this.byId("newFrag--IDateto");                                                                                                                                                                                                                
				var todateval = dateto.getValue();                                                                                                                                                                                                                         
				if (todateval == "") {                                                                                                                                                                                                                                     
					this.byId("newFrag--IDateto").setDateValue(new Date(d1));                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
		                                                                                                                                                                                                                                                             
				var DunInput = this.byId("newFrag--DunInput");                                                                                                                                                                                                             
				var DunInputval = DunInput.getValue();                                                                                                                                                                                                                     
				if (DunInputval == "") {                                                                                                                                                                                                                                   
					this.byId("newFrag--DunInput").setSelectedKeys(["3", "4", "5", ">5"]);                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var Dunning = this.byId("newFrag--Dunning");                                                                                                                                                                                                               
				var Dunningval = Dunning.getValue();                                                                                                                                                                                                                       
				if (DunInputval == "") {                                                                                                                                                                                                                                   
					this.byId("newFrag--Dunning").setSelectedKeys(["ZWDU"]);                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
			                                                                                                                                                                                                                                                            
				var customerInput = this.byId("newFrag--customerInput");                                                                                                                                                                                                   
				var customerval = customerInput.getValue();                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			                                                                                                                                                                                                                                                            
				oDialog.open();                                                                                                                                                                                                                                            
			}.bind(this));                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		Get87: function (oEvent) {                                                                                                                                                                                                                                   
			// debugger;                                                                                                                                                                                                                                                
			var oDataModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                       
	                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			oEvent.getSource().getParent().close();                                                                                                                                                                                                                     
			var that = this;                                                                                                                                                                                                                                            
			that.getView().setBusy(true);                                                                                                                                                                                                                               
			var startdateref = this.getView().byId("newFrag--IDatefrom").getValue();                                                                                                                                                                                    
			var endateref = this.getView().byId("newFrag--IDateto").getValue();                                                                                                                                                                                         
		                                                                                                                                                                                                                                                             
			//------------------------Dunning Level-------------------------------                                                                                                                                                                                      
			if (this.getView().byId("newFrag--DunInput").getSelectedItems().length > 0) {                                                                                                                                                                               
				var DunInputrf = 0;                                                                                                                                                                                                                                        
				DunInputrf = this.getView().byId("newFrag--DunInput").getSelectedItems();                                                                                                                                                                                  
				var DunInputarray = [];                                                                                                                                                                                                                                    
				for (var i = 0; i <= DunInputrf.length; i++) {                                                                                                                                                                                                             
					var item2 = DunInputrf[i];                                                                                                                                                                                                                                
					if (item2 !== undefined) {                                                                                                                                                                                                                                
						// var context1 = item2.getBindingContext();                                                                                                                                                                                                             
						// var value2 = context1.getProperty("key");                                                                                                                                                                                                             
						var value2 = item2.getProperty("key");                                                                                                                                                                                                                   
						DunInputarray.push(value2);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// ---------------------Dunning Procedure------------------------------                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--Dunning").getSelectedItems().length > 0) {                                                                                                                                                                                
				var Dunningrf = 0;                                                                                                                                                                                                                                         
				Dunningrf = this.getView().byId("newFrag--Dunning").getSelectedItems();                                                                                                                                                                                    
				var Dunningarray = [];                                                                                                                                                                                                                                     
				for (var i = 0; i <= Dunningrf.length; i++) {                                                                                                                                                                                                              
					var item3 = Dunningrf[i];                                                                                                                                                                                                                                 
					if (item3 !== undefined) {                                                                                                                                                                                                                                
						var context3 = item3.getBindingContext();                                                                                                                                                                                                                
						var value3 = context3.getProperty("MAHNA");                                                                                                                                                                                                              
						//var value3 = item3.getProperty("key");                                                                                                                                                                                                                 
						Dunningarray.push(value3);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//---------------------Order Type -------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                  
				var sotyprf = 0;                                                                                                                                                                                                                                           
				sotyprf = this.getView().byId("newFrag--sotyp").getSelectedItems();                                                                                                                                                                                        
				var sotyparray = [];                                                                                                                                                                                                                                       
				for (var i = 0; i <= sotyprf.length; i++) {                                                                                                                                                                                                                
					var item4 = sotyprf[i];                                                                                                                                                                                                                                   
					if (item4 !== undefined) {                                                                                                                                                                                                                                
						var context4 = item4.getBindingContext();                                                                                                                                                                                                                
						var value4 = context4.getProperty("Auart");                                                                                                                                                                                                              
						sotyparray.push(value4);                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//---------------------Customer----------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//---------------------Material ----------------------------------                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (startdateref.length > 0) {                                                                                                                                                                                                                              
				oFilter.aFilters.push(new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, startdateref));                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (endateref.length > 0) {                                                                                                                                                                                                                                 
				oFilter.aFilters.push(new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, endateref));                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                  
				sotyparray.forEach(function (val) {                                                                                                                                                                                                                        
					oFilter.aFilters.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, val));                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--Dunning").getSelectedItems().length > 0) {                                                                                                                                                                                
				Dunningarray.forEach(function (val1) {                                                                                                                                                                                                                     
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahna", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--DunInput").getSelectedItems().length > 0) {                                                                                                                                                                               
				DunInputarray.forEach(function (val1) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahns", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			if (sap.ui.getCore().multiMedia !== undefined) {                                                                                                                                                                                                            
				sap.ui.getCore().multiMedia.forEach(function (val2) {                                                                                                                                                                                                      
					oFilter.aFilters.push(new Filter("Matnr", sap.ui.model.FilterOperator.EQ, val2));                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
			if (sap.ui.getCore().multicustomer !== undefined) {                                                                                                                                                                                                         
				sap.ui.getCore().multicustomer.forEach(function (val3) {                                                                                                                                                                                                   
					oFilter.aFilters.push(new Filter("Kunnr", sap.ui.model.FilterOperator.EQ, val3));                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			oDataModel.read("/DunningReportSet", {                                                                                                                                                                                                                      
				filters: oFilter.aFilters,                                                                                                                                                                                                                                 
				success: function (oData, response) {                                                                                                                                                                                                                      
					var oJSONModel7 = that.getView().getModel("Dunning");                                                                                                                                                                                                     
					oJSONModel7.destroy();                                                                                                                                                                                                                                    
					var oJSONModel8 = new JSONModel();                                                                                                                                                                                                                        
					oJSONModel8.setData(oData);                                                                                                                                                                                                                               
					that.getView().setModel(oJSONModel8, "Dunning");                                                                                                                                                                                                          
					sap.ui.getCore().setModel(oJSONModel8, "Dunning");                                                                                                                                                                                                        
					var count = oData.results.length;                                                                                                                                                                                                                         
					that.byId("getrecords").setText(count);                                                                                                                                                                                                                   
					that.getView().setBusy(false);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					sap.m.MessageToast.show("Error in Fetching Data");                                                                                                                                                                                                        
					that.getView().setBusy(false);                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		fragmentselect: null,                                                                                                                                                                                                                                        
		Cancel87: function (oEvent) {                                                                                                                                                                                                                                
			// debugger;                                                                                                                                                                                                                                                
			oEvent.getSource().getParent().close();                                                                                                                                                                                                                     
		                                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
		downlaodRelDocs: function (oEvent) {                                                                                                                                                                                                                         
		                                                                                                                                                                                                                                                             
			var aCols = [],                                                                                                                                                                                                                                             
				oRowBinding, oSettings, oSheet, oTable;                                                                                                                                                                                                                    
			aCols.push({                                                                                                                                                                                                                                                
					label: "Document No",                                                                                                                                                                                                                                     
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Vbeln",                                                                                                                                                                                                                                        
				}, {                                                                                                                                                                                                                                                       
					label: "Type",                                                                                                                                                                                                                                            
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Type"                                                                                                                                                                                                                                          
				},                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				{                                                                                                                                                                                                                                                          
					label: "Message1",                                                                                                                                                                                                                                        
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Msg1"                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				{                                                                                                                                                                                                                                                          
					label: "Message2",                                                                                                                                                                                                                                        
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Msg2"                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				{                                                                                                                                                                                                                                                          
					label: "Message3",                                                                                                                                                                                                                                        
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Msg3"                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			);                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oTable = this.getView().byId("dlgListMessageModel");                                                                                                                                                                                                        
			oRowBinding = oTable.getBinding("items");                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			oSettings = {                                                                                                                                                                                                                                               
				workbook: {                                                                                                                                                                                                                                                
					columns: aCols,                                                                                                                                                                                                                                           
					hierarchyLevel: "Level"                                                                                                                                                                                                                                   
				},                                                                                                                                                                                                                                                         
				dataSource: oRowBinding,                                                                                                                                                                                                                                   
				fileName: "Message_Erro_log.xlsx",                                                                                                                                                                                                                         
				worker: false // We need to disable worker because we are using a MockServer as OData Service                                                                                                                                                              
			};                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oSheet = new Spreadsheet(oSettings);                                                                                                                                                                                                                        
			oSheet.build().finally(function () {                                                                                                                                                                                                                        
				oSheet.destroy();                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		getViewSettingsDialog: function (sDialogFragmentName) {                                                                                                                                                                                                      
			var that = this;                                                                                                                                                                                                                                            
			var pDialog = this._mViewSettingsDialogs[sDialogFragmentName];                                                                                                                                                                                              
			if (!pDialog) {                                                                                                                                                                                                                                             
				pDialog = Fragment.load({                                                                                                                                                                                                                                  
					id: this.getView().getId(),                                                                                                                                                                                                                               
					name: sDialogFragmentName,                                                                                                                                                                                                                                
					controller: this                                                                                                                                                                                                                                          
				}).then(function (oDialog) {                                                                                                                                                                                                                               
					if (Device.system.desktop) {                                                                                                                                                                                                                              
						that.getView().addDependent(oDialog);                                                                                                                                                                                                                    
					}                                                                                                                                                                                                                                                         
					return oDialog;                                                                                                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
				this._mViewSettingsDialogs[sDialogFragmentName] = pDialog;                                                                                                                                                                                                 
				// this.getView().addDependent(this._oMessagePopover);                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
			return pDialog;                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//////////////////////////////////////////////////////////////////////////////////////////////////                                                                                                                                                           
		/* =========================================================== */                                                                                                                                                                                            
		/* Excel download                                          */                                                                                                                                                                                                
		/* =========================================================== */                                                                                                                                                                                            
		downloadExcel: function () {                                                                                                                                                                                                                                 
			var oTable = this.getView().byId("seltable");                                                                                                                                                                                                               
			var EdmType = exportLibrary.EdmType;                                                                                                                                                                                                                        
			var aColumns = oTable.getColumns();                                                                                                                                                                                                                         
			var aTemplate = [];                                                                                                                                                                                                                                         
			for (var i = 0; i < aColumns.length; i++) {                                                                                                                                                                                                                 
				var oColumn = {                                                                                                                                                                                                                                            
					label: aColumns[i].getLabel().getText(),                                                                                                                                                                                                                  
					property: aColumns[i].getSortProperty(),                                                                                                                                                                                                                  
					type: EdmType.String,                                                                                                                                                                                                                                     
				};                                                                                                                                                                                                                                                         
				aTemplate.push(oColumn);                                                                                                                                                                                                                                   
				if (i === 27) {                                                                                                                                                                                                                                            
					aTemplate.pop(oColumn);                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			// debugger;                                                                                                                                                                                                                                                
			var filename = 'Dunning'; //this.getView().byId("seltable").getSelectedItem().getText();                                                                                                                                                                    
			var d = new Date();                                                                                                                                                                                                                                         
			var oDateFormat = sap.ui.core.format.DateFormat.getInstance({                                                                                                                                                                                               
				pattern: "ddMMyyyyhhMMss"                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			var date = oDateFormat.format(d);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oModel = this.getView().getModel("Dunning");                                                                                                                                                                                                            
			var oSheet = new Spreadsheet({                                                                                                                                                                                                                              
				workbook: {                                                                                                                                                                                                                                                
					columns: aTemplate                                                                                                                                                                                                                                        
				},                                                                                                                                                                                                                                                         
				dataSource: this.getView().getModel("Dunning").getProperty("/results"),                                                                                                                                                                                    
				fileName: filename + date                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oSheet.build().then(function () {                                                                                                                                                                                                                           
					sap.m.MessageToast.show("Export Successfull");                                                                                                                                                                                                            
				})                                                                                                                                                                                                                                                         
				.finally(oSheet.destroy);                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMainSearch: function (oEvent) {                                                                                                                                                                                                                            
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			value.toUpperCase();                                                                                                                                                                                                                                        
			var oFilter1 = new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter2 = new sap.ui.model.Filter("Xref1", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter3 = new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter4 = new sap.ui.model.Filter("ShipTo", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter5 = new sap.ui.model.Filter("Matnr", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter6 = new sap.ui.model.Filter("InvoiceValue", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                        
			// var oFilter7 = new sap.ui.model.Filter("Currency", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                         
			var oFilter8 = new sap.ui.model.Filter("Maktx", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter9 = new sap.ui.model.Filter("Vgtyp", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter10 = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter11 = new sap.ui.model.Filter("Pstyv", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter12 = new sap.ui.model.Filter("Kdgrp", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter13 = new sap.ui.model.Filter("Zlsch", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oTable = this.getView().byId("seltable");                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var oTableItems = oTable.getBinding("rows");                                                                                                                                                                                                                
			var orFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                    
				filters: [oFilter1, oFilter2, oFilter3, oFilter4, oFilter5, oFilter6, oFilter8, oFilter9,                                                                                                                                                                  
					oFilter10,oFilter11, oFilter12, oFilter13                                                                                                                                                                                                                 
				],                                                                                                                                                                                                                                                         
				and: false                                                                                                                                                                                                                                                 
			});                                                                                                                                                                                                                                                         
			var aFilter = [orFilter];                                                                                                                                                                                                                                   
			oTableItems.filter(aFilter);                                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onRelease: function (oEvent) {                                                                                                                                                                                                                               
			var oTable = this.getView().byId("seltable");                                                                                                                                                                                                               
			var oselItems = oTable.getSelectedItems();                                                                                                                                                                                                                  
			var oString = "";                                                                                                                                                                                                                                           
			oselItems.forEach(function (data) {                                                                                                                                                                                                                         
				oString += data.getBindingContext().getProperty("Date") + ",";                                                                                                                                                                                             
			});                                                                                                                                                                                                                                                         
			this.getView().setBusy(true);                                                                                                                                                                                                                               
			this.getView().getModel().callFunction("/DunningReportSet", {                                                                                                                                                                                               
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: {                                                                                                                                                                                                                                           
					"Vbeln": oString                                                                                                                                                                                                                                          
				},                                                                                                                                                                                                                                                         
				success: function (res) {                                                                                                                                                                                                                                  
					if (res.results.length) {                                                                                                                                                                                                                                 
						this.getView().getModel("mModel").setData(this.getView().getModel("mModel").getData().concat(res.results));                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					// oTable.clearSelection();                                                                                                                                                                                                                               
					this.getView().getModel().refresh(true);                                                                                                                                                                                                                  
					this.byId("btnMsgPopover").setVisible(true);                                                                                                                                                                                                              
					this.byId("btnMsgPopover").firePress();                                                                                                                                                                                                                   
					// this.getView().getModel().getIgnoreMessages(true);                                                                                                                                                                                                     
					this.getView().setBusy(false);                                                                                                                                                                                                                            
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (err) {                                                                                                                                                                                                                                    
					this.getView().setBusy(false);                                                                                                                                                                                                                            
				}.bind(this)                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/*  Ship To Address Fragment Implementation                    */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
		addressOld: "",                                                                                                                                                                                                                                              
		fragmentAdd: null,                                                                                                                                                                                                                                           
		addObject: "",                                                                                                                                                                                                                                               
		addObjArray: [],                                                                                                                                                                                                                                             
		soldtoAdd: function (oEvent) {                                                                                                                                                                                                                               
			// debugger;                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			this.selectedRowAdd = oEvent.getSource().getBindingContext("Dunning");                                                                                                                                                                                      
			this.btnId = oEvent.getParameter("id");                                                                                                                                                                                                                     
			var addObjectOld = {};                                                                                                                                                                                                                                      
			for (var i = 0; i < this.addObjArray.length; i++) {                                                                                                                                                                                                         
				if (this.addObjArray[i].Id === this.btnId) {                                                                                                                                                                                                               
					addObjectOld = this.addObjArray[i];                                                                                                                                                                                                                       
					this.addObjectOld = addObjectOld;                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			if (!addObjectOld.Id) {                                                                                                                                                                                                                                     
				addObjectOld.Id = this.btnId;                                                                                                                                                                                                                              
				addObjectOld.Soldto = oEvent.getSource().getBindingContext("Dunning").getProperty("Kunnr");                                                                                                                                                                
				addObjectOld.Name1 = oEvent.getSource().getBindingContext("Dunning").getProperty("Name1");                                                                                                                                                                 
				addObjectOld.Ort01 = oEvent.getSource().getBindingContext("Dunning").getProperty("Ort01");                                                                                                                                                                 
				addObjectOld.Land1 = oEvent.getSource().getBindingContext("Dunning").getProperty("Land1");                                                                                                                                                                 
				addObjectOld.PostCode1 = oEvent.getSource().getBindingContext("Dunning").getProperty("PostCode1");                                                                                                                                                         
				addObjectOld.Stras = oEvent.getSource().getBindingContext("Dunning").getProperty("Stras");                                                                                                                                                                 
				this.addObjectOld = addObjectOld;                                                                                                                                                                                                                          
				this.addObjArray.push(addObjectOld);                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			//Create Fragmnet Object                                                                                                                                                                                                                                    
			if (this.fragmentAdd === null) {                                                                                                                                                                                                                            
				this.fragmentAdd = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentAddress", this);                                                                                                                                                         
				this.getView().addDependent(this.fragmentAdd);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId("Name1").setText(addObjectOld.Name1);                                                                                                                                                                                                 
			sap.ui.getCore().byId("Ort01").setText(addObjectOld.Ort01);                                                                                                                                                                                                 
			sap.ui.getCore().byId("Land1").setText(addObjectOld.Land1);                                                                                                                                                                                                 
			sap.ui.getCore().byId("PostCode1").setText(addObjectOld.PostCode1);                                                                                                                                                                                         
			sap.ui.getCore().byId("Stras").setText(addObjectOld.Stras);                                                                                                                                                                                                 
			this.fragmentAdd.setTitle("Sold To Party " + addObjectOld.Soldto);                                                                                                                                                                                          
			var sPath = this.selectedRowAdd.getPath();                                                                                                                                                                                                                  
			this.fragmentAdd.setModel(this.getView().getModel("Dunning"));                                                                                                                                                                                              
			this.fragmentAdd.bindElement(sPath);                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			this.fragmentAdd.open();                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
		cancelAdd: function () {                                                                                                                                                                                                                                     
			this.fragmentAdd.close();                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Bill Cust F4 END	                                                                                                                                                                                
		//Material f4                                                                                                                                                                                                                                                
		      //inputPRDID: "",                                                                                                                                                                                                                                      
		inputMedia: "",                                                                                                                                                                                                                                              
		fragmentProd: null,                                                                                                                                                                                                                                          
		onHelpRequestPRD: function (oEvent) {                                                                                                                                                                                                                        
			this.inputPRDID = oEvent.getSource().getId();                                                                                                                                                                                                               
			if (this.fragmentProd === null) {                                                                                                                                                                                                                           
				this.fragmentProd = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentProd", this);                                                                                                                                                           
				this.fragmentProd.setTitle("Product Value Help");                                                                                                                                                                                                          
				this.getView().addDependent(this.fragmentProd);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentProd.open();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Aftre clicking Ok on popup                                                                                                                                                                                                                                 
		handleHelpConfirm: function (oEvent) {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("selectedItem");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var Value = selectedItem.getLabel();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId(this.inputMedia).setValue(Value);                                                                                                                                                                                                     
			sap.ui.getCore().media = Value ? Value : null;                                                                                                                                                                                                              
			//	this.shipToSelected();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// /Change tokens in Media Multi Input                                                                                                                                                                                                                       
		mediaChange: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed" || value === "removedAll") {                                                                                                                                                                                                        
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("sel").getData().pop({                                                                                                                                                                                                             
					"Matnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("newFrag--productInput").getTokens();                                                                                                                                                                                     
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMedia = aFilter;                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                         
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.getData();                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		// Accept Button Media issue F4                                                                                                                                                                                                                              
		acceptProd: function (oEvent) {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oTable4 = sap.ui.getCore().byId("mySelProdTable"); //mySelProdTable");                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			var selectedItems = oTable4.getItems();                                                                                                                                                                                                                     
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				var aToken = this.getView().byId("newFrag--productInput").getTokens();                                                                                                                                                                                     
				this.getView().byId("newFrag--productInput").destroyTokens([aToken]);                                                                                                                                                                                      
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("sel").getProperty("Matnr");                                                                                                                                                                        
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("newFrag--productInput").addToken(defToken);                                                                                                                                                                                          
					sap.ui.getCore().media = selectedItem;                                                                                                                                                                                                                    
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiMedia = aFilter;                                                                                                                                                                                                                     
				sap.ui.getCore().byId("myProdTable").removeSelections(true);                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				aToken = this.getView().byId("newFrag--productInput").getTokens();                                                                                                                                                                                         
				this.getView().byId("newFrag--productInput").destroyTokens([aToken]);                                                                                                                                                                                      
				sap.ui.getCore().media = null;                                                                                                                                                                                                                             
				sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentProd.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// this.getData();                                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelProd: function () {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			this.fragmentProd.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		deleteSelectionMedia: function (oEvent) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable3 = sap.ui.getCore().byId("mySelProdTable");                                                                                                                                                                                                      
			oTable3.removeItem(selectedItem);                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Medis issue rows selections	                                                                                                                                                                                                                               
		rowSelectionMedia: function (oEvent) {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Matnr");                                                                                                                                                         
					this.getView().getModel("sel").getData().push({                                                                                                                                                                                                           
						"Matnr": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                      
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Matnr");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("sel").getData().push({                                                                                                                                                                                                           
						"Matnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                      
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("sel").getData().pop({                                                                                                                                                                                                            
						"Matnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                      
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("sel").setData([]);                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		clearProd: function () {                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var oTable2 = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                         
			var selectedItems = oTable2.getSelectedItems();                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable2.removeSelections(true);                                                                                                                                                                                                                            
				var aToken = this.getView().byId("newFrag--productInput").getTokens();                                                                                                                                                                                     
				this.getView().byId("newFrag--productInput").destroyTokens([aToken]);                                                                                                                                                                                      
				sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("sel").setData([]);                                                                                                                                                                                                                 
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Serch Media issues on F4 Media issue                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		searchEH: function (oEvent) {                                                                                                                                                                                                                                
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Maktx", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable1 = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                         
			var oTableItems = oTable1.getBinding("items");                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			oTableItems.filter(oFilter);                                                                                                                                                                                                                                
			oTable1.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Customer F4 END	                                                                                                                                                                                 
		//Customer f4                                                                                                                                                                                                                                                
		     //Customer: "",                                                                                                                                                                                                                                         
		inputcustomer: "",                                                                                                                                                                                                                                           
		fragmentcustomer: null,                                                                                                                                                                                                                                      
		onHelpRequestKunnr: function (oEvent) {                                                                                                                                                                                                                      
			this.inputkunnr = oEvent.getSource().getId();                                                                                                                                                                                                               
			if (this.fragmentcustomer === null) {                                                                                                                                                                                                                       
				this.fragmentcustomer = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentcustomer", this);                                                                                                                                                   
				this.fragmentcustomer.setTitle("Customer Value Help");                                                                                                                                                                                                     
				this.getView().addDependent(this.fragmentcustomer);                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentcustomer.open();                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Aftre clicking Ok on popup                                                                                                                                                                                                                                 
		handleHelpcustmerConfirm: function (oEvent) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("selectedItem");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var Value = selectedItem.getLabel();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId(this.inputcustomer).setValue(Value);                                                                                                                                                                                                  
			sap.ui.getCore().customer = Value ? Value : null;                                                                                                                                                                                                           
			//	this.shipToSelected();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// /Change tokens in Media Multi Input                                                                                                                                                                                                                       
		customerChange: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed" || value === "removedAll") {                                                                                                                                                                                                        
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("sel1").getData().pop({                                                                                                                                                                                                            
					"Kunnr": text                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("newFrag--customerInput").getTokens();                                                                                                                                                                                    
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multicustomer = aFilter;                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multicustomer = [];                                                                                                                                                                                                                      
					sap.ui.getCore().customer = null;                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.getData();                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		// Accept Button Media issue F4                                                                                                                                                                                                                              
		acceptcustomer: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oTablea = sap.ui.getCore().byId("mySelProdTable1"); //mySelProdTable");                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var selectedItems = oTablea.getItems();                                                                                                                                                                                                                     
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				var aToken = this.getView().byId("newFrag--customerInput").getTokens();                                                                                                                                                                                    
				this.getView().byId("newFrag--customerInput").destroyTokens([aToken]);                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("sel1").getProperty("Kunnr");                                                                                                                                                                       
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("newFrag--customerInput").addToken(defToken);                                                                                                                                                                                         
					sap.ui.getCore().customer = selectedItem;                                                                                                                                                                                                                 
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multicustomer = aFilter;                                                                                                                                                                                                                  
				sap.ui.getCore().byId("myProdTable1").removeSelections(true);                                                                                                                                                                                              
			} else {                                                                                                                                                                                                                                                    
				aToken = this.getView().byId("newFrag--customerInput").getTokens();                                                                                                                                                                                        
				this.getView().byId("newFrag--customerInput").destroyTokens([aToken]);                                                                                                                                                                                     
				sap.ui.getCore().customer = null;                                                                                                                                                                                                                          
				sap.ui.getCore().multicustomer = [];                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentcustomer.close();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			// this.getData();                                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelcustomer: function () {                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			this.fragmentcustomer.close();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		deleteSelectioncustomer: function (oEvent) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTableb = sap.ui.getCore().byId("mySelProdTable1");                                                                                                                                                                                                     
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTableb.removeItem(selectedItem);                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Medis issue rows selections	                                                                                                                                                                                                                               
		rowSelectioncustomer: function (oEvent) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Kunnr");                                                                                                                                                         
					this.getView().getModel("sel1").getData().push({                                                                                                                                                                                                          
						"Kunnr": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                     
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Kunnr");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("sel1").getData().push({                                                                                                                                                                                                          
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                     
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("sel1").getData().pop({                                                                                                                                                                                                           
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                     
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("sel1").setData([]);                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		clearcustomer: function () {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var oTablec = sap.ui.getCore().byId("myProdTable1");                                                                                                                                                                                                        
			var selectedItems = oTablec.getSelectedItems();                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTablec.removeSelections(true);                                                                                                                                                                                                                            
				var aToken = this.getView().byId("newFrag--customerInput").getTokens();                                                                                                                                                                                    
				this.getView().byId("newFrag--customerInput").destroyTokens([aToken]);                                                                                                                                                                                     
				sap.ui.getCore().multicustomer = [];                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("sel1").setData([]);                                                                                                                                                                                                                
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Serch Media issues on F4 Media issue                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		searchEH2: function (oEvent) {                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Name1", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTablee = sap.ui.getCore().byId("myProdTable1");                                                                                                                                                                                                        
			var oTableItems = oTablee.getBinding("items");                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			oTableItems.filter(oFilter);                                                                                                                                                                                                                                
			oTablee.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		////EOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Binds the view to the object path.                                                                                                                                                                                                                        
		 * @function                                                                                                                                                                                                                                                 
		 * @param {string} sObjectPath path to the object to be bound                                                                                                                                                                                                
		 * @private                                                                                                                                                                                                                                                  
		 */                                                                                                                                                                                                                                                          
		_bindView: function (sObjectPath) {                                                                                                                                                                                                                          
			var oViewModel = this.getModel("objectView"),                                                                                                                                                                                                               
				oDataModel = this.getModel();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.getView().bindElement({                                                                                                                                                                                                                                
				path: sObjectPath,                                                                                                                                                                                                                                         
				events: {                                                                                                                                                                                                                                                  
					change: this._onBindingChange.bind(this),                                                                                                                                                                                                                 
					dataRequested: function () {                                                                                                                                                                                                                              
						oDataModel.metadataLoaded().then(function () {                                                                                                                                                                                                           
							// Busy indicator on view should only be set if metadata is loaded,                                                                                                                                                                                     
							// otherwise there may be two busy indications next to each other on the                                                                                                                                                                                
							// screen. This happens because route matched handler already calls '_bindView'                                                                                                                                                                         
							// while metadata is loaded.                                                                                                                                                                                                                            
							oViewModel.setProperty("/busy", true);                                                                                                                                                                                                                  
						});                                                                                                                                                                                                                                                      
					},                                                                                                                                                                                                                                                        
					dataReceived: function () {                                                                                                                                                                                                                               
						oViewModel.setProperty("/busy", false);                                                                                                                                                                                                                  
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_onBindingChange: function () {                                                                                                                                                                                                                              
			var oView = this.getView(),                                                                                                                                                                                                                                 
				// oViewModel = this.getModel("objectView"),                                                                                                                                                                                                               
				oElementBinding = oView.getElementBinding();                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
		}                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
	});                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
});                                                                                                                                                                                                                                                            