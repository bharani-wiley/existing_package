sap.ui.define(["./BaseController","sap/ui/core/IconPool","sap/ui/model/json/JSONModel","sap/m/Link","sap/m/MessageItem","sap/m/MessageView","sap/m/Button","sap/m/Dialog","sap/m/Bar","sap/m/Title","../model/formatter","sap/ui/model/Filter","sap/ui/model/S+
orter","sap/ui/model/odata/v2/ODataModel","sap/ui/model/FilterOperator","sap/m/MessageToast"],function(e,t,i,s,a,n,o,r,l,u,m,d,c,g,b){"use strict";var f,T,h,y,D,p,v;return e.extend("journal_upload.JOURNAL_UPLOAD.controller.Worklist",{formatter:m,onInit:f+
unction(){var e,s,a=this.byId("table");this.localModel=new sap.ui.model.json.JSONModel;this.getView().setModel(this.localModel,"localModel");this._initP13nData();D=this.getView().byId("table").getColumns();s=a.getBusyIndicatorDelay();this._aTableSearchSt+
ate=[];e=new i({worklistTableTitle:this.getResourceBundle().getText("worklistTableTitle"),shareOnJamTitle:this.getResourceBundle().getText("worklistTitle"),shareSendEmailSubject:this.getResourceBundle().getText("shareSendEmailWorklistSubject"),shareSendE+
mailMessage:this.getResourceBundle().getText("shareSendEmailWorklistMessage",[location.href]),tableNoDataText:this.getResourceBundle().getText("tableNoDataText"),tableBusyDelay:0});this.setModel(e,"worklistView");a.attachEventOnce("updateFinished",functi+
on(){e.setProperty("/tableBusyDelay",s)});this.oMessageView=new n;var r=this;var m=new sap.m.MessageItem({type:"{type}",title:"{title}",description:"{description}",subtitle:"{subtitle}",counter:"{counter}",markupDescription:"{markupDescription}"});debugg+
er;this.logModel=new i;this.oMessageView=new sap.m.MessageView({showDetailsPageHeader:false,itemSelect:function(){d.setVisible(true)},items:{path:"/",template:m}});var d=new o({icon:t.getIconURI("nav-back"),visible:false,press:function(){r.oMessageView.n+
avigateBack();this.setVisible(false)}});this.oDialog=new sap.m.Dialog({resizable:true,content:this.oMessageView,state:"Error",beginButton:new o({press:function(){this.getParent().close()},text:"Close"}),customHeader:new l({contentLeft:[d],contentMiddle:[+
new u({text:"Error Log"})]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false});f=undefined;T=undefined;h=undefined;y=undefined;this.handleFullScreen()},onUpdateFinished:function(e){var t,i=e.getSource(),s=e.getParameter("total");if(s&&i.ge+
tBinding("items").isLengthFinal()){t=this.getResourceBundle().getText("worklistTableTitleCount",[s])}else{t=this.getResourceBundle().getText("worklistTableTitle")}this.getModel("worklistView").setProperty("/worklistTableTitle",t)},onPress:function(e){thi+
s._showObject(e.getSource())},onNavBack:function(){history.go(-1)},onRefresh:function(){debugger;this.localModel.setData();this.localModel.refresh(true);this.getView().byId("fileUploader").setValue("");f=undefined;T=undefined;h=undefined;y=undefined;this+
._setInitialData();this.getView().byId("filterPanel").updateBindings();this.getView().byId("subCount").setText("");this.getView().byId("begening").setEnabled(false);this.getView().byId("previous").setEnabled(false);this.getView().byId("next").setEnabled(+
false);this.getView().byId("end").setEnabled(false)},_showObject:function(e){this.getRouter().navTo("object",{objectId:e.getBindingContext().getProperty("SlNo")})},_applySearch:function(e){var t=this.byId("table"),i=this.getModel("worklistView");debugger+
;t.getBinding("rows").filter(e,"Application");if(e.length!==0){i.setProperty("/tableNoDataText",this.getResourceBundle().getText("worklistNoDataWithSearchText"))}},_applySort:function(e){var t=this.byId("table"),i=this.getModel("worklistView");debugger;t+
.getBinding("rows").sort(e,"Application");if(e.length!==0){i.setProperty("/tableNoDataText",this.getResourceBundle().getText("worklistNoDataWithSearchText"))}},OnUploadPress:function(e){this._import(e.getParameter("files")&&e.getParameter("files")[0])},_+
import:function(e){var t=this;var i={};var s=0,a=0;f=undefined;T=undefined;h=undefined;y=undefined;if(e&&window.FileReader){var n=new FileReader;n.onload=function(e){var n=e.target.result;var o=XLSX.read(n,{type:"binary"});debugger;i=XLSX.utils.sheet_to_+
row_object_array(o.Sheets[o.SheetNames[0]]);i.shift();var r=/^[0-9]{4}\/(0[1-9]|1[0-2])\/(0[1-9]|[1-2][0-9]|3[0-1])$/;var l=/^[+-]?(\d+(\.\d+)?)$/;for(var u in i){if(i[u]["ZFBDT"]){if(!r.test(i[u]["ZFBDT"])){i[u]["status"]="Error";i[u]["bddstatus"]="Erro+
r"}}if(i[u]["VALUT"]){if(!r.test(i[u]["VALUT"])){i[u]["status"]="Error";i[u]["vldstatus"]="Error"}}if(i[u]["DMBTR"]){if(!l.test(i[u]["DMBTR"])){i[u]["status"]="Error";i[u]["amtstatus"]="Error"}}if(i[u]["DMBTR"]<0){s+=parseFloat(i[u]["DMBTR"])*-1}else{a+=+
parseFloat(i[u]["DMBTR"])}}t.localModel.setData({items:i,TOTDEB:s,TOTCRD:a});t.localModel.refresh(true);if(i.length>6){t.getView().byId("table").setFirstVisibleRow(0);t.getView().byId("subCount").setText("0 - 6");t.getView().byId("begening").setEnabled(t+
rue);t.getView().byId("previous").setEnabled(true);t.getView().byId("next").setEnabled(true);t.getView().byId("end").setEnabled(true)}};n.onerror=function(e){};n.readAsBinaryString(e)}},onPostPress:function(e){var t={};var s={};var a=[];var n;p=new Date;+
t=this.localModel.getData();s=t;for(var o in s.items){var r={};if(s.items[o]["SNO"]){r["SlNo"]=String(s.items[o]["SNO"])}else{r["SlNo"]="0001"}if(s.items[o]["BKTXT"]){r["HeaderTxt"]=String(s.items[o]["BKTXT"])}else{r["HeaderTxt"]=""}if(s.items[o]["BUKRS"+
]){r["CompCode"]=String(s.items[o]["BUKRS"])}else{r["CompCode"]=""}if(s.items[o]["BLDAT"]){r["DocDate"]="/Date("+Date.parse(s.items[o]["BLDAT"]+" 00:00:00 GMT")+")/"}else{}if(s.items[o]["BUDAT"]){r["PstngDate"]="/Date("+Date.parse(s.items[o]["BUDAT"]+" 0+
0:00:00 GMT")+")/"}else{}if(s.items[o]["WWERT"]){r["TransDate"]="/Date("+Date.parse(s.items[o]["WWERT"]+" 00:00:00 GMT")+")/"}else{}if(s.items[o]["MONAT"]){r["FisPeriod"]=String(s.items[o]["MONAT"])}else{r["FisPeriod"]="00"}if(s.items[o]["BLART"]){r["Doc+
Type"]=String(s.items[o]["BLART"])}else{r["DocType"]=""}if(s.items[o]["XBLNR"]){r["RefDocNo"]=String(s.items[o]["XBLNR"])}else{r["RefDocNo"]=""}r["ItemnoAcc"]="0000000000";if(s.items[o]["HKONT"]){r["GlAccount"]=String(s.items[o]["HKONT"])}else{r["GlAccou+
nt"]=""}if(s.items[o]["SGTXT"]){r["ItemText"]=String(s.items[o]["SGTXT"])}else{r["ItemText"]=""}if(s.items[o]["PRCTR"]){r["ProfitCtr"]=String(s.items[o]["PRCTR"])}else{r["ProfitCtr"]=""}r["Segment"]="";if(s.items[o]["KOSTL"]){r["Costcenter"]=String(s.ite+
ms[o]["KOSTL"])}else{r["Costcenter"]=""}r["AllocNmbr"]="";if(s.items[o]["MWSKZ"]){r["TaxCode"]=String(s.items[o]["MWSKZ"])}else{r["TaxCode"]=""}if(s.items[o]["TXJCD"]){r["Taxjurcode"]=String(s.items[o]["TXJCD"])}else{r["Taxjurcode"]=""}r["CsTransT"]="";r+
["ItemnoTax"]="000000";r["Orderid"]="";if(s.items[o]["PS_POSID"]){r["WbsElement"]=String(s.items[o]["PS_POSID"])}else{r["WbsElement"]=""}if(s.items[o]["VALUT"]){r["ValueDate"]="/Date("+Date.parse(s.items[o]["VALUT"]+" 00:00:00 GMT")+")/"}else{}if(s.items+
[o]["HBKID"]){r["Housebankid"]=String(s.items[o]["HBKID"])}else{r["Housebankid"]=""}if(s.items[o]["HKTID"]){r["Housebankacctid"]=String(s.items[o]["HKTID"])}else{r["Housebankacctid"]=""}if(s.items[o]["FIPEX"]){r["CmmtItemLong"]=String(s.items[o]["FIPEX"]+
)}else{r["CmmtItemLong"]=""}if(s.items[o]["WAERS"]){r["Currency"]=String(s.items[o]["WAERS"])}else{r["Currency"]=""}if(s.items[o]["DMBTR"]){r["AmtDoccur"]=String(s.items[o]["DMBTR"])}else{r["AmtDoccur"]="0.0000"}r["TestRun"]="";if(s.items[o]["KUNNR"]){r[+
"KUNNR"]=String(s.items[o]["KUNNR"])}else{r["KUNNR"]=""}if(s.items[o]["LIFNR"]){r["LIFNR"]=String(s.items[o]["LIFNR"])}else{r["LIFNR"]=""}if(s.items[o]["VBUND"]){r["VBUND"]=String(s.items[o]["VBUND"])}else{r["VBUND"]=""}if(s.items[o]["ITM_BUKRS"]){r["ITM+
_BUKRS"]=String(s.items[o]["ITM_BUKRS"])}else{r["ITM_BUKRS"]=""}if(s.items[o]["ZTERM"]){r["ZTERM"]=String(s.items[o]["ZTERM"])}else{r["ZTERM"]=""}if(s.items[o]["ZLSCH"]){r["ZLSCH"]=String(s.items[o]["ZLSCH"])}else{r["ZLSCH"]=""}a.push(r)}var l={};l.SlNo=+
a[0]["SlNo"];l["CompCode"]=a[0]["CompCode"];l["DocType"]=a[0]["DocType"];l["Action"]=e;l["Document"]="";l["Year"]="0000";l["Remarks"]="";l["JEHDRTOITEM"]=a;debugger;this.createModel=new i(l);this.getView().setModel(this.createModel,"createCollection");va+
r u=this.getView().getModel("createCollection").getData();var m=this.getOwnerComponent().getModel();var d={success:this._handleCreateSuccess,error:this._handleCreateError};m.create("/JEHEADERSet",u,d);sap.ui.core.BusyIndicator.show();debugger;var c=this.+
localModel.getData();c.Document=window.documentNo;this.localModel.setData(c);a=JSON.stringify(n)},_renameKey:function(e,t,i){e[i]=e[t];delete e[t]},_handleCreateSuccess:function(e,t){debugger;sap.ui.core.BusyIndicator.hide();var i="";if(e.Document){i=e.R+
emarks+"\nDocument Number: "+e.Document+"\nCompany Code: "+e.CompCode+"\nFiscal Year: "+e.Year;var s=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZJE_UPLOAD_03_SRV",{json:true,loadMetadataAsync:true});var a="";if(t.data.Action=="PARK")a="FBV0+
";else if(t.data.Action=="POST")a="FB03";var n="/JETCODESet(TCODE='"+a+"',BELNR='"+e.Document+"',BUKRS='"+e.CompCode+"',GJAHR='"+e.Year+"')";sap.m.MessageBox.success(i,{actions:["View Document",sap.m.MessageBox.Action.CLOSE],emphasizedAction:"View Docume+
nt",onClose:function(e){debugger;if(e=="View Document"){s.read(n,{success:function(e){debugger;if(e)window.open(e.Linkref1)},error:function(e){if(e)sap.m.MessageToast.show("Error while redirecting document")}})}}})}else{i=e.Remarks;sap.m.MessageBox.succe+
ss(i)}f=e.Document;h=e.Year;T=e.CompCode},_handleCreateError:function(e){debugger;var t=new Date;v=(t-p)/1e3;if(e){sap.ui.core.BusyIndicator.hide();if(e.responseText){var s=JSON.parse(e.responseText);var a=s.error.innererror.errordetails;y=a;var n="";if(+
a.length>0){n=s.error.message.value+"\n Please check Errorlog for more information";sap.m.MessageBox.error(n,{actions:["View Error Log",sap.m.MessageBox.Action.CLOSE],emphasizedAction:"View Error Log",onClose:function(e){debugger;if(e=="View Error Log"){+
var t=new sap.m.MessageItem({type:"{type}",title:"{title}",description:"{description}",subtitle:"{subtitle}",counter:"{counter}",markupDescription:"{markupDescription}"});var s=new i;var a=new sap.m.MessageView({showDetailsPageHeader:false,itemSelect:fal+
se,items:{path:"/",template:t}});if(y){var n=y;var r=[];for(var m in n){var d={};if(n[m]["message"].length>0){if(n[m]["severity"]=="error"){d["type"]="Error"}d["title"]=n[m]["message"];d["subtitle"]=n[m]["code"];d["description"]=" ";r.push(d)}}}s.setData+
(r);a.setModel(s);var c=new sap.m.Dialog({resizable:true,content:a,state:"Error",beginButton:new o({press:function(){this.getParent().close()},text:"Close"}),customHeader:new l({contentMiddle:[new u({text:"Error Log"})]}),contentHeight:"50%",contentWidth+
:"50%",verticalScrolling:false});c.open()}}})}else{n=s.error.message.value;sap.m.MessageBox.error(n)}}}},handleDialogPress:function(){debugger;this.oMessageView.setModel(this.localModel.errorDetails);this.oMessageView.navigateBack();this.oDialog.open()},+
onLogPress:function(){debugger;if(y){var e=y;var t=[];for(var i in e){var s={};if(e[i]["message"].length>0){if(e[i]["severity"]=="error"){s["type"]="Error"}s["title"]=e[i]["message"];s["subtitle"]=e[i]["code"];s["description"]=" ";t.push(s)}}this.logMode+
l.setData(t);this.oMessageView.setModel(this.logModel);this.oMessageView.navigateBack();this.oDialog.open()}else{sap.m.MessageToast.show("No Logs Available")}},onShowDoc:function(){debugger;if(f){var e="Document Number: "+f+"\nCompany Code: "+T+"\nFiscal+
 Year: "+h;var t=this.getOwnerComponent().getModel();if(!f)f="";if(!T)T="";if(!h)h="";var i="";var s=this.createModel.getData();if(s.Action=="PARK")i="FBV0";else if(s.Action=="POST")i="FB03";var a={success:this._handleUrlSuccess,error:this._handleUrlErro+
r};var n="/JETCODESet(TCODE='"+i+"',BELNR='"+f+"',BUKRS='"+T+"',GJAHR='"+h+"')";debugger;sap.m.MessageBox.information(e,{title:"Document Information",actions:["View Document",sap.m.MessageBox.Action.CLOSE],emphasizedAction:"View Document",onClose:functio+
n(e){debugger;if(e=="View Document")t.read(n,a)}})}else{sap.m.MessageToast.show("No Document Info Available")}},onDownTemplate:function(){debugger;var e=[{SNO:"S.no Number*",BUKRS:"Company Code* BUKRS",BLART:"Document Type*  BLART",BLDAT:"Document Date* +
BLDAT",BUDAT:"Posting date*  BUDAT",MONAT:"Fiscal Period MONAT",WAERS:"Currency*  WAERS",XBLNR:"Reference*    XBLNR",BKTXT:"Header Text*             BKTXT",LDGRP:"Ledger Group            LDGRP",KURSF_EXT:"Exchange Rate     KURSF_EXT",WWERT:"Currency Tran+
salation date*  WWERT",PARGB_HDR:"Partner Business Area  PARGB_HDR",HKONT:"GL Account#* HKONT",KUNNR:"Customer",LIFNR:"Vendor",DMBTR:"Amount in company code currency*  DMBTR",DMBE2:"Amount in second local currency      DMBE2",ZTERM:"Payment Terms     ZTE+
RM",ZSCHL:"Payment Method   ZSCHL",ZFBDT:"Base line Due date      ZFBDT",ZUONR:"Assignment   ZUONR",SGTXT:"Item text*                                                         SGTXT ",PRCTR:"Profit Center*    PRCTR",SEGMENT:"Segment   SEGMENT",KOSTL:"Cost +
Center     KOSTL",MWSKZ:"tax code**   MWSKZ",TXJCD:"Tax ax Jurisdiction**   TXJCD",ZUFNR:"Order number    ZUFNR",PS_POSID:"WBS Element      PS_POSID",VALUT:"Value Date            VALUT",HBKID:"House Bank           HBKID",HKTID:"House Bank Account     HKT+
ID",VUBND:"Trading Partner       VUBND",ITM_BUKRS:"Trading Partner Company code",FIPEX:"Commetment Item       FIPEX",RMVCT:"Transaction Type     RMVCT",SP_GL_IND:"Special GL Indicator   SP_GL_IND"}];var t=[{"S.no Number*":'1. This template can be used fo+
r  below scenarios:\na) AR Customer Invoice including intercompany. Document Type "DR".\nb) AR Cutomer Debit Memo including Intercompany. Document Type "DZ"\nc) AR one-time customer Invoices. In this template fields highlighted                           +
                                                 2.Fields which are mentioned with * are mandatory fields.                                                                                                             3. Fields wich are colored with gray co+
lor are one time customer fields'}];var i=XLSX.utils.json_to_sheet(e);var s=XLSX.utils.json_to_sheet(t);var a=XLSX.utils.book_new();XLSX.utils.book_append_sheet(a,i,"AR Invoice Invoice Template");XLSX.utils.book_append_sheet(a,s,"Template Document");var +
n="template.xlsx";XLSX.writeFile(a,n)},_setInitialData:function(){this._initP13nData();var e=this.getView();var t=e.byId("columnsPanel");var i=e.byId("sortPanel");debugger;t.setP13nData(this._initialData.columns);i.setP13nData(this._initialData.sort)},on+
ContainerOpen:function(e){var t=this.getView();var i=t.byId("p13nPopup");if(!this._bIsOpen){this._setInitialData();this._bIsOpen=true}i.open(e.getSource())},onClose:function(e){if(e.getParameter("reason")=="Ok"){var t={columns:this.getView().byId("column+
sPanel").getP13nData(),sort:this.getView().byId("sortPanel").getP13nData()};this.getView().byId("table").removeAllColumns();for(var i in t.columns){if(t.columns[i]["visible"]==true){for(var s in D){var a="";a="container-JOURNAL_UPLOAD---worklist--"+t.col+
umns[i]["name"];if(D[s]["sId"]==a)this.getView().byId("table").insertColumn(D[s],i)}}}var n=this.filterModel.getData();var o=[];for(var r in n.items){if(n.items[r]["exclude"]==false){if(n.items[r]["value2"])var l=new d(n.items[r]["key"],n.items[r]["opera+
tion"],n.items[r]["value1"],n.items[r]["value2"]);else l=new d(n.items[r]["key"],n.items[r]["operation"],n.items[r]["value1"])}else{l=new d(n.items[r]["key"],"NE",n.items[r]["value1"])}o.push(l)}this._applySearch(o);debugger;var u=[];for(var m in t.sort)+
{if(t.sort[m]["sorted"]==true){var g=new c(t.sort[m]["name"],t.sort[m]["descending"],true);u.push(g)}}this._applySort(u)}},onFilterClose:function(e){if(e=="Ok"){var t={columns:this.getView().byId("columnsPanel").getP13nData(),sort:this.getView().byId("so+
rtPanel").getP13nData()};this.getView().byId("table").removeAllColumns();for(var i in t.columns){if(t.columns[i]["visible"]==true){for(var s in D){var a="";a="container-JOURNAL_UPLOAD---worklist--"+t.columns[i]["name"];if(D[s]["sId"]==a)this.getView().by+
Id("table").insertColumn(D[s],i)}}}debugger;var n=this.filterModel.getData();var o=[];for(var r in n.items){if(n.items[r]["exclude"]==false){if(n.items[r]["value2"])var l=new d(n.items[r]["key"],n.items[r]["operation"],n.items[r]["value1"],n.items[r]["va+
lue2"]);else l=new d(n.items[r]["key"],n.items[r]["operation"],n.items[r]["value1"])}else{l=new d(n.items[r]["key"],"NE",n.items[r]["value1"])}o.push(l)}this._applySearch(o)}},reset:function(e){this._setInitialData();this.getView().byId("filterPanel").up+
dateBindings()},onAddFilter:function(e){debugger;if(e.getParameter("reason")=="added"){var t=e.getParameter("itemData");var i=this.filterModel.getData();for(var s in i.keys){if(i.keys[s].key==t.columnKey){t.key=i.keys[s].key;t.columnKey=i.keys[s].columnK+
ey;if(i.keys[s].type=="date"){if(t.value1!==null)t.value1=this.convertDateFormat(t.value1);if(t.value2!==null)t.value2=this.convertDateFormat(t.value2)}}}i.items.push(t);this.filterModel.setData({items:i.items,keys:i.keys})}else if(e.getParameter("reason+
")=="removed"){i=this.filterModel.getData();i.items.splice(e.getParameter("index"),1);this.filterModel.setData({items:i.items,keys:i.keys})}else if(e.getParameter("reason")=="updated"){var a=e.getParameter("itemData");i=this.filterModel.getData();for(var+
 n in i.keys){if(i.keys[n].key==a.columnKey){a.key=i.keys[n].key;a.columnKey=i.keys[n].columnKey;if(i.keys[n].type=="date"){if(a.value1!==null)a.value1=this.convertDateFormat(t.value1);if(a.value2!==null)a.value2=this.convertDateFormat(t.value2)}}}i.item+
s[e.getParameter("index")]=a;this.filterModel.setData({items:i.items,keys:i.keys})}debugger;this.onFilterClose("Ok")},convertDateFormat:function(e){var t=new Date(e),i=("0"+(t.getMonth()+1)).slice(-2),s=("0"+t.getDate()).slice(-2);return[t.getFullYear(),+
i,s].join("/")},onFs:function(){if(this.getView().byId("fs").getIcon()=="sap-icon://full-screen"){this.getView().byId("Report1").setVisible(false);this.getView().byId("SimpleForm2").setVisible(false);this.getView().byId("fs").setIcon("sap-icon://exit-ful+
l-screen");this.getView().byId("fs").setTooltip("Exit Full Screen");var e=this.getView().byId("table").getVisibleRowCount();e=e+2;this.getView().byId("table").setVisibleRowCount(e)}else{this.getView().byId("Report1").setVisible(true);this.getView().byId(+
"SimpleForm2").setVisible(true);this.getView().byId("fs").setIcon("sap-icon://full-screen");e=this.getView().byId("table").getVisibleRowCount();e=e-2;this.getView().byId("table").setVisibleRowCount(e)}},_initP13nData:function(){this._initialData={columns+
:[{visible:true,name:"HKONT",label:"GL Account"},{visible:true,name:"KUNNR",label:"Customer"},{visible:true,name:"LIFNR",label:"Vendor"},{visible:true,name:"DMBTR",label:"Amount"},{visible:true,name:"ZTERM",label:"Payment Terms"},{visible:true,name:"ZSCH+
L",label:"Payment Method"},{visible:true,name:"ZFBDT",label:"Baseline due date"},{visible:true,name:"ZUONR",label:"Assignment"},{visible:true,name:"SGTXT",label:"Item Text"},{visible:true,name:"PRCTR",label:"Profit Center"},{visible:true,name:"SEGMENT",l+
abel:"Segment"},{visible:true,name:"KOSTL",label:"Cost Center"},{visible:true,name:"MWSKZ",label:"Tax Code"},{visible:true,name:"TXJCD",label:"Tax Jurisdiction"},{visible:true,name:"ZUFNR",label:"Order Number"},{visible:true,name:"PS_POSID",label:"WBS El+
ement"},{visible:true,name:"VALUT",label:"Value date"},{visible:true,name:"HBKID",label:"House Bank"},{visible:true,name:"HKTID",label:"House Bank Account"},{visible:true,name:"VUBND",label:"Trading Partner"},{visible:true,name:"ITM_BUKRS",label:"Trading+
 Partner Company Code"},{visible:true,name:"FIPEX",label:"Commentment item"},{visible:true,name:"RMVCT",label:"Transaction Type"},{visible:true,name:"SP_GL_IND",label:"Special GL indicator"},{visible:true,name:"DMBE2",label:"Amount in second local curren+
cy"}],sort:[{sorted:false,name:"HKONT",label:"GL Account",descending:false},{sorted:false,name:"KUNNR",label:"Customer"},{sorted:false,name:"LIFNR",label:"Vendor"},{sorted:false,name:"DMBTR",label:"Amount",descending:false},{sorted:false,name:"ZTERM",lab+
el:"Payment Terms"},{sorted:false,name:"ZSCHL",label:"Payment Method"},{sorted:false,name:"ZFBDT",label:"Baseline due date"},{sorted:false,name:"ZUONR",label:"Assignment"},{sorted:false,name:"SGTXT",label:"Item Text"},{sorted:false,name:"PRCTR",label:"Pr+
ofit Center"},{sorted:false,name:"SEGMENT",label:"Segment"},{sorted:false,name:"KOSTL",label:"Cost Center"},{sorted:false,name:"MWSKZ",label:"Tax Code"},{sorted:false,name:"TXJCD",label:"Tax Jurisdiction"},{sorted:false,name:"ZUFNR",label:"Order Number"}+
,{sorted:false,name:"PS_POSID",label:"WBS Element"},{sorted:false,name:"VALUT",label:"Value date"},{sorted:false,name:"HBKID",label:"House Bank"},{sorted:false,name:"HKTID",label:"House Bank Account"},{sorted:false,name:"VUBND",label:"Trading Partner"},{+
sorted:false,name:"ITM_BUKRS",label:"Trading Partner Company Code"},{sorted:false,name:"FIPEX",label:"Commentment item"},{sorted:false,name:"RMVCT",label:"Transaction Type"},{sorted:false,name:"SP_GL_IND",label:"Special GL indicator"},{sorted:false,name:+
"DMBE2",label:"Amount in second local currency"}],group:[{grouped:false,name:"HKONT",label:"GL Account"},{grouped:false,name:"DMBTR",label:"Amount"}]};var e=[];var t=[{key:"HKONT",columnKey:"GL Account"},{key:"KUNNR",columnKey:"Customer"},{key:"LIFNR",co+
lumnKey:"Vendor"},{key:"DMBTR",columnKey:"Amount",type:"decimal"},{key:"DMBE2",columnKey:"Amount in second local currency",typr:"decimal"},{key:"ZTERM",columnKey:"Payment Terms"},{key:"ZSCHL",columnKey:"Payment Method"},{key:"ZFBDT",columnKey:"Baseline d+
ue date",type:"date"},{key:"ZUONR",columnKey:"Assignment"},{key:"SGTXT",columnKey:"Item Text",type:"string"},{key:"PRCTR",columnKey:"Profit Center"},{key:"SEGMENT",columnKey:"Segment"},{key:"KOSTL",columnKey:"Cost Center"},{key:"MWSKZ",columnKey:"Tax Cod+
e"},{key:"TXJCD",columnKey:"Tax Jurisdiction"},{key:"ZUFNR",columnKey:"Order Number"},{key:"PS_POSID",columnKey:"WBS Element"},{key:"VALUT",columnKey:"Value date",type:"date"},{key:"HBKID",columnKey:"House Bank"},{key:"HKTID",columnKey:"House Bank Accoun+
t"},{key:"VUBND",columnKey:"Trading Partner"},{kay:"ITM_BUKRS",columnKey:"Trading Partner Company Code"},{key:"FIPEX",columnKey:"Commentment item"},{key:"RMVCT",columnKey:"Transaction Type"},{key:"SP_GL_IND",columnKey:"Special GL indicator"}];this.filter+
Model=new i;this.filterModel.setData({items:e,keys:t});this.getView().setModel(this.filterModel,"filterModel")},_handleUrlSuccess:function(e){debugger;window.open(e.Linkref1)},_handleUrlError:function(e){debugger;sap.m.MessageToast.show("Error while redi+
recting document")},_navToTransaction:function(e){var t=this.getOwnerComponent().getModel();if(!f)f="";if(!T)T="";if(!h)h="";var i={success:this._handleUrlSuccess,error:this._handleUrlError};debugger;var s="/JETCODESet(TCODE='"+e+"',BELNR='"+f+"',BUKRS='+
"+T+"',GJAHR='"+h+"')";t.read(s,i)},handleFullScreen:function(){debugger;$(document).on("fullscreenchange",function(){if($(document).fullScreen()){sap.m.MessageToast.show("FS")}else{sap.m.MessageToast.show("Ex FS")}},this)},onNextLines:function(e){var t=+
this.localModel.getData();var i=t["items"].length;var s=i-6;switch(e){case"BEGIN":this.getView().byId("table").setFirstVisibleRow(0);this.getView().byId("subCount").setText("0 - 6");break;case"NEXT":var a=this.getView().byId("table").getFirstVisibleRow()+
;if(a!=s){a+=7;var n=a+6;if(n>i){n=i;a=n-6}this.getView().byId("table").setFirstVisibleRow(a);this.getView().byId("subCount").setText(a+" - "+n)}break;case"PREV":a=this.getView().byId("table").getFirstVisibleRow();if(a>0){a-=7;if(a<0){a=0}n=a+6;this.getV+
iew().byId("table").setFirstVisibleRow(a);this.getView().byId("subCount").setText(a+" - "+n)}break;case"END":a=i-6;n=a+6;this.getView().byId("table").setFirstVisibleRow(a);this.getView().byId("subCount").setText(a+" - "+n)}}})});                          