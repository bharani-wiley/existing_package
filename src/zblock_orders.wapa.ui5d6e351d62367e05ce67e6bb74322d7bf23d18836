sap.ui.define([                                                                                                                                                                                                                                                
	"./BaseController",                                                                                                                                                                                                                                           
	"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                                
	"../model/formatter",                                                                                                                                                                                                                                         
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator",                                                                                                                                                                                                                                
	"sap/m/Label",                                                                                                                                                                                                                                                
	"sap/ui/commons/TextView",                                                                                                                                                                                                                                    
	"sap/ui/core/util/Export",                                                                                                                                                                                                                                    
	"sap/ui/core/util/ExportTypeCSV",                                                                                                                                                                                                                             
	"sap/ui/table/TablePersoController",                                                                                                                                                                                                                          
	"sap/ui/export/Spreadsheet",                                                                                                                                                                                                                                  
	"sap/m/Dialog",                                                                                                                                                                                                                                               
	"sap/ui/Device",                                                                                                                                                                                                                                              
	"sap/ui/model/Sorter",                                                                                                                                                                                                                                        
	"sap/viz/ui5/api/env/Format",                                                                                                                                                                                                                                 
	"sap/ui/core/format/NumberFormat",                                                                                                                                                                                                                            
	"sap/viz/ui5/format/ChartFormatter",                                                                                                                                                                                                                          
	"sap/ui/core/Fragment",                                                                                                                                                                                                                                       
	// "../model/personalization",                                                                                                                                                                                                                                
	"sap/m/Token",                                                                                                                                                                                                                                                
	"sap/ui/core/routing/History",                                                                                                                                                                                                                                
	"sap/ui/model/odata/v2/ODataModel",                                                                                                                                                                                                                           
	"sap/ui/export/library",                                                                                                                                                                                                                                      
	"sap/m/Button",                                                                                                                                                                                                                                               
	"sap/m/MessageBox",                                                                                                                                                                                                                                           
	"sap/ui/util/Storage",                                                                                                                                                                                                                                        
	"../model/personalization"                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
], function (BaseController, JSONModel, formatter, Filter, FilterOperator, Label,                                                                                                                                                                              
	TextView, Export, ExportType, TablePersoController, Spreadsheet, Dialog, Device, Sorter,                                                                                                                                                                      
	Format, NumberFormat, ChartFormatter, Fragment, Token, History, ODATAModel, exportLibrary,                                                                                                                                                                    
	Button, MessageBox, Storage, DemoPersoService                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
	//ColumnListItem&nbsp;                                                                                                                                                                                                                                        
) {                                                                                                                                                                                                                                                            
	"use strict";                                                                                                                                                                                                                                                 
	var EdmType = exportLibrary.EdmType;                                                                                                                                                                                                                          
	var oMyStorage = new Storage(Storage.Type.session, "Document");                                                                                                                                                                                               
	var storeMessage = [];                                                                                                                                                                                                                                        
	return BaseController.extend("Block_Orders.Block_Orders.controller.Worklist", {                                                                                                                                                                               
                                                                                                                                                                                                                                                               
		formatter: formatter,                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* lifecycle methods                                           */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Called when the worklist controller is instantiated.                                                                                                                                                                                                      
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onInit: function (oEvent) {                                                                                                                                                                                                                                  
			// var oViewModel;                                                                                                                                                                                                                                          
			// iOriginalBusyDelay,                                                                                                                                                                                                                                      
			// oTable = this.byId("table");                                                                                                                                                                                                                             
			//////////////////////////                                                                                                                                                                                                                                  
			// document.onmousemove = timeOut;                                                                                                                                                                                                                          
			// this.getView().byId("Tab3").setVisible(true);                                                                                                                                                                                                            
			// this.getView().byId("Tab3").setIcon("sap-icon://locked");                                                                                                                                                                                                
			// this.getView().byId("Tab3").setIconColor("Positive");                                                                                                                                                                                                    
			//check authorization/////////////////////////                                                                                                                                                                                                              
			var that = this;                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var oDataModel = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV", {                                                                                                                                                     
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			var tabbar = this.byId("Tbar");                                                                                                                                                                                                                             
			try {                                                                                                                                                                                                                                                       
				sap.ui.getCore().bp = jQuery.sap.getUriParameters().mParams["sap-del"][0];                                                                                                                                                                                 
			} catch (ab) {                                                                                                                                                                                                                                              
				sap.ui.getCore().bp = "";                                                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
			// debugger;                                                                                                                                                                                                                                                
			oDataModel.read("/reportAuthSet", {                                                                                                                                                                                                                         
				success: function (odata) {                                                                                                                                                                                                                                
					// debugger;                                                                                                                                                                                                                                              
					if (odata.results[0].ZunpaidOr === 'X') {                                                                                                                                                                                                                 
						that.getView().byId("Tab3").setVisible(true);                                                                                                                                                                                                            
						that.getView().byId("Tab3").setIcon("sap-icon://locked");                                                                                                                                                                                                
						that.getView().byId("Tab3").setIconColor("Negative");                                                                                                                                                                                                    
						that.getView().byId("Tab1").setVisible(true);                                                                                                                                                                                                            
						that.getView().byId("Tab1").setIcon("sap-icon://locked");                                                                                                                                                                                                
						that.getView().byId("Tab1").setIconColor("Positive");                                                                                                                                                                                                    
						that.getView().byId("Tab2").setVisible(true);                                                                                                                                                                                                            
						that.getView().byId("Tab2").setIcon("sap-icon://explorer");                                                                                                                                                                                              
						that.getView().byId("Tab2").setIconColor("Default");                                                                                                                                                                                                     
						tabbar.setSelectedKey("Key3");                                                                                                                                                                                                                           
						that.chart();                                                                                                                                                                                                                                            
						that.Dunning();                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
					} else if (odata.results[0].BILLING === 'X') {                                                                                                                                                                                                            
						that.getView().byId("Tab1").setVisible(true);                                                                                                                                                                                                            
						that.getView().byId("Tab1").setIcon("sap-icon://locked");                                                                                                                                                                                                
						that.getView().byId("Tab1").setIconColor("Positive");                                                                                                                                                                                                    
						that.getView().byId("Tab2").setVisible(true);                                                                                                                                                                                                            
						that.getView().byId("Tab2").setIcon("sap-icon://explorer");                                                                                                                                                                                              
						that.getView().byId("Tab2").setIconColor("Default");                                                                                                                                                                                                     
						that.getView().byId("Tab3").setVisible(false);                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
						// // JSON Model for ZCACONSTANT data                                                                                                                                                                                                                    
						that.ConstdataEH();                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
						// // JSON Model for ZCACONSTANT data                                                                                                                                                                                                                    
						that.ChartdataEH();                                                                                                                                                                                                                                      
						var odatamodelobject3 = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/");                                                                                                                                              
						that.setModel(odatamodelobject3, "SUMVA45");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
						// } else if (odata.results[0].VA45 === 'X') {                                                                                                                                                                                                           
						// 	that.getView().byId("Tab2").setVisible(true);                                                                                                                                                                                                        
						// 	that.getView().byId("Tab2").setIcon("sap-icon://explorer");                                                                                                                                                                                          
						// 	that.getView().byId("Tab2").setIconColor("Default");                                                                                                                                                                                                 
						// 	that.getView().byId("Tab1").setVisible(false);                                                                                                                                                                                                       
						// 	// that.getView().byId("Tab2").setVisible(false);                                                                                                                                                                                                    
						// 	that.getView().byId("Tab3").setVisible(false);                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					} else {                                                                                                                                                                                                                                                  
						that.getView().byId("Tab3").setVisible(false);                                                                                                                                                                                                           
						MessageBox.error("No authorization to view the Unpaid Order Tab");                                                                                                                                                                                       
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (odata) {                                                                                                                                                                                                                                  
					that.getView().byId("Tab3").setVisible(false);                                                                                                                                                                                                            
					MessageBox.error("No authorization to view the Unpaid Order Tab");                                                                                                                                                                                        
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this._mViewSettingsDialogs = {};                                                                                                                                                                                                                            
			var osetTime;                                                                                                                                                                                                                                               
			var oPromise = new Promise(function (res, rej) {                                                                                                                                                                                                            
				this.getOwnerComponent().getModel().read("/TimeSet", {                                                                                                                                                                                                     
					success: function (data) {                                                                                                                                                                                                                                
						osetTime = data.results[0].times * 1000;                                                                                                                                                                                                                 
						res();                                                                                                                                                                                                                                                   
					},                                                                                                                                                                                                                                                        
					error: function (err) {                                                                                                                                                                                                                                   
						osetTime = "300000";                                                                                                                                                                                                                                     
						rej();                                                                                                                                                                                                                                                   
					}                                                                                                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			}.bind(this));                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			oPromise.then(function (val) {                                                                                                                                                                                                                              
				var timer;                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				function timeOut() {                                                                                                                                                                                                                                       
					clearTimeout(timer);                                                                                                                                                                                                                                      
					timer = setTimeout(function () {                                                                                                                                                                                                                          
						sap.m.MessageBox.show(                                                                                                                                                                                                                                   
							"Click OK to Refresh", {                                                                                                                                                                                                                                
								icon: sap.m.MessageBox.Icon.Error,                                                                                                                                                                                                                     
								title: "Session Timeout",                                                                                                                                                                                                                              
								onClose: function (sAction) {                                                                                                                                                                                                                          
									location.reload(); // eslint-disable-line sap-no-location-reload                                                                                                                                                                                      
								}                                                                                                                                                                                                                                                      
							}                                                                                                                                                                                                                                                       
						);                                                                                                                                                                                                                                                       
					}, osetTime);                                                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
				document.onmousemove = timeOut;                                                                                                                                                                                                                            
				//document.onkeypress = timeOut;                                                                                                                                                                                                                           
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			/////////////////////////                                                                                                                                                                                                                                   
			// // JSON Model for ZCACONSTANT data                                                                                                                                                                                                                       
			// this.ConstdataEH();                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// // // JSON Model for ZCACONSTANT data                                                                                                                                                                                                                    
			// this.ChartdataEH();                                                                                                                                                                                                                                      
			// try {                                                                                                                                                                                                                                                    
			// 	sap.ui.getCore().NoDays = jQuery.sap.getUriParameters().mParams["sap-data-NoDays"][0];                                                                                                                                                                  
			// } catch (ab) {                                                                                                                                                                                                                                           
			// 	sap.ui.getCore().NoDays = "7";                                                                                                                                                                                                                          
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// Set default dates billing tab                                                                                                                                                                                                                            
			// this.setBillDefaultDates();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.getView().setBusy(true);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// JSON Model for BillingBlockSet                                                                                                                                                                                                                           
			// this.BillRefreshEH();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			/////// Start of OTCM-46300                                                                                                                                                                                                                                 
			// this.ControldataEH();                                                                                                                                                                                                                                    
			// var odatamodelobject3 = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/");                                                                                                                                              
			// this.setModel(odatamodelobject3, "SUMVA45");                                                                                                                                                                                                             
			this.HideRefreshEH();                                                                                                                                                                                                                                       
			/////// End of OTCM-46300                                                                                                                                                                                                                                   
			this.getView().setBusy(false);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.oJsonData = new JSONModel([], true);                                                                                                                                                                                                                   
			this.getView().setModel(this.oJsonData, "Bsosel");                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.oJsonData1 = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonData1, "BKsel");                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.oJsonDataT = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonDataT, "BTsel");                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			/////// Start of OTCM-46300                                                                                                                                                                                                                                 
			this.oJsonDataCT45 = new JSONModel([], true);                                                                                                                                                                                                               
			this.getView().setModel(this.oJsonDataCT45, "CT45sel");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this.oJsonDataBP45 = new JSONModel([], true);                                                                                                                                                                                                               
			this.getView().setModel(this.oJsonDataBP45, "BP45sel");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this.oJsonDataSOrg45 = new JSONModel([], true);                                                                                                                                                                                                             
			this.getView().setModel(this.oJsonDataSOrg45, "SOrg45sel");                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			this.oJsonDataSOrd45 = new JSONModel([], true);                                                                                                                                                                                                             
			this.getView().setModel(this.oJsonDataSOrd45, "SOrd45sel");                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			this.oJsonData2 = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonData2, "sel");                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			this.oJsonData3 = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonData3, "sel1");                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var d = new Date();                                                                                                                                                                                                                                      
			//         var d2 = d.setFullYear(d.getFullYear(), 0, 1);                                                                                                                                                                                                   
			//         var d1 = d.setFullYear(d.getFullYear(), 11, 31);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			// sap.ui.getCore().byId("Bsdate1F").setDateValue(new Date(d2));                                                                                                                                                                                            
			// this.byId("Dateto").setDateValue(new Date(d1));                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			/////// End of OTCM-46300                                                                                                                                                                                                                                   
			////BOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                
			var d = new Date();                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var d2 = d.setFullYear(d.getFullYear(), 0, 1);                                                                                                                                                                                                              
			var d1 = d.setFullYear(d.getFullYear(), 11, 31);                                                                                                                                                                                                            
			this.byId("IDatefrom").setDateValue(new Date(d2));                                                                                                                                                                                                          
			this.byId("IDateto").setDateValue(new Date(d1));                                                                                                                                                                                                            
			this.byId("Dunning").setSelectedKeys(["ZWDU"]);                                                                                                                                                                                                             
			this.byId("DunInput").setSelectedKeys(["3", "4", "5", ">5"]);                                                                                                                                                                                               
			this.byId("salegrpinput").setSelectedKeys(["FRM"]);                                                                                                                                                                                                         
			this.byId("InvoiceDunInput").setSelectedKeys(["3", "4", "5", ">5"]);                                                                                                                                                                                        
			var oVizFrame1 = this.getView().byId("idVizFrameo");                                                                                                                                                                                                        
			//Popover Changes&nbsp;                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var oPopOver = this.getView().byId("idPopOver");                                                                                                                                                                                                            
			oPopOver.connect(oVizFrame1.getVizUid());                                                                                                                                                                                                                   
			oPopOver.setActionItems([{                                                                                                                                                                                                                                  
				type: "action",                                                                                                                                                                                                                                            
				// text: "Show Table",                                                                                                                                                                                                                                     
				press: this.onPopoverPress.bind(this)                                                                                                                                                                                                                      
			}]);                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var oModel = new sap.ui.model.json.JSONModel([]);                                                                                                                                                                                                           
			this.getView().setModel(oModel, "msg");                                                                                                                                                                                                                     
			// this.oFilterBar = null;                                                                                                                                                                                                                                  
			// var sViewId = this.getView().getId();                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// this.oFilterBar = sap.ui.getCore().byId(sViewId + "--filterbar12");                                                                                                                                                                                      
			// var bFlag = this.oFilterBar.getShowFilterConfiguration();                                                                                                                                                                                                
			// this.oFilterBar.setShowFilterConfiguration(!bFlag);                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			this._oVDR1 = new TablePersoController("perosId", {                                                                                                                                                                                                         
				table: this.getView().byId("seltable"),                                                                                                                                                                                                                    
				//specify the first part of persistence ids e.g. 'demoApp-productsTable-dimensionsCol'                                                                                                                                                                     
				componentName: "demoApp",                                                                                                                                                                                                                                  
				persoService: DemoPersoService                                                                                                                                                                                                                             
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			////EOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                
			//Table Personalization                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////BOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
		onPopoverPress: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this._showObject(oEvent.getSource());                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
		onFilterSearch12: function (oEvent) {                                                                                                                                                                                                                        
			this.chart();                                                                                                                                                                                                                                               
			this.Dunning();                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onSelectData: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			this.Date = oEvent.getParameter("data")[0]["data"]["Year/Month"];                                                                                                                                                                                           
			this.Count = oEvent.getParameter("data")[0]["data"]["Invoice Count"];                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		serviceCall: function (oparams) {                                                                                                                                                                                                                            
			var oVizFrame = this.getView().byId("idVizDataSet");                                                                                                                                                                                                        
			oVizFrame.unbindData();                                                                                                                                                                                                                                     
			oVizFrame.bindData({                                                                                                                                                                                                                                        
				path: "/DunningReportSet",                                                                                                                                                                                                                                 
				template: oVizFrame,                                                                                                                                                                                                                                       
				templateShareable: true,                                                                                                                                                                                                                                   
				filters: oparams,                                                                                                                                                                                                                                          
				events: {                                                                                                                                                                                                                                                  
					dataReceived: function (a) {                                                                                                                                                                                                                              
						var c;                                                                                                                                                                                                                                                   
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		Dunning: function (oEvent) {                                                                                                                                                                                                                                 
			// var oDataModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                    
			var oDataModel = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV", {                                                                                                                                                     
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// var bFlag = this.oFilterBar.getShowFilterConfiguration();                                                                                                                                                                                                
			// 	this.oFilterBar.setShowFilterConfiguration(!bFlag);                                                                                                                                                                                                     
			var that = this;                                                                                                                                                                                                                                            
			that.getView().setBusy(true);                                                                                                                                                                                                                               
			var startdateref = this.getView().byId("IDatefrom").getValue();                                                                                                                                                                                             
			var endateref = this.getView().byId("IDateto").getValue();                                                                                                                                                                                                  
			// ------Sales Group -------------------------------------------                                                                                                                                                                                            
			if (this.getView().byId("salegrpinput").getSelectedItems().length > 0) {                                                                                                                                                                                    
				var salesgrprf = 0;                                                                                                                                                                                                                                        
				salesgrprf = this.getView().byId("salegrpinput").getSelectedItems();                                                                                                                                                                                       
				var salesgrparray = [];                                                                                                                                                                                                                                    
				for (var i = 0; i <= salesgrprf.length; i++) {                                                                                                                                                                                                             
					var item1 = salesgrprf[i];                                                                                                                                                                                                                                
					if (item1 !== undefined) {                                                                                                                                                                                                                                
						var context = item1.getBindingContext();                                                                                                                                                                                                                 
						var value1 = context.getProperty("VKGRP");                                                                                                                                                                                                               
						salesgrparray.push(value1);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//------------------------Dunning Level-------------------------------                                                                                                                                                                                      
			if (this.getView().byId("DunInput").getSelectedItems().length > 0) {                                                                                                                                                                                        
				var DunInputrf = 0;                                                                                                                                                                                                                                        
				DunInputrf = this.getView().byId("DunInput").getSelectedItems();                                                                                                                                                                                           
				var DunInputarray = [];                                                                                                                                                                                                                                    
				for (var i = 0; i <= DunInputrf.length; i++) {                                                                                                                                                                                                             
					var item2 = DunInputrf[i];                                                                                                                                                                                                                                
					if (item2 !== undefined) {                                                                                                                                                                                                                                
						// var context1 = item2.getBindingContext();                                                                                                                                                                                                             
						// var value2 = context1.getProperty("key");                                                                                                                                                                                                             
						var value2 = item2.getProperty("key");                                                                                                                                                                                                                   
						DunInputarray.push(value2);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//------------------------Invoice Dunning Level-------------------------------                                                                                                                                                                              
			if (this.getView().byId("InvoiceDunInput").getSelectedItems().length > 0) {                                                                                                                                                                                 
				var InDunInputrf = 0;                                                                                                                                                                                                                                      
				InDunInputrf = this.getView().byId("InvoiceDunInput").getSelectedItems();                                                                                                                                                                                  
				var InDunInputarray = [];                                                                                                                                                                                                                                  
				for (var i = 0; i <= InDunInputrf.length; i++) {                                                                                                                                                                                                           
					var item12 = InDunInputrf[i];                                                                                                                                                                                                                             
					if (item12 !== undefined) {                                                                                                                                                                                                                               
						var value12 = item12.getProperty("key");                                                                                                                                                                                                                 
						InDunInputarray.push(value12);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			// ---------------------Dunning Procedure------------------------------                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			if (this.getView().byId("Dunning").getSelectedKeys().length > 0) {                                                                                                                                                                                          
				var Dunningrf = 0;                                                                                                                                                                                                                                         
				Dunningrf = this.getView().byId("Dunning").getSelectedKeys();                                                                                                                                                                                              
				var Dunningarray = [];                                                                                                                                                                                                                                     
				for (var i = 0; i <= Dunningrf.length; i++) {                                                                                                                                                                                                              
					var item3 = Dunningrf[i];                                                                                                                                                                                                                                 
					if (item3 !== undefined) {                                                                                                                                                                                                                                
						// var context3 = item3.getBindingContext();                                                                                                                                                                                                             
						// var value3 = context3.getProperty("MAHNA");                                                                                                                                                                                                           
						//var value3 = item3.getProperty("key");                                                                                                                                                                                                                 
						Dunningarray.push(item3);                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//---------------------Order Type -------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                           
				var sotyprf = 0;                                                                                                                                                                                                                                           
				sotyprf = this.getView().byId("sotyp").getSelectedItems();                                                                                                                                                                                                 
				var sotyparray = [];                                                                                                                                                                                                                                       
				for (var i = 0; i <= sotyprf.length; i++) {                                                                                                                                                                                                                
					var item4 = sotyprf[i];                                                                                                                                                                                                                                   
					if (item4 !== undefined) {                                                                                                                                                                                                                                
						var context4 = item4.getBindingContext();                                                                                                                                                                                                                
						var value4 = context4.getProperty("Auart");                                                                                                                                                                                                              
						sotyparray.push(value4);                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//---------------------Sales Office----------------------------------                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			if (this.getView().byId("SalesOff").getSelectedItems().length > 0) {                                                                                                                                                                                        
				var sotyprf1 = 0;                                                                                                                                                                                                                                          
				sotyprf1 = this.getView().byId("SalesOff").getSelectedItems();                                                                                                                                                                                             
				var sotyparray1 = [];                                                                                                                                                                                                                                      
				for (var i = 0; i <= sotyprf1.length; i++) {                                                                                                                                                                                                               
					var item41 = sotyprf1[i];                                                                                                                                                                                                                                 
					if (item41 !== undefined) {                                                                                                                                                                                                                               
						var context41 = item41.getBindingContext();                                                                                                                                                                                                              
						var value41 = context41.getProperty("VKBUR");                                                                                                                                                                                                            
						sotyparray1.push(value41);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (startdateref.length > 0) {                                                                                                                                                                                                                              
				oFilter.aFilters.push(new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, startdateref));                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (endateref.length > 0) {                                                                                                                                                                                                                                 
				oFilter.aFilters.push(new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, endateref));                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                           
				sotyparray.forEach(function (val) {                                                                                                                                                                                                                        
					oFilter.aFilters.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, val));                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("Dunning").getSelectedKeys().length > 0) {                                                                                                                                                                                          
				Dunningarray.forEach(function (val51) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahna", sap.ui.model.FilterOperator.EQ, val51));                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("DunInput").getSelectedItems().length > 0) {                                                                                                                                                                                        
				DunInputarray.forEach(function (val1) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahns", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("InvoiceDunInput").getSelectedItems().length > 0) {                                                                                                                                                                                 
				InDunInputarray.forEach(function (val1) {                                                                                                                                                                                                                  
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahns1", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("salegrpinput").getSelectedItems().length > 0) {                                                                                                                                                                                    
				salesgrparray.forEach(function (val1) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Vkgrp", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("SalesOff").getSelectedItems().length > 0) {                                                                                                                                                                                        
				sotyparray1.forEach(function (val1) {                                                                                                                                                                                                                      
					oFilter.aFilters.push(new sap.ui.model.Filter("Vkbur", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var vmat = this.getView().byId("productInput").getTokens();                                                                                                                                                                                              
			// var material = [];                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// if (vmat.length > 0) {                                                                                                                                                                                                                                   
			// 	for (var l = 0; l < vmat.length; l++) {                                                                                                                                                                                                                 
			// 		var selectedValue4 = vmat[l].getProperty("text");                                                                                                                                                                                                      
			// 		material.push(selectedValue4);                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// 	}                                                                                                                                                                                                                                                       
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var vcust = this.getView().byId("customerInput").getTokens();                                                                                                                                                                                               
			var customer = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			if (vcust.length > 0) {                                                                                                                                                                                                                                     
				for (var l = 0; l < vcust.length; l++) {                                                                                                                                                                                                                   
					var selectedValue5 = vcust[l].getProperty("text");                                                                                                                                                                                                        
					customer.push(selectedValue5);                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// if (sap.ui.getCore().multiMedia7 !== undefined) {                                                                                                                                                                                                        
			// 	material.forEach(function (val2) {                                                                                                                                                                                                                      
			// 		oFilter.aFilters.push(new sap.ui.model.Filter("Matnr", sap.ui.model.FilterOperator.EQ, val2));                                                                                                                                                         
			// 	});                                                                                                                                                                                                                                                     
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			if (sap.ui.getCore().multicustomer !== undefined) {                                                                                                                                                                                                         
				customer.forEach(function (val3) {                                                                                                                                                                                                                         
					oFilter.aFilters.push(new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, val3));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			oDataModel.read("/DunningReportSet", {                                                                                                                                                                                                                      
				filters: oFilter.aFilters,                                                                                                                                                                                                                                 
				success: function (oData, response) {                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					var oJSONModel7 = that.getView().getModel("Dunning");                                                                                                                                                                                                     
					oJSONModel7.setData(oData);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					that.getView().setModel(oJSONModel7, "Dunning");                                                                                                                                                                                                          
					sap.ui.getCore().setModel(oJSONModel7, "Dunning");                                                                                                                                                                                                        
					that.getView().setBusy(false);                                                                                                                                                                                                                            
					var count = oData.results.length;                                                                                                                                                                                                                         
					that.byId("getrecords1").setText(count);                                                                                                                                                                                                                  
					that.getView().setBusy(false);                                                                                                                                                                                                                            
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					sap.m.MessageToast.show("Error in Fetching Data");                                                                                                                                                                                                        
					that.getView().setBusy(false);                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		chart: function (oEvent) {                                                                                                                                                                                                                                   
			var oDataModel2 = this.getOwnerComponent().getModel();                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var that = this;                                                                                                                                                                                                                                            
			that.getView().setBusy(true);                                                                                                                                                                                                                               
			var startdateref = this.getView().byId("IDatefrom").getValue();                                                                                                                                                                                             
			var endateref = this.getView().byId("IDateto").getValue();                                                                                                                                                                                                  
			// ------Sales Group -------------------------------------------                                                                                                                                                                                            
			if (this.getView().byId("salegrpinput").getSelectedItems().length > 0) {                                                                                                                                                                                    
				var salesgrprf = 0;                                                                                                                                                                                                                                        
				salesgrprf = this.getView().byId("salegrpinput").getSelectedItems();                                                                                                                                                                                       
				var salesgrparray = [];                                                                                                                                                                                                                                    
				for (var i = 0; i <= salesgrprf.length; i++) {                                                                                                                                                                                                             
					var item1 = salesgrprf[i];                                                                                                                                                                                                                                
					if (item1 !== undefined) {                                                                                                                                                                                                                                
						var context = item1.getBindingContext();                                                                                                                                                                                                                 
						var value1 = context.getProperty("VKGRP");                                                                                                                                                                                                               
						salesgrparray.push(value1);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//------------------------Dunning Level-------------------------------                                                                                                                                                                                      
			if (this.getView().byId("DunInput").getSelectedItems().length > 0) {                                                                                                                                                                                        
				var DunInputrf = 0;                                                                                                                                                                                                                                        
				DunInputrf = this.getView().byId("DunInput").getSelectedItems();                                                                                                                                                                                           
				var DunInputarray = [];                                                                                                                                                                                                                                    
				for (var i = 0; i <= DunInputrf.length; i++) {                                                                                                                                                                                                             
					var item2 = DunInputrf[i];                                                                                                                                                                                                                                
					if (item2 !== undefined) {                                                                                                                                                                                                                                
						// var context1 = item2.getBindingContext();                                                                                                                                                                                                             
						// var value2 = context1.getProperty("key");                                                                                                                                                                                                             
						var value2 = item2.getProperty("key");                                                                                                                                                                                                                   
						DunInputarray.push(value2);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// ---------------------Dunning Procedure------------------------------                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			if (this.getView().byId("Dunning").getSelectedKeys().length > 0) {                                                                                                                                                                                          
				var Dunningrf = 0;                                                                                                                                                                                                                                         
				Dunningrf = this.getView().byId("Dunning").getSelectedKeys();                                                                                                                                                                                              
				var Dunningarray = [];                                                                                                                                                                                                                                     
				for (var i = 0; i <= Dunningrf.length; i++) {                                                                                                                                                                                                              
					var item3 = Dunningrf[i];                                                                                                                                                                                                                                 
					if (item3 !== undefined) {                                                                                                                                                                                                                                
						Dunningarray.push(item3);                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//---------------------Order Type -------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                           
				var sotyprf = 0;                                                                                                                                                                                                                                           
				sotyprf = this.getView().byId("sotyp").getSelectedItems();                                                                                                                                                                                                 
				var sotyparray = [];                                                                                                                                                                                                                                       
				for (var i = 0; i <= sotyprf.length; i++) {                                                                                                                                                                                                                
					var item4 = sotyprf[i];                                                                                                                                                                                                                                   
					if (item4 !== undefined) {                                                                                                                                                                                                                                
						var context4 = item4.getBindingContext();                                                                                                                                                                                                                
						var value4 = context4.getProperty("Auart");                                                                                                                                                                                                              
						sotyparray.push(value4);                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//------------------------Invoice Dunning Level-------------------------------                                                                                                                                                                              
			if (this.getView().byId("InvoiceDunInput").getSelectedItems().length > 0) {                                                                                                                                                                                 
				var InDunInputrf = 0;                                                                                                                                                                                                                                      
				InDunInputrf = this.getView().byId("InvoiceDunInput").getSelectedItems();                                                                                                                                                                                  
				var InDunInputarray = [];                                                                                                                                                                                                                                  
				for (var i = 0; i <= InDunInputrf.length; i++) {                                                                                                                                                                                                           
					var item12 = InDunInputrf[i];                                                                                                                                                                                                                             
					if (item12 !== undefined) {                                                                                                                                                                                                                               
						var value12 = item12.getProperty("key");                                                                                                                                                                                                                 
						InDunInputarray.push(value12);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//---------------------Sales Office----------------------------------                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			if (this.getView().byId("SalesOff").getSelectedItems().length > 0) {                                                                                                                                                                                        
				var sotyprf1 = 0;                                                                                                                                                                                                                                          
				sotyprf1 = this.getView().byId("SalesOff").getSelectedItems();                                                                                                                                                                                             
				var sotyparray1 = [];                                                                                                                                                                                                                                      
				for (var i = 0; i <= sotyprf1.length; i++) {                                                                                                                                                                                                               
					var item41 = sotyprf1[i];                                                                                                                                                                                                                                 
					if (item41 !== undefined) {                                                                                                                                                                                                                               
						var context41 = item41.getBindingContext();                                                                                                                                                                                                              
						var value41 = context41.getProperty("VKBUR");                                                                                                                                                                                                            
						sotyparray1.push(value41);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//---------------------Customer----------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//---------------------Material ----------------------------------                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (startdateref.length > 0) {                                                                                                                                                                                                                              
				oFilter.aFilters.push(new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, startdateref));                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (endateref.length > 0) {                                                                                                                                                                                                                                 
				oFilter.aFilters.push(new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, endateref));                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                           
				sotyparray.forEach(function (val) {                                                                                                                                                                                                                        
					oFilter.aFilters.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, val));                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("Dunning").getSelectedKeys().length > 0) {                                                                                                                                                                                          
				Dunningarray.forEach(function (val15) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahna", sap.ui.model.FilterOperator.EQ, val15));                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("DunInput").getSelectedItems().length > 0) {                                                                                                                                                                                        
				DunInputarray.forEach(function (val1) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahns", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("salegrpinput").getSelectedItems().length > 0) {                                                                                                                                                                                    
				salesgrparray.forEach(function (val1) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Vkgrp", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("InvoiceDunInput").getSelectedItems().length > 0) {                                                                                                                                                                                 
				InDunInputarray.forEach(function (val1) {                                                                                                                                                                                                                  
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahns1", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("SalesOff").getSelectedItems().length > 0) {                                                                                                                                                                                        
				sotyparray1.forEach(function (val1) {                                                                                                                                                                                                                      
					oFilter.aFilters.push(new sap.ui.model.Filter("Vkbur", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var vmat = this.getView().byId("productInput").getTokens();                                                                                                                                                                                              
			// var material = [];                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// if (vmat.length > 0) {                                                                                                                                                                                                                                   
			// 	for (var l = 0; l < vmat.length; l++) {                                                                                                                                                                                                                 
			// 		var selectedValue4 = vmat[l].getProperty("text");                                                                                                                                                                                                      
			// 		material.push(selectedValue4);                                                                                                                                                                                                                         
			// 	}                                                                                                                                                                                                                                                       
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var vcust = this.getView().byId("customerInput").getTokens();                                                                                                                                                                                               
			var customer = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			if (vcust.length > 0) {                                                                                                                                                                                                                                     
				for (var l = 0; l < vcust.length; l++) {                                                                                                                                                                                                                   
					var selectedValue5 = vcust[l].getProperty("text");                                                                                                                                                                                                        
					customer.push(selectedValue5);                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// if (sap.ui.getCore().multiMedia7 !== undefined) {                                                                                                                                                                                                        
			// 	material.forEach(function (val2) {                                                                                                                                                                                                                      
			// 		oFilter.aFilters.push(new sap.ui.model.Filter("Matnr", sap.ui.model.FilterOperator.EQ, val2));                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// 	});                                                                                                                                                                                                                                                     
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			if (sap.ui.getCore().multicustomer !== undefined) {                                                                                                                                                                                                         
				customer.forEach(function (val3) {                                                                                                                                                                                                                         
					oFilter.aFilters.push(new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, val3));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			oDataModel2.read("/DunningReportChartSet", {                                                                                                                                                                                                                
				filters: oFilter.aFilters,                                                                                                                                                                                                                                 
				success: function (oData, response) {                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                       
					oJSONModel.setData(oData);                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
					that.getView().setModel(oJSONModel, "Dunning1");                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
					that.getView().setBusy(false);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					sap.m.MessageToast.show("Error in Fetching Data");                                                                                                                                                                                                        
					that.getView().setBusy(false);                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////EOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL	                                                                                                                                                                                                
		/* =========================================================== */                                                                                                                                                                                            
		/* event handlers                                              */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		//////////////////////////////////////////////////////////  Bill SO F4 Start                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
		inputBso: "",                                                                                                                                                                                                                                                
		fragmentBso: null,                                                                                                                                                                                                                                           
		onBorderHelpRequest: function (oEvent) {                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this.inputBso = oEvent.getSource().getId();                                                                                                                                                                                                                 
			if (this.fragmentBso === null) {                                                                                                                                                                                                                            
				this.fragmentBso = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentOrder", this);                                                                                                                                                           
                                                                                                                                                                                                                                                               
				this.fragmentBso.setTitle("Sales Orders ");                                                                                                                                                                                                                
				this.getView().addDependent(this.fragmentBso);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.fragmentBso.open();                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelBSO: function () {                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this.fragmentBso.close();                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Order  selections	in Billing Block F4                                                                                                                                                                                                                      
		rowSelectionBso: function (oEvent) {                                                                                                                                                                                                                         
			var btable = sap.ui.getCore().byId("BSOTable");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext("Billing").getProperty("Vbeln");                                                                                                                                                
					this.getView().getModel("Bsosel").getData().push({                                                                                                                                                                                                        
						"Vbeln": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext("Billing").getProperty("Vbeln");                                                                                                                                                      
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("Bsosel").getData().push({                                                                                                                                                                                                        
						"Vbeln": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                   
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("Bsosel").getData().pop({                                                                                                                                                                                                         
						"Vbeln": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("Bsosel").setData([]);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Customer F4 in Delivery Block selected items                                                                                                                                                                                             
		acceptBSO: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			this.getView().byId("Bso").removeAllTokens();                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable11 = sap.ui.getCore().byId("BSOselTable");                                                                                                                                                                                                        
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable11.getItems();                                                                                                                                                                                                                    
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				// var aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                    
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("Bsosel").getProperty("Vbeln");                                                                                                                                                                     
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("Bso").addToken(defToken);                                                                                                                                                                                                            
					sap.ui.getCore().Bso = selectedItem;                                                                                                                                                                                                                      
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiBso = aFilter;                                                                                                                                                                                                                       
				sap.ui.getCore().byId("BSOTable").removeSelections(true);                                                                                                                                                                                                  
			} else {                                                                                                                                                                                                                                                    
				// aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                        
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().Bso = null;                                                                                                                                                                                                                               
				sap.ui.getCore().multiBso = [];                                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentBso.close();                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// this.DELVREFRESHWEH(oEvent)();                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Customers&nbsp;                                                                                                                                                                                                        
		clearBSO: function () {                                                                                                                                                                                                                                      
			var oTable12 = sap.ui.getCore().byId("BSOTable");                                                                                                                                                                                                           
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable12.getSelectedItems();                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable12.removeSelections(true);                                                                                                                                                                                                                           
				var aToken = this.getView().byId("Bso").getTokens();                                                                                                                                                                                                       
				this.getView().byId("Bso").destroyTokens([aToken]);                                                                                                                                                                                                        
				sap.ui.getCore().multiBso = [];                                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("Bsosel").setData([]);                                                                                                                                                                                                              
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("Bso").removeAllTokens();                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Customers from Delivery block customer F4 selected table                                                                                                                                                                                   
		deleteSelectionBso: function (oEvent) {                                                                                                                                                                                                                      
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable13 = sap.ui.getCore().byId("BSOselTable");                                                                                                                                                                                                        
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable13.removeItem(selectedItem);                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchEHO: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable14 = sap.ui.getCore().byId("BSOTable");                                                                                                                                                                                                           
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable14.getBinding("items");                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable14.removeSelections(true);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Sold-to Multi Input                                                                                                                                                                                                                       
		BsoChange: function (oEvent) {                                                                                                                                                                                                                               
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("Bsosel").getData().pop({                                                                                                                                                                                                          
					"Kunnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("Kunnr").getTokens();                                                                                                                                                                                                     
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMedia = aFilter;                                                                                                                                                                                                                    
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                         
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Bill SO F4 END                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		//////////////////////////////////////////////////////////  Bill Sold-to F4 Start                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		inputBK: "",                                                                                                                                                                                                                                                 
		fragmentBK: null,                                                                                                                                                                                                                                            
		onHelpRequestBK: function (oEvent) {                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.inputBK = oEvent.getSource().getId();                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			if (this.fragmentBK === null) {                                                                                                                                                                                                                             
				this.fragmentBK = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentCust", this);                                                                                                                                                             
                                                                                                                                                                                                                                                               
				this.fragmentBK.setTitle("Sold to Party");                                                                                                                                                                                                                 
				this.getView().addDependent(this.fragmentBK);                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.fragmentBK.open();                                                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelBK: function () {                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			this.fragmentBK.close();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchCEHK: function (oEvent) {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Name1", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable2 = sap.ui.getCore().byId("BKTable");                                                                                                                                                                                                             
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable2.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable2.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchEHT: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query").toUpperCase();                                                                                                                                                                                                     
			value.toUpperCase();                                                                                                                                                                                                                                        
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTableT21 = sap.ui.getCore().byId("BTTable");                                                                                                                                                                                                           
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1ts = oTableT21.getBinding("items");                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oTableItem1ts.filter(oFilter);                                                                                                                                                                                                                              
			oTableT21.removeSelections(true);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Search soldTo on soldTo value help                                                                                                                                                                                                                         
		searchEHSold: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Name1", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var oTable22 = sap.ui.getCore().byId("BKTable");                                                                                                                                                                                                            
			//var oTable = this.fragmentSold.getContent()[1];                                                                                                                                                                                                           
			var oTableItems = oTable22.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItems.filter(oFilter);                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Customer  selections	in Billing Block F4                                                                                                                                                                                                                   
		rowSelectionBK: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Kunnr");                                                                                                                                                         
					this.getView().getModel("BKsel").getData().push({                                                                                                                                                                                                         
						"Kunnr": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BKsel").updateBindings(true);                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Kunnr");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("BKsel").getData().push({                                                                                                                                                                                                         
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BKsel").updateBindings(true);                                                                                                                                                                                                    
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("BKsel").getData().pop({                                                                                                                                                                                                          
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BKsel").updateBindings(true);                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("BKsel").setData([]);                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Customer F4 in Delivery Block selected items                                                                                                                                                                                             
		acceptBK: function (oEvent) {                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			this.getView().byId("BK").removeAllTokens();                                                                                                                                                                                                                
			var aFilter = [];                                                                                                                                                                                                                                           
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable24 = sap.ui.getCore().byId("BKselTable");                                                                                                                                                                                                         
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable24.getItems();                                                                                                                                                                                                                    
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				// var aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                    
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("BKsel").getProperty("Kunnr");                                                                                                                                                                      
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("BK").addToken(defToken);                                                                                                                                                                                                             
					sap.ui.getCore().BK = selectedItem;                                                                                                                                                                                                                       
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiBK = aFilter;                                                                                                                                                                                                                        
				sap.ui.getCore().byId("BKTable").removeSelections(true);                                                                                                                                                                                                   
			} else {                                                                                                                                                                                                                                                    
				// aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                        
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().BK = null;                                                                                                                                                                                                                                
				sap.ui.getCore().multiBK = [];                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentBK.close();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// this.DELVREFRESHWEH(oEvent)();                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Customers&nbsp;                                                                                                                                                                                                        
		clearBK: function () {                                                                                                                                                                                                                                       
			var oTable25 = sap.ui.getCore().byId("BKTable");                                                                                                                                                                                                            
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable25.getSelectedItems();                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable25.removeSelections(true);                                                                                                                                                                                                                           
				var aToken = this.getView().byId("BK").getTokens();                                                                                                                                                                                                        
				this.getView().byId("BK").destroyTokens([aToken]);                                                                                                                                                                                                         
				sap.ui.getCore().multiBK = [];                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("BKsel").setData([]);                                                                                                                                                                                                               
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("BK").removeAllTokens();                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Customers from Delivery block customer F4 selected table                                                                                                                                                                                   
		deleteSelectionBK: function (oEvent) {                                                                                                                                                                                                                       
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable26 = sap.ui.getCore().byId("BKselTable");                                                                                                                                                                                                         
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable26.removeItem(selectedItem);                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Sold-to Multi Input                                                                                                                                                                                                                       
		BKChange: function (oEvent) {                                                                                                                                                                                                                                
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("BKsel").getData().pop({                                                                                                                                                                                                           
					"Kunnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("BKsel").updateBindings(true);                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("Kunnr").getTokens();                                                                                                                                                                                                     
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMedia = aFilter;                                                                                                                                                                                                                    
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                         
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Bill Cust F4 END                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
		//////////////////////////////////////////////////////////  Bill Order type F4 Start                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		inputBT: "",                                                                                                                                                                                                                                                 
		fragmentBT: null,                                                                                                                                                                                                                                            
		onHelpRequestBT: function (oEvent) {                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.inputBT = oEvent.getSource().getId();                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			if (this.fragmentBT === null) {                                                                                                                                                                                                                             
				this.fragmentBT = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentOrdType", this);                                                                                                                                                          
                                                                                                                                                                                                                                                               
				this.fragmentBT.setTitle("Order Type");                                                                                                                                                                                                                    
				this.getView().addDependent(this.fragmentBT);                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.fragmentBT.open();                                                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelBT: function () {                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			this.fragmentBT.close();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Customer  selections	in Billing Block F4                                                                                                                                                                                                                   
		rowSelectionBT: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Auart");                                                                                                                                                         
					this.getView().getModel("BTsel").getData().push({                                                                                                                                                                                                         
						"Auart": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BTsel").updateBindings(true);                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Auart");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("BTsel").getData().push({                                                                                                                                                                                                         
						"Auart": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BTsel").updateBindings(true);                                                                                                                                                                                                    
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("BTsel").getData().pop({                                                                                                                                                                                                          
						"Auart": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BTsel").updateBindings(true);                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("BTsel").setData([]);                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Customer F4 in Delivery Block selected items                                                                                                                                                                                             
		acceptBT: function (oEvent) {                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			this.getView().byId("BT3").removeAllTokens();                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable27 = sap.ui.getCore().byId("BTselTable");                                                                                                                                                                                                         
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable27.getItems();                                                                                                                                                                                                                    
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				// var aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                    
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("BTsel").getProperty("Auart");                                                                                                                                                                      
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("BT3").addToken(defToken);                                                                                                                                                                                                            
					sap.ui.getCore().BT3 = selectedItem;                                                                                                                                                                                                                      
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiBT = aFilter;                                                                                                                                                                                                                        
				sap.ui.getCore().byId("BTTable").removeSelections(true);                                                                                                                                                                                                   
			} else {                                                                                                                                                                                                                                                    
				// aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                        
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().BT3 = null;                                                                                                                                                                                                                               
				sap.ui.getCore().multiBT = [];                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentBT.close();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// this.DELVREFRESHWEH(oEvent)();                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Customers&nbsp;                                                                                                                                                                                                        
		clearBT: function () {                                                                                                                                                                                                                                       
			var oTable28 = sap.ui.getCore().byId("BTTable");                                                                                                                                                                                                            
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable28.getSelectedItems();                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable28.removeSelections(true);                                                                                                                                                                                                                           
				var aToken = this.getView().byId("BT").getTokens();                                                                                                                                                                                                        
				this.getView().byId("BT").destroyTokens([aToken]);                                                                                                                                                                                                         
				sap.ui.getCore().multiBT = [];                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("BTsel").setData([]);                                                                                                                                                                                                               
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mytypSearch");                                                                                                                                                                                                     
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("BT").removeAllTokens();                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Customers from Delivery block customer F4 selected table                                                                                                                                                                                   
		deleteSelectionBT: function (oEvent) {                                                                                                                                                                                                                       
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable29 = sap.ui.getCore().byId("BTselTable");                                                                                                                                                                                                         
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable29.removeItem(selectedItem);                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens  Multi Input                                                                                                                                                                                                                                 
		BTChange: function (oEvent) {                                                                                                                                                                                                                                
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("BTsel").getData().pop({                                                                                                                                                                                                           
					"Auart": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("BTsel").updateBindings(true);                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("Auart").getTokens();                                                                                                                                                                                                     
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMedia = aFilter;                                                                                                                                                                                                                    
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                         
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Bill Cust F4 END	                                                                                                                                                                                
		// onPersoButtonPressed: function (oEvent) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
		// this._oVDR1.openDialog({                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		// });                                                                                                                                                                                                                                                       
		// },                                                                                                                                                                                                                                                        
		/**                                                                                                                                                                                                                                                          
		 * Triggered by the table's 'updateFinished' event: after new table                                                                                                                                                                                          
		 * data is available, this handler method updates the table counter.                                                                                                                                                                                         
		 * This should only happen if the update was successful, which is                                                                                                                                                                                            
		 * why this handler is attached to 'updateFinished' and not to the                                                                                                                                                                                           
		 * table's list binding's 'dataReceived' method.                                                                                                                                                                                                             
		 * @param {sap.ui.base.Event} oEvent the update finished event                                                                                                                                                                                               
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onUpdateFinished: function (oEvent) {                                                                                                                                                                                                                        
			// update the worklist's object counter after the table update                                                                                                                                                                                              
			var sTitle,                                                                                                                                                                                                                                                 
				oTable = oEvent.getSource(),                                                                                                                                                                                                                               
				iTotalItems = oEvent.getParameter("total");                                                                                                                                                                                                                
			// only update the counter if the length is final and                                                                                                                                                                                                       
			// the table is not empty                                                                                                                                                                                                                                   
			if (iTotalItems && oTable.getBinding("items").isLengthFinal()) {                                                                                                                                                                                            
				sTitle = this.getResourceBundle().getText("worklistTableTitleCount", [iTotalItems]);                                                                                                                                                                       
			} else {                                                                                                                                                                                                                                                    
				sTitle = this.getResourceBundle().getText("worklistTableTitle");                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
			this.getModel("worklistView").setProperty("/worklistTableTitle", sTitle);                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler when a table item gets pressed                                                                                                                                                                                                              
		 * @param {sap.ui.base.Event} oEvent the table selectionChange event                                                                                                                                                                                         
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onPress: function (oEvent) {                                                                                                                                                                                                                                 
			// The source is the list item that got pressed                                                                                                                                                                                                             
			this._showObject(oEvent.getSource());                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler for navigating back.                                                                                                                                                                                                                        
		 * We navigate back in the browser history                                                                                                                                                                                                                   
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onNavBack: function () {                                                                                                                                                                                                                                     
			// eslint-disable-next-line sap-no-history-manipulation                                                                                                                                                                                                     
			history.go(-1);                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onSearch: function (oEvent) {                                                                                                                                                                                                                                
			if (oEvent.getParameters().refreshButtonPressed) {                                                                                                                                                                                                          
				// Search field's 'refresh' button has been pressed.                                                                                                                                                                                                       
				// This is visible if you select any master list item.                                                                                                                                                                                                     
				// In this case no new search is triggered, we only                                                                                                                                                                                                        
				// refresh the list binding.                                                                                                                                                                                                                               
				this.onRefresh();                                                                                                                                                                                                                                          
			} else {                                                                                                                                                                                                                                                    
				var aTableSearchState = [];                                                                                                                                                                                                                                
				var sQuery = oEvent.getParameter("query");                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				if (sQuery && sQuery.length > 0) {                                                                                                                                                                                                                         
					aTableSearchState = [new Filter("Arktx", FilterOperator.Contains, sQuery)];                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				this._applySearch(aTableSearchState);                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler for refresh event. Keeps filter, sort                                                                                                                                                                                                       
		 * and group settings and refreshes the list binding.                                                                                                                                                                                                        
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onRefresh: function () {                                                                                                                                                                                                                                     
			var oTable = this.byId("table");                                                                                                                                                                                                                            
			oTable.getBinding("items").refresh();                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Default dates in Billing Block Tab                                                                                                                                                                                                                        
		setBillDefaultDates: function () {                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var ndays = sap.ui.getCore().NoDays;                                                                                                                                                                                                                        
			var currentDate = new Date();                                                                                                                                                                                                                               
			var oToDate = this.getView().byId("Bedate");                                                                                                                                                                                                                
			oToDate.setDateValue(currentDate);                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// var date = currentDate;                                                                                                                                                                                                                                  
			// date = date.setDate(date.getDate() - 120);                                                                                                                                                                                                               
			// this.getView().byId("Bsdate").setDateValue(new Date(date));                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			var oDate = new Date();                                                                                                                                                                                                                                     
			var date = oDate;                                                                                                                                                                                                                                           
			date = date.setDate(date.getDate() - ndays);                                                                                                                                                                                                                
			this.getView().byId("Bsdate").setDateValue(new Date(date));                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			// var currentDate2 = new Date();                                                                                                                                                                                                                           
			// var oToDate2 = this.getView().byId("Bedate");                                                                                                                                                                                                            
			// oToDate2.setDateValue(currentDate2);                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// var oDateFormat = sap.ui.core.format.DateFormat.getInstance({                                                                                                                                                                                            
			// 	pattern: "yyyy-MM-dd"                                                                                                                                                                                                                                   
			// });                                                                                                                                                                                                                                                      
			// sap.ui.getCore().Bsdate = oDateFormat.format(currentDate);                                                                                                                                                                                               
			// sap.ui.getCore().Bedate = oDateFormat.format(currentDate2);                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// ZCACONSTANT data  Refresh Event Handler                                                                                                                                                                                                                   
		ConstdataEH: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			sap.ui.getCore().NoDays = "";                                                                                                                                                                                                                               
			// this.vbeln = sap.ui.getCore().Vbeln.trimRight();                                                                                                                                                                                                         
			// this.Prodh = sap.ui.getCore().Prodh;                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var odatamodelobject = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                              
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			var that = this;                                                                                                                                                                                                                                            
			odatamodelobject.read("/ZCACONSTSet", {                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, response) {                                                                                                                                                                                                                      
					var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					oJSONModel.setSizeLimit(oData.results.length);                                                                                                                                                                                                            
					oJSONModel.setData(oData);                                                                                                                                                                                                                                
					sap.ui.getCore().setModel(oJSONModel);                                                                                                                                                                                                                    
					this.getView().setModel(oJSONModel, "Const");                                                                                                                                                                                                             
					sap.ui.getCore().NoDays = oData.results[0].Low;                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					this.setBillDefaultDates();                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					this.BillRefreshEH();                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in Constant data refresh");                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Billing Block Refresh Event Handler                                                                                                                                                                                                                       
		BillRefreshEH: function (oEvent) {                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var oTable = this.getView().byId("Bill"); //reading                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var DataObject = {};                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var value = 0;                                                                                                                                                                                                                                              
			var value1 = 0;                                                                                                                                                                                                                                             
			DataObject.Vbeln = value;                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			var bsdate = this.getView().byId("Bsdate").getValue();                                                                                                                                                                                                      
			var bedate = this.getView().byId("Bedate").getValue();                                                                                                                                                                                                      
			sap.ui.getCore().bsdate = bsdate;                                                                                                                                                                                                                           
			sap.ui.getCore().bedate = bedate;                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (bedate < bsdate) {                                                                                                                                                                                                                                      
				// sap.m.MessageToast.show("'Date-To' earlier than 'Date-From',Please8 check! ");                                                                                                                                                                          
				sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please9 check! ");                                                                                                                                                                       
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var value1 = modelo.getProperty(items[i]).Posnr;                                                                                                                                                                                                         
			DataObject.Posnr = value1;                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					// new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, DataObject.Vbeln),                                                                                                                                                                    
					new sap.ui.model.Filter("Posnr", sap.ui.model.FilterOperator.EQ, DataObject.Posnr),                                                                                                                                                                       
					new sap.ui.model.Filter("Faksk", sap.ui.model.FilterOperator.EQ, "RF"),                                                                                                                                                                                   
					// new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().otypb2),                                                                                                                                                             
					new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, bsdate),                                                                                                                                                                                
					new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, bedate)                                                                                                                                                                                 
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var odatamodelobject = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                              
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			//  Read multiple BP selectec                                                                                                                                                                                                                               
			var DataObject2 = [];                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var items = this.getView().byId("BK").getTokens();                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			for (var i = 0; i < items.length; i++) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				var item = items[i].getText();                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, item));                                                                                                                                                                  
				// DataObject2.push(item);                                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                               
			//        oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                   
			//////////////////////////////////////                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//  Read multiple Orders selectec                                                                                                                                                                                                                           
			// var DataObject3 = [];                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			var items3 = this.getView().byId("Bso").getTokens();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			for (var i3 = 0; i3 < items3.length; i3++) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				var item3 = items3[i3].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, item3));                                                                                                                                                                 
				// DataObject2.push(item);                                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                               
			//        oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                   
			////////////////////////////////////////                                                                                                                                                                                                                    
			//  Read multiple Order Types selectec                                                                                                                                                                                                                      
			// var DataObject4 = [];                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			var items4 = this.getView().byId("BT3").getTokens();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			for (var i4 = 0; i4 < items4.length; i4++) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				var item4 = items4[i4].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, item4));                                                                                                                                                                 
				// DataObject2.push(item);                                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
			this.getView().setBusy(true);                                                                                                                                                                                                                               
			sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                                  
			oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                             
			//////////////////////////////////////&nbsp;                                                                                                                                                                                                                
			odatamodelobject.read("/BillingBlockSet", {                                                                                                                                                                                                                 
				filters: [oFilter],                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				success: function (oData, response) {                                                                                                                                                                                                                      
					var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					oJSONModel.setSizeLimit(oData.results.length);                                                                                                                                                                                                            
					oJSONModel.setData(oData);                                                                                                                                                                                                                                
					sap.ui.getCore().setModel(oJSONModel);                                                                                                                                                                                                                    
					this.getView().setModel(oJSONModel, "Billing");                                                                                                                                                                                                           
					this.getView().setBusy(false);                                                                                                                                                                                                                            
					// sap.m.MessageToast.show("Billing data refreshed");                                                                                                                                                                                                     
					// var itab4 = this.getView().byId("Tab4");                                                                                                                                                                                                               
					// itab4.setCount(oData.results.length);                                                                                                                                                                                                                  
					// oData.bindRows("/Billing");                                                                                                                                                                                                                            
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in Billing data refresh");                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// VA45 Data Refresh Event Handler                                                                                                                                                                                                                           
		ChartdataEH: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// var oTable = this.getView().byId("Bill"); //reading                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var DataObject1 = {};                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var value = 0;                                                                                                                                                                                                                                              
			var value1 = 0;                                                                                                                                                                                                                                             
			DataObject1.Vbeln = value;                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			var bsdate = this.getView().byId("Bsdate").getValue();                                                                                                                                                                                                      
			var bedate = this.getView().byId("Bedate").getValue();                                                                                                                                                                                                      
			sap.ui.getCore().bsdate = bsdate;                                                                                                                                                                                                                           
			sap.ui.getCore().bedate = bedate;                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (bedate < bsdate) {                                                                                                                                                                                                                                      
				// sap.m.MessageToast.show("'Date-To' earlier than 'Date-From',Please8 check! ");                                                                                                                                                                          
				sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please check! ");                                                                                                                                                                        
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var value1 = modelo.getProperty(items[i]).Posnr;                                                                                                                                                                                                         
			DataObject1.Posnr = value1;                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, DataObject1.Vbeln)                                                                                                                                                                       
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var odatamodelobjectc = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKED_SO_INFO_SRV/", {                                                                                                                                              
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			//////////////////////////////////////&nbsp;                                                                                                                                                                                                                
			// odatamodelobjectc.read("/CreditBlockedSOSet", {                                                                                                                                                                                                          
			// 	filters: [oFilter],                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// 	success: function (oDatac, response) {                                                                                                                                                                                                                  
			// 		var oJSONModelc = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// 		oJSONModelc.setSizeLimit(oDatac.results.length);                                                                                                                                                                                                       
			// 		oJSONModelc.setData(oDatac);                                                                                                                                                                                                                           
			// 		sap.ui.getCore().setModel(oJSONModelc);                                                                                                                                                                                                                
			// 		this.getView().setModel(oJSONModelc, "Chartdata");                                                                                                                                                                                                     
			// 		// sap.m.MessageToast.show("Billing data refreshed");                                                                                                                                                                                                  
			// 		// var itab4 = this.getView().byId("Tab4");                                                                                                                                                                                                            
			// 		// itab4.setCount(oData.results.length);                                                                                                                                                                                                               
			// 		// oData.bindRows("/Billing");                                                                                                                                                                                                                         
			// 	}.bind(this),                                                                                                                                                                                                                                           
			// 	error: function (oError) {                                                                                                                                                                                                                              
			// 		sap.m.MessageToast.show("Error in data refresh");                                                                                                                                                                                                      
			// 	}                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// });                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		////  DOWNLOAD Table data to Excel                                                                                                                                                                                                                           
		downloadExcel: function () {                                                                                                                                                                                                                                 
			var oTable = this.getView().byId("bill");                                                                                                                                                                                                                   
			var oTblCloums = oTable.getColumns();                                                                                                                                                                                                                       
			var aColumns = [];                                                                                                                                                                                                                                          
			oTblCloums.forEach(function (obj) {                                                                                                                                                                                                                         
				aColumns.push({                                                                                                                                                                                                                                            
					label: obj.getName(),                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
					property: obj.getSortProperty()                                                                                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
			});                                                                                                                                                                                                                                                         
			var mSettings = {                                                                                                                                                                                                                                           
				workbook: {                                                                                                                                                                                                                                                
					columns: aColumns,                                                                                                                                                                                                                                        
					context: {                                                                                                                                                                                                                                                
						application: "Blocked Orders",                                                                                                                                                                                                                           
						version: "1.87.0",                                                                                                                                                                                                                                       
						title: "Billing Blocked Order",                                                                                                                                                                                                                          
						// modifiedBy: "Nag Polina",                                                                                                                                                                                                                             
						metaSheetName: "Custom metadata"                                                                                                                                                                                                                         
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				dataSource: this.getView().getModel("Billing").getData().results,                                                                                                                                                                                          
				fileName: "BlockedOrders.xlsx"                                                                                                                                                                                                                             
			};                                                                                                                                                                                                                                                          
			var oSpreadsheet = new sap.ui.export.Spreadsheet(mSettings);                                                                                                                                                                                                
			oSpreadsheet.build();                                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMainSearch: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			value.toUpperCase();                                                                                                                                                                                                                                        
			var oFilter1 = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter2 = new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter3 = new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter4 = new sap.ui.model.Filter("Name1", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter5 = new sap.ui.model.Filter("Faksk", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter6 = new sap.ui.model.Filter("Faksd", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter7 = new sap.ui.model.Filter("Ernam", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter8 = new sap.ui.model.Filter("Vkorg", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			// var oFilter9 = new sap.ui.model.Filter("PurOrderDes", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                      
			// var oFilter10 = new sap.ui.model.Filter("PurOrder", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                        
			// var oFilter14 = new sap.ui.model.Filter("NewClaim", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                        
			// var oFilter15 = new sap.ui.model.Filter("RecClaim", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                        
			// var oFilter16 = new sap.ui.model.Filter("Status", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                          
			var oTable = this.getView().byId("bill");                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			var oTableItems = oTable.getBinding("rows");                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var orFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                    
				filters: [oFilter1, oFilter2, oFilter3, oFilter4, oFilter5, oFilter6, oFilter7, oFilter8                                                                                                                                                                   
					// oFilter7, oFilter8, oFilter9, oFilter10,                                                                                                                                                                                                               
					// 	oFilter11, oFilter12, oFilter13, oFilter14, oFilter15, oFilter16                                                                                                                                                                                      
				],                                                                                                                                                                                                                                                         
				and: false                                                                                                                                                                                                                                                 
			});                                                                                                                                                                                                                                                         
			var aFilter = [orFilter];                                                                                                                                                                                                                                   
			oTableItems.filter(aFilter);                                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////// START OTCM-46300 Events //////////	                                                                                                                                                                                                      
		// user blocks data  Refresh Event Handler                                                                                                                                                                                                                   
		ControldataEH: function (oEvent) {                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().BILLING = "";                                                                                                                                                                                                                              
			sap.ui.getCore().VA45 = "";                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var odatamodelobject = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                              
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			var that = this;                                                                                                                                                                                                                                            
			odatamodelobject.read("/reportAuthSet", {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, response) {                                                                                                                                                                                                                      
					var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					oJSONModel.setSizeLimit(oData.results.length);                                                                                                                                                                                                            
					oJSONModel.setData(oData);                                                                                                                                                                                                                                
					sap.ui.getCore().setModel(oJSONModel);                                                                                                                                                                                                                    
					this.getView().setModel(oJSONModel, "UAccess");                                                                                                                                                                                                           
					sap.ui.getCore().BILLING = oData.results[0].BILLING;                                                                                                                                                                                                      
					sap.ui.getCore().VA45 = oData.results[0].VA45;                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
					if (sap.ui.getCore().BILLING === "X") {                                                                                                                                                                                                                   
						this.getView().byId("Tab1").setVisible(true);                                                                                                                                                                                                            
					} else {                                                                                                                                                                                                                                                  
						this.getView().byId("Tab1").setVisible(false);                                                                                                                                                                                                           
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					if (sap.ui.getCore().VA45 === "X") {                                                                                                                                                                                                                      
						this.getView().byId("Tab2").setVisible(true);                                                                                                                                                                                                            
					} else {                                                                                                                                                                                                                                                  
						this.getView().byId("Tab2").setVisible(false);                                                                                                                                                                                                           
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in Constant data refresh");                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		VA45RefreshEHF: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			sap.ui.getCore().valdatF = this.getView().byId("newFrag--Bsdate1F").getValue(); //Valid from                                                                                                                                                                
			sap.ui.getCore().valdatT = this.getView().byId("newFrag--Bedate1F").getValue(); // Valid to                                                                                                                                                                 
			sap.ui.getCore().credatF = this.getView().byId("newFrag--SerdatF").getValue(); // Created from                                                                                                                                                              
			sap.ui.getCore().credatT = this.getView().byId("newFrag--EerdatF").getValue(); // Created to                                                                                                                                                                
			sap.ui.getCore().docdatF = this.getView().byId("newFrag--SaudatF").getValue(); // Doc Date from                                                                                                                                                             
			sap.ui.getCore().docdatT = this.getView().byId("newFrag--EaudatF").getValue(); // Date date to	                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// var rej = sap.ui.getCore().byId("rej45F");                                                                                                                                                                                                               
			sap.ui.getCore().rejval = this.getView().byId("newFrag--rej45F").getSelectedItem().getKey();                                                                                                                                                                
                                                                                                                                                                                                                                                               
			this.cancelVA45SEL();                                                                                                                                                                                                                                       
			this.VA45RefreshEH();                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		///// Get VA45 Icon Tab  summary&nbsp;                                                                                                                                                                                                                       
		// VA45 Data Refresh Event Handler                                                                                                                                                                                                                           
		fragmentva45sel: null,                                                                                                                                                                                                                                       
		VA45RefreshEH: function (oEvent) {                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var deld = sap.ui.getCore().valdatF;                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var del = sap.ui.getCore().datsf;                                                                                                                                                                                                                           
			var DataObject1 = {};                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var value = 0;                                                                                                                                                                                                                                              
			var value1 = 0;                                                                                                                                                                                                                                             
			DataObject1.Vbeln = value;                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			var bsdate1 = this.getView().byId("Bsdate1").getValue();                                                                                                                                                                                                    
			var bedate1 = this.getView().byId("Bedate1").getValue();                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			var Serdat = this.getView().byId("Serdat").getValue();                                                                                                                                                                                                      
			var Eerdat = this.getView().byId("Eerdat").getValue();                                                                                                                                                                                                      
			var Saudat = this.getView().byId("Saudat").getValue();                                                                                                                                                                                                      
			var Eaudat = this.getView().byId("Eaudat").getValue();                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var abgru45 = this.getView().byId("rej45").getSelectedItem();                                                                                                                                                                                               
			var abgr = abgru45.getKey();                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var rejst = sap.ui.getCore().rejval;                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			if (rejst == "") {                                                                                                                                                                                                                                          
				rejst = abgr;                                                                                                                                                                                                                                              
			} else {                                                                                                                                                                                                                                                    
				abgr = rejst;                                                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			sap.ui.getCore().ABGRU = abgr;                                                                                                                                                                                                                              
			if (bedate1 < bsdate1) {                                                                                                                                                                                                                                    
				// sap.m.MessageToast.show("'Date-To' earlier than 'Date-From',Please8 check! ");                                                                                                                                                                          
				sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please check! ");                                                                                                                                                                        
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// var value1 = modelo.getProperty(items[i]).Posnr;                                                                                                                                                                                                         
			DataObject1.Posnr = value1;                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					new sap.ui.model.Filter("FLAG", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().oKey),                                                                                                                                                                   
					new sap.ui.model.Filter("ABGRU", sap.ui.model.FilterOperator.EQ, abgr),                                                                                                                                                                                   
					new sap.ui.model.Filter("ANGDT", sap.ui.model.FilterOperator.EQ, bsdate1),                                                                                                                                                                                
					new sap.ui.model.Filter("BNDDT", sap.ui.model.FilterOperator.EQ, bedate1),                                                                                                                                                                                
					new sap.ui.model.Filter("ERDAT", sap.ui.model.FilterOperator.EQ, Serdat),                                                                                                                                                                                 
					new sap.ui.model.Filter("ERDAT", sap.ui.model.FilterOperator.EQ, Eerdat),                                                                                                                                                                                 
					new sap.ui.model.Filter("AUDAT", sap.ui.model.FilterOperator.EQ, Saudat),                                                                                                                                                                                 
					new sap.ui.model.Filter("AUDAT", sap.ui.model.FilterOperator.EQ, Eaudat)                                                                                                                                                                                  
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var odatamodelobject = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                              
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			//  Read multiple BP selected                                                                                                                                                                                                                               
			var DataObject2 = [];                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var items = this.getView().byId("BK45").getTokens();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			for (var i = 0; i < items.length; i++) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				var item = items[i].getText();                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("KUNNR", sap.ui.model.FilterOperator.EQ, item));                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			//////////////////////////////////////                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//  Read multiple Sales Orgs selected                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var items3 = this.getView().byId("SOrg45").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			for (var i3 = 0; i3 < items3.length; i3++) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				var item3 = items3[i3].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("VKORG", sap.ui.model.FilterOperator.EQ, item3));                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().multiItype3 = DataObject2;                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var itemsv = this.getView().byId("SOrd45").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			for (var i5 = 0; i5 < itemsv.length; i5++) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				var itemv = itemsv[i5].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.EQ, itemv));                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().multiItypev = DataObject2;                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			////////////////////////////////////////                                                                                                                                                                                                                    
			//  Read multiple Order Types selected                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var items4 = this.getView().byId("auart45").getTokens();                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			for (var i4 = 0; i4 < items4.length; i4++) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				var item4 = items4[i4].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				DataObject2.push(new sap.ui.model.Filter("AUART", sap.ui.model.FilterOperator.EQ, item4));                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.getView().setBusy(true);                                                                                                                                                                                                                               
			sap.ui.getCore().multiItype2 = DataObject2;                                                                                                                                                                                                                 
			oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                             
			//////////////////////////////////////&nbsp;                                                                                                                                                                                                                
			odatamodelobject.read("/VA45_SumSet", {                                                                                                                                                                                                                     
				filters: [oFilter],                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				success: function (oDatas, response) {                                                                                                                                                                                                                     
					var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					oJSONModel.setSizeLimit(oDatas.results.length);                                                                                                                                                                                                           
					oJSONModel.setData(oDatas);                                                                                                                                                                                                                               
					sap.ui.getCore().setModel(oJSONModel);                                                                                                                                                                                                                    
					this.getView().setModel(oJSONModel, "SUMVA45");                                                                                                                                                                                                           
					this.getView().setBusy(false);                                                                                                                                                                                                                            
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in VA45 data refresh");                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
			// this.cancelVA45SEL();                                                                                                                                                                                                                                    
			this.HideRefreshEH();                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		TabSelectEH: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var oKey = oEvent.getParameter("selectedKey");                                                                                                                                                                                                              
			var vars = this.getView().byId("rej45");                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			vars.setSelectedKey("A");                                                                                                                                                                                                                                   
			sap.ui.getCore().abgru45 = vars;                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var oTable = this.byId("va45");                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var oInitilaFilter;                                                                                                                                                                                                                                         
			switch (oKey) {                                                                                                                                                                                                                                             
			case "Key1":                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				break;                                                                                                                                                                                                                                                     
			case "Key2":                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				sap.ui.getCore().oKey = oKey;                                                                                                                                                                                                                              
				this.VA45ConstdataEH();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				break;                                                                                                                                                                                                                                                     
				//BOC  Delivery Report OTCM-44804 10/11/2021 E266 VDPATABALL                                                                                                                                                                                               
			case "Key3":                                                                                                                                                                                                                                                
				this.chart();                                                                                                                                                                                                                                              
				this.Dunning();                                                                                                                                                                                                                                            
				break;                                                                                                                                                                                                                                                     
				// EOC Delivery Report OTCM-44804 10/11/2021 E266 VDPATABALL                                                                                                                                                                                               
			default:                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////BOC OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Customer F4 END	                                                                                                                                                                                 
		//Customer f4                                                                                                                                                                                                                                                
		//      Customer: "",                                                                                                                                                                                                                                        
		inputcustomer: "",                                                                                                                                                                                                                                           
		fragmentcustomer: null,                                                                                                                                                                                                                                      
		onHelpRequestKunnr: function (oEvent) {                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			this.inputkunnr = oEvent.getSource().getId();                                                                                                                                                                                                               
			if (this.fragmentcustomer === null) {                                                                                                                                                                                                                       
				this.fragmentcustomer = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentcustomer", this);                                                                                                                                                   
				this.fragmentcustomer.setTitle("Customer Value Help");                                                                                                                                                                                                     
				this.getView().addDependent(this.fragmentcustomer);                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentcustomer.open();                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Aftre clicking Ok on popup                                                                                                                                                                                                                                 
		handleHelpcustmerConfirm: function (oEvent) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("selectedItem");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var Value = selectedItem.getLabel();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId(this.inputcustomer).setValue(Value);                                                                                                                                                                                                  
			sap.ui.getCore().customer = Value ? Value : null;                                                                                                                                                                                                           
			//	this.shipToSelected();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// /Change tokens in Media Multi Input                                                                                                                                                                                                                       
		customerChange: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed" || value === "removedAll") {                                                                                                                                                                                                        
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("sel1").getData().pop({                                                                                                                                                                                                            
					"Kunnr": text                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("customerInput").getTokens();                                                                                                                                                                                             
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multicustomer = aFilter;                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multicustomer = [];                                                                                                                                                                                                                      
					sap.ui.getCore().customer = null;                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.getData();                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		// Accept Button Media issue F4                                                                                                                                                                                                                              
		acceptcustomer: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oTable5 = sap.ui.getCore().byId("mySelProdTable1"); //mySelProdTable");                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var selectedItems = oTable5.getItems();                                                                                                                                                                                                                     
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				var aToken = this.getView().byId("customerInput").getTokens();                                                                                                                                                                                             
				this.getView().byId("customerInput").destroyTokens([aToken]);                                                                                                                                                                                              
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("sel1").getProperty("Kunnr");                                                                                                                                                                       
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("customerInput").addToken(defToken);                                                                                                                                                                                                  
					sap.ui.getCore().customer = selectedItem;                                                                                                                                                                                                                 
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multicustomer = aFilter;                                                                                                                                                                                                                  
				sap.ui.getCore().byId("myProdTable1").removeSelections(true);                                                                                                                                                                                              
			} else {                                                                                                                                                                                                                                                    
				aToken = this.getView().byId("customerInput").getTokens();                                                                                                                                                                                                 
				this.getView().byId("customerInput").destroyTokens([aToken]);                                                                                                                                                                                              
				sap.ui.getCore().customer = null;                                                                                                                                                                                                                          
				sap.ui.getCore().multicustomer = [];                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentcustomer.close();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			// this.getData();                                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelcustomer: function () {                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			this.fragmentcustomer.close();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		deleteSelectioncustomer: function (oEvent) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable5 = sap.ui.getCore().byId("mySelProdTable1");                                                                                                                                                                                                     
			oTable5.removeItem(selectedItem);                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Medis issue rows selections	                                                                                                                                                                                                                               
		rowSelectioncustomer: function (oEvent) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Kunnr");                                                                                                                                                         
					this.getView().getModel("sel1").getData().push({                                                                                                                                                                                                          
						"Kunnr": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                     
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Kunnr");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("sel1").getData().push({                                                                                                                                                                                                          
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                     
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("sel1").getData().pop({                                                                                                                                                                                                           
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel1").updateBindings(true);                                                                                                                                                                                                     
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("sel1").setData([]);                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		clearcustomer: function () {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var oTable4 = sap.ui.getCore().byId("myProdTable1");                                                                                                                                                                                                        
			var selectedItems = oTable4.getSelectedItems();                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable4.removeSelections(true);                                                                                                                                                                                                                            
				var aToken = this.getView().byId("customerInput").getTokens();                                                                                                                                                                                             
				this.getView().byId("customerInput").destroyTokens([aToken]);                                                                                                                                                                                              
				sap.ui.getCore().multicustomer = [];                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("sel1").setData([]);                                                                                                                                                                                                                
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Serch Media issues on F4 Media issue                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		searchEH2: function (oEvent) {                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Name1", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable4 = sap.ui.getCore().byId("myProdTable1");                                                                                                                                                                                                        
			var oTableItems = oTable4.getBinding("items");                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			oTableItems.filter(oFilter);                                                                                                                                                                                                                                
			oTable4.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Material f4                                                                                                                                                                                                                                                
		//       inputPRDID: "",                                                                                                                                                                                                                                     
		inputMedia: "",                                                                                                                                                                                                                                              
		fragmentProd: null,                                                                                                                                                                                                                                          
		onHelpRequestPRD: function (oEvent) {                                                                                                                                                                                                                        
			this.inputPRDID = oEvent.getSource().getId();                                                                                                                                                                                                               
			if (this.fragmentProd === null) {                                                                                                                                                                                                                           
				this.fragmentProd = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentProd", this);                                                                                                                                                           
				this.fragmentProd.setTitle("Product Value Help");                                                                                                                                                                                                          
				this.getView().addDependent(this.fragmentProd);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentProd.open();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Aftre clicking Ok on popup                                                                                                                                                                                                                                 
		handleHelpConfirm: function (oEvent) {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("selectedItem");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var Value = selectedItem.getLabel();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId(this.inputMedia).setValue(Value);                                                                                                                                                                                                     
			sap.ui.getCore().media7 = Value ? Value : null;                                                                                                                                                                                                             
			//	this.shipToSelected();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// /Change tokens in Media Multi Input                                                                                                                                                                                                                       
		mediaChange: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed" || value === "removedAll") {                                                                                                                                                                                                        
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("sel").getData().pop({                                                                                                                                                                                                             
					"Matnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                              
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMedia7 = aFilter;                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMedia7 = [];                                                                                                                                                                                                                        
					sap.ui.getCore().media7 = null;                                                                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.getData();                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		// Accept Button Media issue F4                                                                                                                                                                                                                              
		acceptProd: function (oEvent) {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oTable = sap.ui.getCore().byId("mySelProdTable"); //mySelProdTable");                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			var selectedItems = oTable.getItems();                                                                                                                                                                                                                      
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                              
				this.getView().byId("productInput").destroyTokens([aToken]);                                                                                                                                                                                               
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("sel").getProperty("Matnr");                                                                                                                                                                        
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("productInput").addToken(defToken);                                                                                                                                                                                                   
					sap.ui.getCore().media7 = selectedItem;                                                                                                                                                                                                                   
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiMedia7 = aFilter;                                                                                                                                                                                                                    
				sap.ui.getCore().byId("myProdTable").removeSelections(true);                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                                  
				this.getView().byId("productInput").destroyTokens([aToken]);                                                                                                                                                                                               
				sap.ui.getCore().media7 = null;                                                                                                                                                                                                                            
				sap.ui.getCore().multiMedia7 = [];                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentProd.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// this.getData();                                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelProd: function () {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			this.fragmentProd.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		deleteSelectionMedia: function (oEvent) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable = sap.ui.getCore().byId("mySelProdTable");                                                                                                                                                                                                       
			oTable.removeItem(selectedItem);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			// if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                  
			// 	this.getView().getModel("sel").getData().push({                                                                                                                                                                                                         
			// 		"Matnr": selectedItem                                                                                                                                                                                                                                  
			// 	});                                                                                                                                                                                                                                                     
			// 	this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                    
			// 	//deselected single row                                                                                                                                                                                                                                 
			// }&nbsp;                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Medis issue rows selections	                                                                                                                                                                                                                               
		rowSelectionMedia: function (oEvent) {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Matnr");                                                                                                                                                         
					this.getView().getModel("sel").getData().push({                                                                                                                                                                                                           
						"Matnr": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                      
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Matnr");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("sel").getData().push({                                                                                                                                                                                                           
						"Matnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                      
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("sel").getData().pop({                                                                                                                                                                                                            
						"Matnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("sel").updateBindings(true);                                                                                                                                                                                                      
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("sel").setData([]);                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		clearProd: function () {                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                          
			var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable.removeSelections(true);                                                                                                                                                                                                                             
				var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                              
				this.getView().byId("productInput").destroyTokens([aToken]);                                                                                                                                                                                               
				sap.ui.getCore().multiMedia7 = [];                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("sel").setData([]);                                                                                                                                                                                                                 
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Serch Media issues on F4 Media issue                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		searchEH: function (oEvent) {                                                                                                                                                                                                                                
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Maktx", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                          
			var oTableItems = oTable.getBinding("items");                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			oTableItems.filter(oFilter);                                                                                                                                                                                                                                
			oTable.removeSelections(true);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// /////EOC OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                            
		// ZCACONSTANT data  Refresh Event Handler                                                                                                                                                                                                                   
		VA45ConstdataEH: function (oEvent) {                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			sap.ui.getCore().NoDays45 = "";                                                                                                                                                                                                                             
			sap.ui.getCore().Serdat45 = "";                                                                                                                                                                                                                             
			sap.ui.getCore().Eerdat45 = "";                                                                                                                                                                                                                             
			// sap.ui.getCore().CreatedDays45 = "";                                                                                                                                                                                                                     
			// this.vbeln = sap.ui.getCore().Vbeln.trimRight();                                                                                                                                                                                                         
			// this.Prodh = sap.ui.getCore().Prodh;                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var oFilter2 = new sap.ui.model.Filter({                                                                                                                                                                                                                    
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var odatamodelobject2 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                             
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			var that = this;                                                                                                                                                                                                                                            
			odatamodelobject2.read("/VA45CONSTSet", {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				filters: [oFilter2],                                                                                                                                                                                                                                       
				success: function (oData45, response) {                                                                                                                                                                                                                    
					var oJSONModel2 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					oJSONModel2.setSizeLimit(oData45.results.length);                                                                                                                                                                                                         
					oJSONModel2.setData(oData45);                                                                                                                                                                                                                             
					sap.ui.getCore().setModel(oJSONModel2);                                                                                                                                                                                                                   
					this.getView().setModel(oJSONModel2, "Const45");                                                                                                                                                                                                          
					sap.ui.getCore().NoDays45 = oData45.results[0].Low;                                                                                                                                                                                                       
					sap.ui.getCore().NoDaysCRE45 = oData45.results[0].High;                                                                                                                                                                                                   
					// sap.ui.getCore().Serdate45 = oData45.results[1].Low;                                                                                                                                                                                                   
					// sap.ui.getCore().Eerdate45 = oData45.results[1].High;                                                                                                                                                                                                  
					this.setVA45DefaultDates();                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					this.VA45RefreshEH();                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in Constant data refresh");                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Default dates in VA45 Tab                                                                                                                                                                                                                                 
		setVA45DefaultDates: function () {                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var ndays45 = sap.ui.getCore().NoDays45;                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			var oDate = new Date();                                                                                                                                                                                                                                     
			var date = oDate;                                                                                                                                                                                                                                           
			var year = sap.ui.getCore().NoDaysCRE45;                                                                                                                                                                                                                    
			date = date.setDate(date.getDate() - year);                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var serdati = this.getView().byId("Serdat").getValue(); // Set Default date for Created from                                                                                                                                                                
			if (serdati == "") {                                                                                                                                                                                                                                        
				this.getView().byId("Serdat").setDateValue(new Date(date));                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oDate2 = new Date();                                                                                                                                                                                                                                    
			var eerdati = this.getView().byId("Eerdat").getValue(); // Set Default date for Created to                                                                                                                                                                  
			if (eerdati == "") {                                                                                                                                                                                                                                        
				this.getView().byId("Eerdat").setDateValue(oDate2);                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var currentDate = new Date();                                                                                                                                                                                                                               
			var datev = currentDate;                                                                                                                                                                                                                                    
			datev = datev.setDate(datev.getDate() - ndays45);                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var bsdati = this.getView().byId("Bsdate1").getValue(); // Set Default date for Valid from                                                                                                                                                                  
			if (bsdati == "") {                                                                                                                                                                                                                                         
				this.getView().byId("Bsdate1").setDateValue(new Date(datev));                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var currentdate = new Date();                                                                                                                                                                                                                               
			var cdate = new Date();                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var bedati = this.getView().byId("Bedate1").getValue(); // Set Default date for Valid from                                                                                                                                                                  
			if (bedati == "") {                                                                                                                                                                                                                                         
				this.getView().byId("Bedate1").setDateValue(cdate);                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().xdate = cdate;                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			sap.ui.getCore().SCREDAT = oDate;                                                                                                                                                                                                                           
			sap.ui.getCore().ECREDAT = oDate2;                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			sap.ui.getCore().SVDAT = oDate;                                                                                                                                                                                                                             
			sap.ui.getCore().EVDAT = cdate;                                                                                                                                                                                                                             
			// 	 var sFragmentId = this.getView().createId("FragmentVA45Selection");                                                                                                                                                                                    
			//var sControlId = "dgsel2";                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			//var oText = sap.ui.core.Fragment.byId(sFragmentId, sControlId);                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//sap.ui.getCore().byId("Bsdate1F").setDateValue(cdate);                                                                                                                                                                                                    
			// var frag = sap.ui.getCore().byId("F1");                                                                                                                                                                                                                  
			// var test = Fragment.byId(frag, "Bsdate1F").setDateValue();                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		HideRefreshEH: function () {                                                                                                                                                                                                                                 
			this.getView().byId("show1").setVisible(true);                                                                                                                                                                                                              
			this.getView().byId("hide1").setVisible(false);                                                                                                                                                                                                             
			this.getView().byId("ftb1").setVisible(false);                                                                                                                                                                                                              
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		ShowRefreshEH: function () {                                                                                                                                                                                                                                 
			if (!this.pDialog) {                                                                                                                                                                                                                                        
				this.pDialog = this.loadFragment({                                                                                                                                                                                                                         
					name: "Block_Orders.Block_Orders.view.FragmentVA45Selection",                                                                                                                                                                                             
					id: "newFrag"                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			this.pDialog.then(function (oDialog) {                                                                                                                                                                                                                      
				//this.byId("newFrag--Bsdate1F")                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				var bsdatef = this.byId("newFrag--Bsdate1F");                                                                                                                                                                                                              
				var bsedatval = bsdatef.getValue();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				var bedatef = this.byId("newFrag--Bedate1F");                                                                                                                                                                                                              
				var bedatval = bedatef.getValue();                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				var sedat = this.byId("newFrag--SerdatF");                                                                                                                                                                                                                 
				var sedatval = sedat.getValue();                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				var eedat = this.byId("newFrag--EerdatF");                                                                                                                                                                                                                 
				var eedatval = eedat.getValue();                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				if (bsedatval == "") {                                                                                                                                                                                                                                     
					bsdatef.setDateValue(sap.ui.getCore().SVDAT);                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				if (bedatval == "") {                                                                                                                                                                                                                                      
					bedatef.setDateValue(sap.ui.getCore().EVDAT);                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				if (sedatval == "") {                                                                                                                                                                                                                                      
					// this.getView().byId("Serdat").setDateValue(new Date(date));                                                                                                                                                                                            
					sedat.setDateValue(sap.ui.getCore().SCREDAT);                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				if (sedatval == "") {                                                                                                                                                                                                                                      
					eedat.setDateValue(sap.ui.getCore().ECREDAT);                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				oDialog.setTitle("Selection Screen.... ");                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				oDialog.open();                                                                                                                                                                                                                                            
			}.bind(this));                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			// this.fragmentSEL45 = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.FragmentVA45Selection", this);                                                                                                                                               
			// this.getView().addDependent(this.fragmentSEL45);                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// this.fragmentSEL45.setTitle("Input Selection.....");                                                                                                                                                                                                     
			// this.fragmentSEL45.open();                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			this.getView().byId("hide1").setVisible(true);                                                                                                                                                                                                              
			this.getView().byId("show1").setVisible(false);                                                                                                                                                                                                             
			this.getView().byId("ftb1").setVisible(false);                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		varDateEH: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var valdates = this.getView().byId("newFrag--Bsdate1F").getValue(); //Valid from                                                                                                                                                                            
			sap.ui.getCore().valdatF = valdates;                                                                                                                                                                                                                        
			// var bserdati = this.getView().byId("Bsdate1").getValue();                                                                                                                                                                                                
			this.getView().byId("Bsdate1").setDateValue(new Date(valdates));                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var valdatee = this.getView().byId("newFrag--Bedate1F").getValue(); // Valid to                                                                                                                                                                             
			sap.ui.getCore().valdatT = valdatee;                                                                                                                                                                                                                        
			this.getView().byId("Bedate1").setDateValue(new Date(valdatee));                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var credates = this.getView().byId("newFrag--SerdatF").getValue(); // Created from                                                                                                                                                                          
			sap.ui.getCore().credatF = credates;                                                                                                                                                                                                                        
			var serdati = this.getView().byId("Serdat").getValue();                                                                                                                                                                                                     
			this.getView().byId("Serdat").setDateValue(new Date(credates));                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var credatee = this.getView().byId("newFrag--EerdatF").getValue(); // Created to                                                                                                                                                                            
			sap.ui.getCore().credatT = credatee;                                                                                                                                                                                                                        
			this.getView().byId("Eerdat").setDateValue(new Date(credatee));                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var docdates = this.getView().byId("newFrag--SaudatF").getValue(); // Doc Date from                                                                                                                                                                         
			sap.ui.getCore().docdatF = docdates;                                                                                                                                                                                                                        
			this.getView().byId("Saudat").setDateValue(new Date(docdates));                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var docdatee = this.getView().byId("newFrag--EaudatF").getValue(); // Date date to	                                                                                                                                                                         
			sap.ui.getCore().docdatT = docdatee;                                                                                                                                                                                                                        
			this.getView().byId("Eaudat").setDateValue(new Date(docdatee));                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var rej45st = this.getView().byId("newFrag--rej45F").getSelectedItem().getKey();                                                                                                                                                                            
			sap.ui.getCore().rejval = rej45st;                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button  for Rejected popup list                                                                                                                                                                                                                     
		cancelVA45SEL: function (oEvent) {                                                                                                                                                                                                                           
			this.getView().byId("show1").setVisible(true);                                                                                                                                                                                                              
			this.getView().byId("hide1").setVisible(false);                                                                                                                                                                                                             
			this.byId("newFrag--dgsel2").close();                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMainSearch45: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			value.toUpperCase();                                                                                                                                                                                                                                        
			var oFilter1 = new sap.ui.model.Filter("AUART", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter2 = new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter3 = new sap.ui.model.Filter("KUNNR", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter4 = new sap.ui.model.Filter("NAME1", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter5 = new sap.ui.model.Filter("VKORG", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter6 = new sap.ui.model.Filter("ERDAT", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter7 = new sap.ui.model.Filter("ERNAM", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter8 = new sap.ui.model.Filter("BSTNK", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var oTable = this.getView().byId("va45");                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			var oTableItems = oTable.getBinding("rows");                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var orFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                    
				filters: [oFilter1, oFilter2, oFilter3, oFilter4, oFilter5, oFilter6, oFilter7, oFilter8                                                                                                                                                                   
					// oFilter7, oFilter8, oFilter9, oFilter10,                                                                                                                                                                                                               
					// 	oFilter11, oFilter12, oFilter13, oFilter14, oFilter15, oFilter16                                                                                                                                                                                      
				],                                                                                                                                                                                                                                                         
				and: false                                                                                                                                                                                                                                                 
			});                                                                                                                                                                                                                                                         
			var aFilter = [orFilter];                                                                                                                                                                                                                                   
			oTableItems.filter(aFilter);                                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		///// Start Display rejected Items                                                                                                                                                                                                                           
		fragmentRI: null,                                                                                                                                                                                                                                            
		RitemsEH: function (oEvent) {                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// var listRules=this.getView().byId("myTable");                                                                                                                                                                                                            
			// listRules.getModel().refresh();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			sap.ui.getCore().Vbeln = this.getView().getModel("SUMVA45").getProperty("VBELN", oEvent.getSource().getBindingContext(                                                                                                                                      
				"SUMVA45"));                                                                                                                                                                                                                                               
			// sap.ui.getCore().Prodh = "";   Block_Orders.Block_Orders.controller.Worklist                                                                                                                                                                             
			// this.vbeln = sap.ui.getCore().Vbeln.trimRight();                                                                                                                                                                                                         
			// this.Prodh = sap.ui.getCore().Prodh;                                                                                                                                                                                                                     
			this.getRejItemDetails();                                                                                                                                                                                                                                   
			if (this.fragmentRI === null) {                                                                                                                                                                                                                             
				this.fragmentRI = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.FragmentRejList", this);                                                                                                                                                          
				this.getView().addDependent(this.fragmentRI);                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			this.fragmentRI.setTitle("Rejected Items of" + " " + sap.ui.getCore().Vbeln);                                                                                                                                                                               
			//this.fragment2.addStyleClass("styleclass1");                                                                                                                                                                                                              
			this.fragmentRI.open();                                                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		getRejItemDetails: function () {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var objFilter2 = new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.EQ, this.vbeln);                                                                                                                                                              
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [                                                                                                                                                                                                                                                 
					// objFilter1                                                                                                                                                                                                                                             
					new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().Vbeln),                                                                                                                                                                 
					new sap.ui.model.Filter("ABGRU", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().ABGRU)                                                                                                                                                                  
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			var sUrl = "/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/";                                                                                                                                                                                                 
			var oDatam2 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			oDatam2.refresh(true);                                                                                                                                                                                                                                      
			this.getView().setBusy(true);                                                                                                                                                                                                                               
			oDatam2.read("/VA45_RejectItemsSet", {                                                                                                                                                                                                                      
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData17, response) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
					var oJSONM17 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                         
					oJSONM17.refresh(true);                                                                                                                                                                                                                                   
					oJSONM17.setData(oData17);                                                                                                                                                                                                                                
					sap.ui.getCore().setModel(oJSONM17);                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					this.getView().setModel(oJSONM17, "RejItems");                                                                                                                                                                                                            
					this.getView().setBusy(false);                                                                                                                                                                                                                            
					// sap.m.MessageToast.show("Success");                                                                                                                                                                                                                    
					oData17.bindRows("/RejItems");                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Data Read error ");                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button  for Rejected popup list                                                                                                                                                                                                                     
		cancelREJItem: function () {                                                                                                                                                                                                                                 
			this.fragmentRI.close();                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
		///// End Display rejected Items                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		/////  Start Dusplay Line Items                                                                                                                                                                                                                              
		fragmentLI45: null,                                                                                                                                                                                                                                          
		va45itemsEH: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// var listRules=this.getView().byId("myTable");                                                                                                                                                                                                            
			// listRules.getModel().refresh();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			sap.ui.getCore().Vbeln = this.getView().getModel("SUMVA45").getProperty("VBELN", oEvent.getSource().getBindingContext(                                                                                                                                      
				"SUMVA45"));                                                                                                                                                                                                                                               
			// sap.ui.getCore().Prodh = "";   Block_Orders.Block_Orders.controller.Worklist                                                                                                                                                                             
			// this.vbeln = sap.ui.getCore().Vbeln.trimRight();                                                                                                                                                                                                         
			// this.Prodh = sap.ui.getCore().Prodh;                                                                                                                                                                                                                     
			this.getVA45ItemDetails();                                                                                                                                                                                                                                  
			if (this.fragmentLI45 === null) {                                                                                                                                                                                                                           
				this.fragmentLI45 = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.FragmentVA45Items", this);                                                                                                                                                      
				this.getView().addDependent(this.fragmentLI45);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			this.fragmentLI45.setTitle("Line Items of" + " " + sap.ui.getCore().Vbeln);                                                                                                                                                                                 
			//this.fragment2.addStyleClass("styleclass1");                                                                                                                                                                                                              
			this.fragmentLI45.open();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		getVA45ItemDetails: function () {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			var objFilter2 = new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.EQ, this.vbeln);                                                                                                                                                              
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [                                                                                                                                                                                                                                                 
					// objFilter1                                                                                                                                                                                                                                             
					new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().Vbeln),                                                                                                                                                                 
					new sap.ui.model.Filter("ABGRU", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().ABGRU)                                                                                                                                                                  
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			var sUrl = "/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/";                                                                                                                                                                                                 
			var oDatam1 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			oDatam1.refresh(true);                                                                                                                                                                                                                                      
			this.getView().setBusy(true);                                                                                                                                                                                                                               
			oDatam1.read("/VA45_AllItemsSet", {                                                                                                                                                                                                                         
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData16, response) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
					var oJSONM16 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                         
					oJSONM16.refresh(true);                                                                                                                                                                                                                                   
					oJSONM16.setData(oData16);                                                                                                                                                                                                                                
					sap.ui.getCore().setModel(oJSONM16);                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					this.getView().setModel(oJSONM16, "va45Items");                                                                                                                                                                                                           
					this.getView().setBusy(false);                                                                                                                                                                                                                            
					// sap.m.MessageToast.show("Success");                                                                                                                                                                                                                    
					oData16.bindRows("/va45Items");                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Data Read error ");                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		//Cancel Button  for Rejected popup list                                                                                                                                                                                                                     
		cancelVA45Item: function () {                                                                                                                                                                                                                                
			this.fragmentLI45.close();                                                                                                                                                                                                                                  
		},                                                                                                                                                                                                                                                           
		/////  End Dusplay Line Items                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
		//// RELEASE Reason for rejection Update                                                                                                                                                                                                                     
		fragmentDI: null,                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/////Start  F4 for Contract type VA45                                                                                                                                                                                                                        
		inputCT45: "",                                                                                                                                                                                                                                               
		fragmentCT45: null,                                                                                                                                                                                                                                          
		onHelpRequestCT45: function (oEvent) {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			this.inputCT45 = oEvent.getSource().getId();                                                                                                                                                                                                                
			if (this.fragmentCT45 === null) {                                                                                                                                                                                                                           
				this.fragmentCT45 = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentCType45", this);                                                                                                                                                        
                                                                                                                                                                                                                                                               
				this.fragmentCT45.setTitle("Contract Types ");                                                                                                                                                                                                             
				this.getView().addDependent(this.fragmentCT45);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
			this.getContractTypes45EH();                                                                                                                                                                                                                                
			this.fragmentCT45.open();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Get Contract Types                                                                                                                                                                                                                                        
		getContractTypes45EH: function (oEvent) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// var objFilter2 = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, this.Auart);                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oFilterct45 = new sap.ui.model.Filter({                                                                                                                                                                                                                 
				filters: [                                                                                                                                                                                                                                                 
					// objFilter1                                                                                                                                                                                                                                             
					new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().oKey)                                                                                                                                                                   
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			// var sUrl = "/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/";                                                                                                                                                                                              
			var oDatam2 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			oDatam2.refresh(true);                                                                                                                                                                                                                                      
			// this.getView().setBusy(true);                                                                                                                                                                                                                            
			oDatam2.read("/ContractTypeSet", {                                                                                                                                                                                                                          
				filters: [oFilterct45],                                                                                                                                                                                                                                    
				success: function (oDatact45, response) {                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
					var oJSONCT45 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                        
					oJSONCT45.refresh(true);                                                                                                                                                                                                                                  
					oJSONCT45.setData(oDatact45);                                                                                                                                                                                                                             
					sap.ui.getCore().setModel(oJSONCT45);                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
					this.getView().setModel(oJSONCT45, "Ctypes45");                                                                                                                                                                                                           
					// this.getView().setBusy(false);                                                                                                                                                                                                                         
					// sap.m.MessageToast.show("Success");                                                                                                                                                                                                                    
					// oDatact45.bindRows("/Ctype45");                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Data Read error ");                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelCT45: function () {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			this.fragmentCT45.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Order  selections	in Billing Block F4                                                                                                                                                                                                                      
		rowSelectionCT45: function (oEvent) {                                                                                                                                                                                                                        
			var cttable45 = sap.ui.getCore().byId("CT45Table");                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext("Ctypes45").getProperty("Auart");                                                                                                                                               
					this.getView().getModel("CT45sel").getData().push({                                                                                                                                                                                                       
						"Auart": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("CT45sel").updateBindings(true);                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext("Ctypes45").getProperty("Auart");                                                                                                                                                     
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("CT45sel").getData().push({                                                                                                                                                                                                       
						"Auart": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("CT45sel").updateBindings(true);                                                                                                                                                                                                  
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("CT45sel").getData().pop({                                                                                                                                                                                                        
						"Auart": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("CT45sel").updateBindings(true);                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("CT45sel").setData([]);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Customer F4 in Delivery Block selected items                                                                                                                                                                                             
		acceptCT45: function (oEvent) {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.getView().byId("auart45").removeAllTokens();                                                                                                                                                                                                           
			this.getView().byId("newFrag--auart45F").removeAllTokens();                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
			var aFilterF = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var oTable = sap.ui.getCore().byId("CT45selTable");                                                                                                                                                                                                         
			var selectedItems = oTable.getItems();                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("CT45sel").getProperty("Auart");                                                                                                                                                                    
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					var defTokenF = new sap.m.Token({                                                                                                                                                                                                                         
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("auart45").addToken(defToken);                                                                                                                                                                                                        
					this.getView().byId("newFrag--auart45F").addToken(defTokenF);                                                                                                                                                                                             
					sap.ui.getCore().auart45 = selectedItem;                                                                                                                                                                                                                  
					sap.ui.getCore().auart45F = selectedItem;                                                                                                                                                                                                                 
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
					aFilterF.push(selectedItem);                                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiauart45 = aFilter;                                                                                                                                                                                                                   
				sap.ui.getCore().multiauart45F = aFilter;                                                                                                                                                                                                                  
				sap.ui.getCore().byId("CT45Table").removeSelections(true);                                                                                                                                                                                                 
			} else {                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				sap.ui.getCore().auart45 = null;                                                                                                                                                                                                                           
				sap.ui.getCore().auart45F = null;                                                                                                                                                                                                                          
				sap.ui.getCore().multiauart45 = [];                                                                                                                                                                                                                        
				sap.ui.getCore().multiauart45F = [];                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			this.fragmentCT45.close();                                                                                                                                                                                                                                  
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Customers&nbsp;                                                                                                                                                                                                        
		clearCT45: function () {                                                                                                                                                                                                                                     
			var oTable = sap.ui.getCore().byId("CT45Table");                                                                                                                                                                                                            
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable.removeSelections(true);                                                                                                                                                                                                                             
				var aToken = this.getView().byId("auart45").getTokens();                                                                                                                                                                                                   
				this.getView().byId("auart45").destroyTokens([aToken]);                                                                                                                                                                                                    
				sap.ui.getCore().multiauart45 = [];                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				var aTokenF = this.getView().byId("auart45F").getTokens();                                                                                                                                                                                                 
				sap.ui.getCore().byId("auart45F").destroyTokens([aTokenF]);                                                                                                                                                                                                
				sap.ui.getCore().multiauart45F = [];                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("CT45sel").setData([]);                                                                                                                                                                                                             
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("auart45").removeAllTokens();                                                                                                                                                                                                           
			this.getView().byId("auart45F").removeAllTokens();                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Customers from Delivery block customer F4 selected table                                                                                                                                                                                   
		deleteSelectionCT45: function (oEvent) {                                                                                                                                                                                                                     
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable = sap.ui.getCore().byId("CT45selTable");                                                                                                                                                                                                         
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable.removeItem(selectedItem);                                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchCT45EH: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable1 = sap.ui.getCore().byId("CT45Table");                                                                                                                                                                                                           
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable1.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable1.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Contract Types Multi Input                                                                                                                                                                                                                
		CT45Change: function (oEvent) {                                                                                                                                                                                                                              
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("CT45sel").getData().pop({                                                                                                                                                                                                         
					"Auart": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("CT45sel").updateBindings(true);                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("Auart").getTokens();                                                                                                                                                                                                     
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMediaCT45 = aFilter;                                                                                                                                                                                                                
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMediaCT45 = [];                                                                                                                                                                                                                     
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		///// End of F4 for Contract Type Va45                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		////****	/////Start  F4 for Soldto VA45                                                                                                                                                                                                                      
		inputBP45: "",                                                                                                                                                                                                                                               
		fragmentBP45: null,                                                                                                                                                                                                                                          
		onHelpRequestBP45: function (oEvent) {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			this.inputBP45 = oEvent.getSource().getId();                                                                                                                                                                                                                
			if (this.fragmentBP45 === null) {                                                                                                                                                                                                                           
				this.fragmentBP45 = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentBP45", this);                                                                                                                                                           
                                                                                                                                                                                                                                                               
				this.fragmentBP45.setTitle("Sold to");                                                                                                                                                                                                                     
				this.getView().addDependent(this.fragmentBP45);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
			this.getBP45EH();                                                                                                                                                                                                                                           
			this.fragmentBP45.open();                                                                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Get Soldto                                                                                                                                                                                                                                                
		getBP45EH: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// var objFilter2 = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, this.Auart);                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oFilterBP45 = new sap.ui.model.Filter({                                                                                                                                                                                                                 
				filters: [                                                                                                                                                                                                                                                 
					// objFilter1                                                                                                                                                                                                                                             
					// new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().oKey)                                                                                                                                                                
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			// var sUrl = "/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/";                                                                                                                                                                                              
			var oDatam2 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			oDatam2.refresh(true);                                                                                                                                                                                                                                      
			// this.getView().setBusy(true);                                                                                                                                                                                                                            
			oDatam2.read("/SoldtoSet", {                                                                                                                                                                                                                                
				filters: [oFilterBP45],                                                                                                                                                                                                                                    
				success: function (oDataBP45, response) {                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
					var oJSONBP45 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                        
					oJSONBP45.refresh(true);                                                                                                                                                                                                                                  
					oJSONBP45.setData(oDataBP45);                                                                                                                                                                                                                             
					sap.ui.getCore().setModel(oJSONBP45);                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
					this.getView().setModel(oJSONBP45, "BP45");                                                                                                                                                                                                               
					// this.getView().setBusy(false);                                                                                                                                                                                                                         
					// sap.m.MessageToast.show("Success");                                                                                                                                                                                                                    
					// oDataBP45.bindRows("/BP45");                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Data Read error ");                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelBP45: function () {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			this.fragmentBP45.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//BP F4                                                                                                                                                                                                                                                      
		rowSelectionBP45: function (oEvent) {                                                                                                                                                                                                                        
			var bptable45 = sap.ui.getCore().byId("BP45Table");                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext().getProperty("Kunnr");                                                                                                                                                         
					this.getView().getModel("BP45sel").getData().push({                                                                                                                                                                                                       
						"Kunnr": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BP45sel").updateBindings(true);                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext().getProperty("Kunnr");                                                                                                                                                               
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("BP45sel").getData().push({                                                                                                                                                                                                       
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BP45sel").updateBindings(true);                                                                                                                                                                                                  
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("BP45sel").getData().pop({                                                                                                                                                                                                        
						"Kunnr": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("BP45sel").updateBindings(true);                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("BP45sel").setData([]);                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Customer F4 in Delivery Block selected items                                                                                                                                                                                             
		acceptBP45: function (oEvent) {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.getView().byId("BK45").removeAllTokens();                                                                                                                                                                                                              
			var aFilter = [];                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.getView().byId("newFrag--BK45F").removeAllTokens();                                                                                                                                                                                                    
			var aFilterF = [];                                                                                                                                                                                                                                          
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable = sap.ui.getCore().byId("BP45selTable");                                                                                                                                                                                                         
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable.getItems();                                                                                                                                                                                                                      
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				// var aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                    
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("BP45sel").getProperty("Kunnr");                                                                                                                                                                    
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					var defTokenF = new sap.m.Token({                                                                                                                                                                                                                         
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("BK45").addToken(defToken);                                                                                                                                                                                                           
					sap.ui.getCore().BP45 = selectedItem;                                                                                                                                                                                                                     
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					this.getView().byId("newFrag--BK45F").addToken(defTokenF);                                                                                                                                                                                                
					sap.ui.getCore().BP45F = selectedItem;                                                                                                                                                                                                                    
					aFilterF.push(selectedItem);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multibp45 = aFilter;                                                                                                                                                                                                                      
				sap.ui.getCore().multibp45F = aFilterF;                                                                                                                                                                                                                    
				sap.ui.getCore().byId("BP45Table").removeSelections(true);                                                                                                                                                                                                 
			} else {                                                                                                                                                                                                                                                    
				// aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                        
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().BP45 = null;                                                                                                                                                                                                                              
				sap.ui.getCore().multibp45 = [];                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				sap.ui.getCore().BP45F = null;                                                                                                                                                                                                                             
				sap.ui.getCore().multibp45F = [];                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentBP45.close();                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// this.DELVREFRESHWEH(oEvent)();                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Customers&nbsp;                                                                                                                                                                                                        
		clearBP45: function () {                                                                                                                                                                                                                                     
			var oTable = sap.ui.getCore().byId("BP45Table");                                                                                                                                                                                                            
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable.removeSelections(true);                                                                                                                                                                                                                             
				var aToken = this.getView().byId("BP45").getTokens();                                                                                                                                                                                                      
				this.getView().byId("BP45").destroyTokens([aToken]);                                                                                                                                                                                                       
				sap.ui.getCore().multibp45 = [];                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("BP45sel").setData([]);                                                                                                                                                                                                             
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("BP45").removeAllTokens();                                                                                                                                                                                                              
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Customers from Delivery block customer F4 selected table                                                                                                                                                                                   
		deleteSelectionBP45: function (oEvent) {                                                                                                                                                                                                                     
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable = sap.ui.getCore().byId("BP45selTable");                                                                                                                                                                                                         
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable.removeItem(selectedItem);                                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchBP45EH: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Name1", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable1 = sap.ui.getCore().byId("BP45Table");                                                                                                                                                                                                           
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable1.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable1.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Contract Types Multi Input                                                                                                                                                                                                                
		BP45Change: function (oEvent) {                                                                                                                                                                                                                              
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("BP45sel").getData().pop({                                                                                                                                                                                                         
					"Kunnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("BP45sel").updateBindings(true);                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("BP45").getTokens();                                                                                                                                                                                                      
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMediaBP45 = aFilter;                                                                                                                                                                                                                
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMediaBP45 = [];                                                                                                                                                                                                                     
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		///// End of F4 for Contract Type Va45	                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
		////****	/////Start  F4 for Sales Org VA45                                                                                                                                                                                                                   
		inputSOrg45: "",                                                                                                                                                                                                                                             
		fragmentSOrg45: null,                                                                                                                                                                                                                                        
		onHelpRequestSOrg45EH: function (oEvent) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			this.inputSOrg45 = oEvent.getSource().getId();                                                                                                                                                                                                              
			if (this.fragmentSOrg45 === null) {                                                                                                                                                                                                                         
				this.fragmentSOrg45 = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentSOrg45", this);                                                                                                                                                       
                                                                                                                                                                                                                                                               
				this.fragmentSOrg45.setTitle("Sales Org");                                                                                                                                                                                                                 
				this.getView().addDependent(this.fragmentSOrg45);                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
			this.getSOrg45EH();                                                                                                                                                                                                                                         
			this.fragmentSOrg45.open();                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Get Sales Org                                                                                                                                                                                                                                             
		getSOrg45EH: function (oEvent) {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// var objFilter2 = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, this.Auart);                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oFilterSOrg45 = new sap.ui.model.Filter({                                                                                                                                                                                                               
				filters: [                                                                                                                                                                                                                                                 
					// objFilter1                                                                                                                                                                                                                                             
					new sap.ui.model.Filter("VTEXT", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().oKey)                                                                                                                                                                   
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			// var sUrl = "/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/";                                                                                                                                                                                              
			var oDatam3 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV/", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			oDatam3.refresh(true);                                                                                                                                                                                                                                      
			// this.getView().setBusy(true);                                                                                                                                                                                                                            
			oDatam3.read("/SOrg45Set", {                                                                                                                                                                                                                                
				filters: [oFilterSOrg45],                                                                                                                                                                                                                                  
				success: function (oDataSOrg45, response) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
					var oJSONSOrg45 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                      
					oJSONSOrg45.refresh(true);                                                                                                                                                                                                                                
					oJSONSOrg45.setData(oDataSOrg45);                                                                                                                                                                                                                         
					sap.ui.getCore().setModel(oJSONSOrg45);                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
					this.getView().setModel(oJSONSOrg45, "SOrg45");                                                                                                                                                                                                           
					// this.getView().setBusy(false);                                                                                                                                                                                                                         
					// sap.m.MessageToast.show("Success");                                                                                                                                                                                                                    
					// oDataSOrg45.bindRows("/SOrg45");                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Data Read error ");                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		//Cancel Button on sales org F4                                                                                                                                                                                                                              
		cancelSOrg45: function () {                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			this.fragmentSOrg45.close();                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Sorg F4                                                                                                                                                                                                                                                    
		rowSelectionSOrg45: function (oEvent) {                                                                                                                                                                                                                      
			var bptable45 = sap.ui.getCore().byId("SOrg45Table");                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext("SOrg45").getProperty("VKORG");                                                                                                                                                 
					this.getView().getModel("SOrg45sel").getData().push({                                                                                                                                                                                                     
						"VKORG": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("SOrg45sel").updateBindings(true);                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext("SOrg45").getProperty("VKORG");                                                                                                                                                       
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("SOrg45sel").getData().push({                                                                                                                                                                                                     
						"VKORG": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("SOrg45sel").updateBindings(true);                                                                                                                                                                                                
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("SOrg45sel").getData().pop({                                                                                                                                                                                                      
						"VKORG": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("SOrg45sel").updateBindings(true);                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("SOrg45sel").setData([]);                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Sorg F4 in Delivery Block selected items                                                                                                                                                                                                 
		acceptSOrg45: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			this.getView().byId("SOrg45").removeAllTokens();                                                                                                                                                                                                            
			// sap.ui.getCore().byId("newFrag--SOrg45F").removeAllTokens();                                                                                                                                                                                             
			this.getView().byId("newFrag--SOrg45F").removeAllTokens();                                                                                                                                                                                                  
			var aFilter = [];                                                                                                                                                                                                                                           
			var aFilterF = [];                                                                                                                                                                                                                                          
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable = sap.ui.getCore().byId("SOrg45selTable");                                                                                                                                                                                                       
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable.getItems();                                                                                                                                                                                                                      
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("SOrg45sel").getProperty("VKORG");                                                                                                                                                                  
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
					var defTokenF = new sap.m.Token({                                                                                                                                                                                                                         
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("SOrg45").addToken(defToken);                                                                                                                                                                                                         
					// sap.ui.getCore().byId("SOrg45F").addToken(defTokenF);                                                                                                                                                                                                  
					this.getView().byId("newFrag--SOrg45F").addToken(defTokenF);                                                                                                                                                                                              
					sap.ui.getCore().SOrg45 = selectedItem;                                                                                                                                                                                                                   
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
					aFilterF.push(selectedItem);                                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiSOrg45 = aFilter;                                                                                                                                                                                                                    
				sap.ui.getCore().byId("SOrg45Table").removeSelections(true);                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				sap.ui.getCore().SOrg45 = null;                                                                                                                                                                                                                            
				sap.ui.getCore().SOrg45F = null;                                                                                                                                                                                                                           
				sap.ui.getCore().multiSOrg45 = [];                                                                                                                                                                                                                         
				sap.ui.getCore().multiSOrg45F = [];                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			this.fragmentSOrg45.close();                                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Sales Orgs&nbsp;                                                                                                                                                                                                       
		clearSOrg45: function () {                                                                                                                                                                                                                                   
			var oTable = sap.ui.getCore().byId("SOrg45Table");                                                                                                                                                                                                          
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable.removeSelections(true);                                                                                                                                                                                                                             
				var aToken = this.getView().byId("SOrg45").getTokens();                                                                                                                                                                                                    
				this.getView().byId("SOrg45").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().multiSOrg45 = [];                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				var aTokenF = this.getView().byId("SOrg45F").getTokens();                                                                                                                                                                                                  
				this.getView().byId("SOrg45F").destroyTokens([aTokenF]);                                                                                                                                                                                                   
				sap.ui.getCore().multiSOrg45F = [];                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("SOrg45sel").setData([]);                                                                                                                                                                                                           
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("SOrg45").removeAllTokens();                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Sales Orgs from   F4 selected table                                                                                                                                                                                                        
		deleteSelectionSOrg45: function (oEvent) {                                                                                                                                                                                                                   
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable = sap.ui.getCore().byId("SOrg45selTable");                                                                                                                                                                                                       
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable.removeItem(selectedItem);                                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchSOrg45EH: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("VKORG", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable1 = sap.ui.getCore().byId("SOrg45Table");                                                                                                                                                                                                         
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable1.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable1.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Contract Types Multi Input                                                                                                                                                                                                                
		SOrg45Change: function (oEvent) {                                                                                                                                                                                                                            
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("SOrg45sel").getData().pop({                                                                                                                                                                                                       
					"Kunnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("SOrg45sel").updateBindings(true);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("SOrg45").getTokens();                                                                                                                                                                                                    
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMediaSOrg45 = aFilter;                                                                                                                                                                                                              
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMediaSOrg45 = [];                                                                                                                                                                                                                   
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////// END of  F4 Sales Org ******                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////****	/////Start  F4 for Sales Orders VA45                                                                                                                                                                                                                
		inputSOrd45: "",                                                                                                                                                                                                                                             
		fragmentSOrd45: null,                                                                                                                                                                                                                                        
		onHelpRequestSOrd45EH: function (oEvent) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			this.inputSOrd45 = oEvent.getSource().getId();                                                                                                                                                                                                              
			if (this.fragmentSOrd45 === null) {                                                                                                                                                                                                                         
				this.fragmentSOrd45 = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentSOrd45", this);                                                                                                                                                       
                                                                                                                                                                                                                                                               
				this.fragmentSOrd45.setTitle("Contracts");                                                                                                                                                                                                                 
				this.getView().addDependent(this.fragmentSOrd45);                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
			//this.getSOrg45EH();                                                                                                                                                                                                                                       
			this.fragmentSOrd45.open();                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button on sales order F4                                                                                                                                                                                                                            
		cancelSOrd45: function () {                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			this.fragmentSOrd45.close();                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Sorder F4                                                                                                                                                                                                                                                  
		rowSelectionSOrd45: function (oEvent) {                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext("SUMVA45").getProperty("VBELN");                                                                                                                                                
					this.getView().getModel("SOrd45sel").getData().push({                                                                                                                                                                                                     
						"VBELN": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("SOrd45sel").updateBindings(true);                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext("SUMVA45").getProperty("VBELN");                                                                                                                                                      
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("SOrd45sel").getData().push({                                                                                                                                                                                                     
						"VBELN": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("SOrd45sel").updateBindings(true);                                                                                                                                                                                                
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("SOrd45sel").getData().pop({                                                                                                                                                                                                      
						"VBELN": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("SOrd45sel").updateBindings(true);                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("SOrd45sel").setData([]);                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Sorg F4 in Delivery Block selected items                                                                                                                                                                                                 
		acceptSOrd45: function (oEvent) {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			this.getView().byId("SOrd45").removeAllTokens();                                                                                                                                                                                                            
			this.getView().byId("newFrag--SOrd45F").removeAllTokens();                                                                                                                                                                                                  
			var aFilter = [];                                                                                                                                                                                                                                           
			var aFilterF = [];                                                                                                                                                                                                                                          
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable = sap.ui.getCore().byId("SOrd45selTable");                                                                                                                                                                                                       
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable.getItems();                                                                                                                                                                                                                      
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				// var aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                    
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("SOrd45sel").getProperty("VBELN");                                                                                                                                                                  
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					var defTokenF = new sap.m.Token({                                                                                                                                                                                                                         
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("SOrd45").addToken(defToken);                                                                                                                                                                                                         
					this.getView().byId("newFrag--SOrd45F").addToken(defTokenF);                                                                                                                                                                                              
					sap.ui.getCore().SOrd45 = selectedItem;                                                                                                                                                                                                                   
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
					aFilterF.push(selectedItem);                                                                                                                                                                                                                              
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiSOrd45 = aFilter;                                                                                                                                                                                                                    
				sap.ui.getCore().byId("SOrd45Table").removeSelections(true);                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				sap.ui.getCore().SOrd45 = null;                                                                                                                                                                                                                            
				sap.ui.getCore().SOrd45F = null;                                                                                                                                                                                                                           
				sap.ui.getCore().multiSOrd45 = [];                                                                                                                                                                                                                         
				sap.ui.getCore().multiSOrd45F = [];                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentSOrd45.close();                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// this.DELVREFRESHWEH(oEvent)();                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Sales Orgs&nbsp;                                                                                                                                                                                                       
		clearSOrd45: function () {                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			var oTable = sap.ui.getCore().byId("SOrd45Table");                                                                                                                                                                                                          
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable.removeSelections(true);                                                                                                                                                                                                                             
				var aToken = this.getView().byId("SOrd45").getTokens();                                                                                                                                                                                                    
				this.getView().byId("SOrd45").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().multiSOrd45 = [];                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				var aTokenF = this.getView().byId("SOrd45F").getTokens();                                                                                                                                                                                                  
				sap.ui.getCore().byId("SOrd45").destroyTokens([aTokenF]);                                                                                                                                                                                                  
				sap.ui.getCore().multiSOrd45F = [];                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("SOrd45sel").setData([]);                                                                                                                                                                                                           
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("SOrd45").removeAllTokens();                                                                                                                                                                                                            
			sap.ui.getCore().byId("SOrd45F").removeAllTokens();                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Sales Orgs from   F4 selected table                                                                                                                                                                                                        
		deleteSelectionSOrd45: function (oEvent) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable = sap.ui.getCore().byId("SOrd45selTable");                                                                                                                                                                                                       
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable.removeItem(selectedItem);                                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchSOrd45EH: function (oEvent) {                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("VBELN", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable1 = sap.ui.getCore().byId("SOrd45Table");                                                                                                                                                                                                         
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable1.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable1.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Contract Types Multi Input                                                                                                                                                                                                                
		SOrd45Change: function (oEvent) {                                                                                                                                                                                                                            
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("SOrd45sel").getData().pop({                                                                                                                                                                                                       
					"VBELN": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("SOrd45sel").updateBindings(true);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("SOrd45").getTokens();                                                                                                                                                                                                    
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMediaSOrd45 = aFilter;                                                                                                                                                                                                              
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMediaSOrd45 = [];                                                                                                                                                                                                                   
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////// END of  F4 Sales Org ******		                                                                                                                                                                                                                         
		////  DOWNLOAD Table data to Excel                                                                                                                                                                                                                           
		downloadExcel45: function () {                                                                                                                                                                                                                               
			var oTable45 = this.getView().byId("va45");                                                                                                                                                                                                                 
			var oTblCloums45 = oTable45.getColumns();                                                                                                                                                                                                                   
			var aColumns45 = [];                                                                                                                                                                                                                                        
			oTblCloums45.forEach(function (obj) {                                                                                                                                                                                                                       
				aColumns45.push({                                                                                                                                                                                                                                          
					label: obj.getName(),                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
					property: obj.getSortProperty()                                                                                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
			});                                                                                                                                                                                                                                                         
			var mSettings45 = {                                                                                                                                                                                                                                         
				workbook: {                                                                                                                                                                                                                                                
					columns: aColumns45,                                                                                                                                                                                                                                      
					context: {                                                                                                                                                                                                                                                
						application: "Contract Status Report",                                                                                                                                                                                                                   
						version: "1.87.0",                                                                                                                                                                                                                                       
						title: "Contract Status Report",                                                                                                                                                                                                                         
						metaSheetName: "Custom metadata"                                                                                                                                                                                                                         
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				dataSource: this.getView().getModel("SUMVA45").getData().results,                                                                                                                                                                                          
				fileName: "Contract Status Report.xlsx"                                                                                                                                                                                                                    
			};                                                                                                                                                                                                                                                          
			var oSpreadsheet1 = new sap.ui.export.Spreadsheet(mSettings45);                                                                                                                                                                                             
			oSpreadsheet1.build();                                                                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////////////////// END OF OTCM-46300  //////////                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* internal methods                                            */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Shows the selected item on the object page                                                                                                                                                                                                                
		 * On phones a additional history entry is created                                                                                                                                                                                                           
		 * @param {sap.m.ObjectListItem} oItem selected Item                                                                                                                                                                                                         
		 * @private                                                                                                                                                                                                                                                  
		 */                                                                                                                                                                                                                                                          
		_showObject: function (oItem) {                                                                                                                                                                                                                              
			/////BOC OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                              
			// this.getRouter().navTo("object", {                                                                                                                                                                                                                       
			// 	objectId: oItem.getBindingContext().getProperty("Vbeln")                                                                                                                                                                                                
			// });                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// this.getRouter().navTo("object", {                                                                                                                                                                                                                       
			// 	Date: this.Date,                                                                                                                                                                                                                                        
			// 	Count: "1" // this.Count                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// });                                                                                                                                                                                                                                                      
			var oVizFrame = this.getView().byId("idVizFrameo");                                                                                                                                                                                                         
			oVizFrame.vizSelection([], {                                                                                                                                                                                                                                
				"clearSelection": true                                                                                                                                                                                                                                     
			});                                                                                                                                                                                                                                                         
			/////EOC OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                              
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		draggableDialog: null,                                                                                                                                                                                                                                       
		OnBlock: function (oEvent) {                                                                                                                                                                                                                                 
			debugger;                                                                                                                                                                                                                                                   
			var sMsg;                                                                                                                                                                                                                                                   
			this.btnSource = oEvent.getSource();                                                                                                                                                                                                                        
			var items = this.getView().byId("seltable").getSelectedIndices();                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (items.length === 0) {                                                                                                                                                                                                                                   
				sap.m.MessageBox.warning("Please Select Items To Be Processed!");                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//get all the required info to process future order&nbsp;                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				//Create PopUp for order reasons                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				if (!this.draggableDialog) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					this.draggableDialog = new Dialog({                                                                                                                                                                                                                       
						title: "Enter Delivery Blocking Reason",                                                                                                                                                                                                                 
						contentWidth: "220px",                                                                                                                                                                                                                                   
						contentHeight: "50px",                                                                                                                                                                                                                                   
						draggable: true,                                                                                                                                                                                                                                         
						content: [                                                                                                                                                                                                                                               
							new sap.m.Label({                                                                                                                                                                                                                                       
								text: "Delivery Blocking Reason",                                                                                                                                                                                                                      
								textDirection: "RTL",                                                                                                                                                                                                                                  
								design: "Bold"                                                                                                                                                                                                                                         
							}),                                                                                                                                                                                                                                                     
							new sap.m.Input({                                                                                                                                                                                                                                       
								width: "100px",                                                                                                                                                                                                                                        
								fieldWidth: "10px",                                                                                                                                                                                                                                    
								id: "IReasn",                                                                                                                                                                                                                                          
								value: "58",                                                                                                                                                                                                                                           
								showValueHelp: true,                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
								showSuggestion: true,                                                                                                                                                                                                                                  
								suggest: [this.suggestReasons, this],                                                                                                                                                                                                                  
								suggestionItems: {                                                                                                                                                                                                                                     
									path: "/DelReasonSet",                                                                                                                                                                                                                                
									template: new sap.ui.core.Item({                                                                                                                                                                                                                      
										text: "{Lifsp}",                                                                                                                                                                                                                                     
										key: "{Lifsp}"                                                                                                                                                                                                                                       
									})                                                                                                                                                                                                                                                    
								},                                                                                                                                                                                                                                                     
								valueHelpRequest: [this.onF4, this]                                                                                                                                                                                                                    
							})                                                                                                                                                                                                                                                      
						],                                                                                                                                                                                                                                                       
						beginButton: new sap.m.Button({                                                                                                                                                                                                                          
							type: "Emphasized",                                                                                                                                                                                                                                     
							text: "OK",                                                                                                                                                                                                                                             
							press: function () {                                                                                                                                                                                                                                    
								//Create Claim&nbsp;                                                                                                                                                                                                                                   
								this.createBlocking();                                                                                                                                                                                                                                 
								this.draggableDialog.close();                                                                                                                                                                                                                          
							}.bind(this)                                                                                                                                                                                                                                            
						}),                                                                                                                                                                                                                                                      
						endButton: new sap.m.Button({                                                                                                                                                                                                                            
							text: "Close",                                                                                                                                                                                                                                          
							press: function () {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
								this.draggableDialog.close();                                                                                                                                                                                                                          
							}.bind(this)                                                                                                                                                                                                                                            
						})                                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					//to get access to the global model                                                                                                                                                                                                                       
					this.getView().addDependent(this.draggableDialog);                                                                                                                                                                                                        
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			if (!sMsg) {                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				this.draggableDialog.open();                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Select diallog from Fragment and bind Order reasons in popup                                                                                                                                                                                               
		inputId: "",                                                                                                                                                                                                                                                 
		fragmento: null,                                                                                                                                                                                                                                             
		onF4: function (oEvent) {                                                                                                                                                                                                                                    
			//&nbsp;                                                                                                                                                                                                                                                    
			this.inputId = oEvent.getSource().getId();                                                                                                                                                                                                                  
			if (this.fragmento === null) {                                                                                                                                                                                                                              
				this.fragmento = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentExcl", this);                                                                                                                                                              
				this.fragmento.bindAggregation("items", {                                                                                                                                                                                                                  
					path: "/DelReasonSet",                                                                                                                                                                                                                                    
					parameters: {                                                                                                                                                                                                                                             
						operationMode: "Client"                                                                                                                                                                                                                                  
					},                                                                                                                                                                                                                                                        
					template: new sap.m.DisplayListItem({                                                                                                                                                                                                                     
						label: "{Lifsp}",                                                                                                                                                                                                                                        
						value: "{Vtext}"                                                                                                                                                                                                                                         
					})                                                                                                                                                                                                                                                        
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				this.getView().addDependent(this.fragmento);                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			this.fragmento.open();                                                                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
		//Aftre clicking Ok on popup                                                                                                                                                                                                                                 
		handleTableValueHelpConfirm: function (oEvent) {                                                                                                                                                                                                             
			//&nbsp;                                                                                                                                                                                                                                                    
			var selectedItem = oEvent.getParameter("selectedItem");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			var Value = selectedItem.getLabel();                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId(this.inputId).setValue(Value);                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
		//Search on Popup Order reasons                                                                                                                                                                                                                              
		onSearchReasonf4: function (oEvent) {                                                                                                                                                                                                                        
			//&nbsp;                                                                                                                                                                                                                                                    
			var oBinding = oEvent.getParameter("itemsBinding");                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var sValue = oEvent.getParameter("value");                                                                                                                                                                                                                  
			var sValueUpp = sValue.toUpperCase();                                                                                                                                                                                                                       
			if (!sValue) {                                                                                                                                                                                                                                              
				oBinding.filter([]);                                                                                                                                                                                                                                       
			} else {                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				var oFilter1 = new sap.ui.model.Filter({                                                                                                                                                                                                                   
					path: "Lifsp",                                                                                                                                                                                                                                            
					operator: FilterOperator.Contains,                                                                                                                                                                                                                        
					value1: sValue,                                                                                                                                                                                                                                           
					caseSensitive: false                                                                                                                                                                                                                                      
				});                                                                                                                                                                                                                                                        
				var oFilter2 = new sap.ui.model.Filter({                                                                                                                                                                                                                   
					path: "Vtext",                                                                                                                                                                                                                                            
					operator: FilterOperator.Contains,                                                                                                                                                                                                                        
					value1: sValue,                                                                                                                                                                                                                                           
					caseSensitive: false                                                                                                                                                                                                                                      
				});                                                                                                                                                                                                                                                        
				var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                    
					filters: [                                                                                                                                                                                                                                                
						oFilter1,                                                                                                                                                                                                                                                
						oFilter2                                                                                                                                                                                                                                                 
					],                                                                                                                                                                                                                                                        
					and: false                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
				var aFilter = [oFilter];                                                                                                                                                                                                                                   
				oBinding.filter(aFilter);                                                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Call backend create method                                                                                                                                                                                                                                 
		createBlocking: function (oEvent) {                                                                                                                                                                                                                          
			// this.btnSource = oEvent.getSource();                                                                                                                                                                                                                     
			var items = this.getView().byId("seltable").getSelectedIndices();                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (items.length === 0) {                                                                                                                                                                                                                                   
				sap.m.MessageBox.warning("Please Select Items To Be Processed!");                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//get all the required info to process future order&nbsp;                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				var tableData = [];                                                                                                                                                                                                                                        
				for (var iRowIndex = 0; iRowIndex < items.length; iRowIndex++) {                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var itemrow = this.getView().byId("seltable").getContextByIndex(items[iRowIndex]).getObject();                                                                                                                                                            
					var selData = {};                                                                                                                                                                                                                                         
					selData.Vbeln = itemrow.Xref1;                                                                                                                                                                                                                            
					selData.Matnr = itemrow.Matnr;                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
					tableData.push(selData);                                                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
				var OrderReasnRef = sap.ui.getCore().byId("IReasn");                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				var OrderReasn = OrderReasnRef ? OrderReasnRef.getValue() : null;                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var that = this;                                                                                                                                                                                                                                           
				this.getView().setBusy(true);                                                                                                                                                                                                                              
				//filll input with navigation property of deep entity                                                                                                                                                                                                      
				var dataObject = {};                                                                                                                                                                                                                                       
				dataObject.Vbeln = selData.Vbeln;                                                                                                                                                                                                                          
				dataObject.DelReason = OrderReasn;                                                                                                                                                                                                                         
				dataObject.ConItemSet = tableData;                                                                                                                                                                                                                         
				var oDataModel = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_BLOCKORDERS_E266_SRV", {                                                                                                                                                    
					json: true,                                                                                                                                                                                                                                               
					loadMetadataAsync: true                                                                                                                                                                                                                                   
				});                                                                                                                                                                                                                                                        
				//Call create deep entity&nbsp;                                                                                                                                                                                                                            
				oDataModel.create("/ConHeaderSet", dataObject, {                                                                                                                                                                                                           
					//Sucess call back                                                                                                                                                                                                                                        
					success: function (oData, resp) {                                                                                                                                                                                                                         
						debugger;                                                                                                                                                                                                                                                
						that.getView().setBusy(false);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
						var oModel = new JSONModel();                                                                                                                                                                                                                            
						oModel.setData(oData.ConItemSet.results);                                                                                                                                                                                                                
						that.getView().setModel(oModel, "msg");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
						that.getView().getModel("msg").setData(that.getView().getModel("msg").getData().concat(oData.ConItemSet.results));                                                                                                                                       
                                                                                                                                                                                                                                                               
						that.getView().getModel().refresh(true);                                                                                                                                                                                                                 
						that.byId("btnMsgPopover1").setVisible(true);                                                                                                                                                                                                            
						that.byId("btnMsgPopover1").firePress();                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						that.getView().byId("seltable").clearSelection();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
					},                                                                                                                                                                                                                                                        
					//Actual error from BAPI has been handled in Success call only with msg variables                                                                                                                                                                         
					//Error call back below if any connectivity issue                                                                                                                                                                                                         
					error: function (err) {                                                                                                                                                                                                                                   
						that.getView().setBusy(false);                                                                                                                                                                                                                           
						sap.m.MessageBox.error("Error in Contract Blocking");                                                                                                                                                                                                    
						//	that.getView().byId("table").clearSelection();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMessagePopoverPress: function (oEvent) {                                                                                                                                                                                                                   
			//&nbsp;                                                                                                                                                                                                                                                    
			this.getViewSettingsDialog("Block_Orders.Block_Orders.view.messagePopover")                                                                                                                                                                                 
				.then(function (oViewSettingsDialog) {                                                                                                                                                                                                                     
					oViewSettingsDialog.open();                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMessageDlgClose: function (oEvent) {                                                                                                                                                                                                                       
			//&nbsp;                                                                                                                                                                                                                                                    
			oEvent.getSource().getParent().close();                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		OnSel: function () {                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (!this.pDialog) {                                                                                                                                                                                                                                        
				this.pDialog = this.loadFragment({                                                                                                                                                                                                                         
					name: "Block_Orders.Block_Orders.view.fragmentSelect",                                                                                                                                                                                                    
					id: "newFrag"                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			this.pDialog.then(function (oDialog) {                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				var d = new Date();                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				var d2 = d.setFullYear(d.getFullYear(), 0, 1);                                                                                                                                                                                                             
				var d1 = d.setFullYear(d.getFullYear(), 11, 31);                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				var datefrom = this.byId("newFrag--IDatefrom");                                                                                                                                                                                                            
				var fromdateval = datefrom.getValue();                                                                                                                                                                                                                     
				if (fromdateval == "") {                                                                                                                                                                                                                                   
					this.byId("newFrag--IDatefrom").setDateValue(new Date(d2));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				var dateto = this.byId("newFrag--IDateto");                                                                                                                                                                                                                
				var todateval = dateto.getValue();                                                                                                                                                                                                                         
				if (todateval == "") {                                                                                                                                                                                                                                     
					this.byId("newFrag--IDateto").setDateValue(new Date(d1));                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var DunInput = this.byId("newFrag--DunInput");                                                                                                                                                                                                             
				var DunInputval = DunInput.getValue();                                                                                                                                                                                                                     
				if (DunInputval == "") {                                                                                                                                                                                                                                   
					this.byId("newFrag--DunInput").setSelectedKeys(["3", "4", "5", ">5"]);                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var Dunning = this.byId("newFrag--Dunning");                                                                                                                                                                                                               
				var Dunningval = Dunning.getValue();                                                                                                                                                                                                                       
				if (DunInputval == "") {                                                                                                                                                                                                                                   
					this.byId("newFrag--Dunning").setSelectedKeys(["ZWDU"]);                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var customerInput = this.byId("newFrag--customerInput");                                                                                                                                                                                                   
				var customerval = customerInput.getValue();                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
				oDialog.open();                                                                                                                                                                                                                                            
			}.bind(this));                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		Get87: function (oEvent) {                                                                                                                                                                                                                                   
			//&nbsp;                                                                                                                                                                                                                                                    
			var oDataModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			oEvent.getSource().getParent().close();                                                                                                                                                                                                                     
			var that = this;                                                                                                                                                                                                                                            
			that.getView().setBusy(true);                                                                                                                                                                                                                               
			var startdateref = this.getView().byId("newFrag--IDatefrom").getValue();                                                                                                                                                                                    
			var endateref = this.getView().byId("newFrag--IDateto").getValue();                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			//------------------------Dunning Level-------------------------------                                                                                                                                                                                      
			if (this.getView().byId("newFrag--DunInput").getSelectedItems().length > 0) {                                                                                                                                                                               
				var DunInputrf = 0;                                                                                                                                                                                                                                        
				DunInputrf = this.getView().byId("newFrag--DunInput").getSelectedItems();                                                                                                                                                                                  
				var DunInputarray = [];                                                                                                                                                                                                                                    
				for (var i = 0; i <= DunInputrf.length; i++) {                                                                                                                                                                                                             
					var item2 = DunInputrf[i];                                                                                                                                                                                                                                
					if (item2 !== undefined) {                                                                                                                                                                                                                                
						// var context1 = item2.getBindingContext();                                                                                                                                                                                                             
						// var value2 = context1.getProperty("key");                                                                                                                                                                                                             
						var value2 = item2.getProperty("key");                                                                                                                                                                                                                   
						DunInputarray.push(value2);                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// ---------------------Dunning Procedure------------------------------                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--Dunning").getSelectedItems().length > 0) {                                                                                                                                                                                
				var Dunningrf = 0;                                                                                                                                                                                                                                         
				Dunningrf = this.getView().byId("newFrag--Dunning").getSelectedItems();                                                                                                                                                                                    
				var Dunningarray = [];                                                                                                                                                                                                                                     
				for (var i = 0; i <= Dunningrf.length; i++) {                                                                                                                                                                                                              
					var item3 = Dunningrf[i];                                                                                                                                                                                                                                 
					if (item3 !== undefined) {                                                                                                                                                                                                                                
						var context3 = item3.getBindingContext();                                                                                                                                                                                                                
						var value3 = context3.getProperty("MAHNA");                                                                                                                                                                                                              
						//var value3 = item3.getProperty("key");                                                                                                                                                                                                                 
						Dunningarray.push(value3);                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//---------------------Order Type -------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                  
				var sotyprf = 0;                                                                                                                                                                                                                                           
				sotyprf = this.getView().byId("newFrag--sotyp").getSelectedItems();                                                                                                                                                                                        
				var sotyparray = [];                                                                                                                                                                                                                                       
				for (var i = 0; i <= sotyprf.length; i++) {                                                                                                                                                                                                                
					var item4 = sotyprf[i];                                                                                                                                                                                                                                   
					if (item4 !== undefined) {                                                                                                                                                                                                                                
						var context4 = item4.getBindingContext();                                                                                                                                                                                                                
						var value4 = context4.getProperty("Auart");                                                                                                                                                                                                              
						sotyparray.push(value4);                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//---------------------Customer----------------------------------                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//---------------------Material ----------------------------------                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				filters: [],                                                                                                                                                                                                                                               
				and: true                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (startdateref.length > 0) {                                                                                                                                                                                                                              
				oFilter.aFilters.push(new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, startdateref));                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (endateref.length > 0) {                                                                                                                                                                                                                                 
				oFilter.aFilters.push(new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, endateref));                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--sotyp").getSelectedItems().length > 0) {                                                                                                                                                                                  
				sotyparray.forEach(function (val) {                                                                                                                                                                                                                        
					oFilter.aFilters.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, val));                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--Dunning").getSelectedItems().length > 0) {                                                                                                                                                                                
				Dunningarray.forEach(function (val1) {                                                                                                                                                                                                                     
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahna", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (this.getView().byId("newFrag--DunInput").getSelectedItems().length > 0) {                                                                                                                                                                               
				DunInputarray.forEach(function (val1) {                                                                                                                                                                                                                    
					oFilter.aFilters.push(new sap.ui.model.Filter("Mahns", sap.ui.model.FilterOperator.EQ, val1));                                                                                                                                                            
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (sap.ui.getCore().multiMedia !== undefined) {                                                                                                                                                                                                            
				sap.ui.getCore().multiMedia.forEach(function (val2) {                                                                                                                                                                                                      
					oFilter.aFilters.push(new Filter("Matnr", sap.ui.model.FilterOperator.EQ, val2));                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (sap.ui.getCore().multicustomer !== undefined) {                                                                                                                                                                                                         
				sap.ui.getCore().multicustomer.forEach(function (val3) {                                                                                                                                                                                                   
					oFilter.aFilters.push(new Filter("Kunnr", sap.ui.model.FilterOperator.EQ, val3));                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			oDataModel.read("/DunningReportSet", {                                                                                                                                                                                                                      
				filters: oFilter.aFilters,                                                                                                                                                                                                                                 
				success: function (oData, response) {                                                                                                                                                                                                                      
					var oJSONModel7 = that.getView().getModel("Dunning");                                                                                                                                                                                                     
					oJSONModel7.destroy();                                                                                                                                                                                                                                    
					var oJSONModel8 = new JSONModel();                                                                                                                                                                                                                        
					oJSONModel8.setData(oData);                                                                                                                                                                                                                               
					that.getView().setModel(oJSONModel8, "Dunning");                                                                                                                                                                                                          
					sap.ui.getCore().setModel(oJSONModel8, "Dunning");                                                                                                                                                                                                        
					var count = oData.results.length;                                                                                                                                                                                                                         
					that.byId("getrecords").setText(count);                                                                                                                                                                                                                   
					that.getView().setBusy(false);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					sap.m.MessageToast.show("Error in Fetching Data");                                                                                                                                                                                                        
					that.getView().setBusy(false);                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		fragmentselect: null,                                                                                                                                                                                                                                        
		Cancel87: function (oEvent) {                                                                                                                                                                                                                                
			//&nbsp;                                                                                                                                                                                                                                                    
			oEvent.getSource().getParent().close();                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		downlaodRelDocs: function (oEvent) {                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			var aCols = [],                                                                                                                                                                                                                                             
				oRowBinding, oSettings, oSheet, oTable;                                                                                                                                                                                                                    
			aCols.push({                                                                                                                                                                                                                                                
					label: "Document No",                                                                                                                                                                                                                                     
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Vbeln",                                                                                                                                                                                                                                        
				}, {                                                                                                                                                                                                                                                       
					label: "Type",                                                                                                                                                                                                                                            
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Type"                                                                                                                                                                                                                                          
				},                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				{                                                                                                                                                                                                                                                          
					label: "Message1",                                                                                                                                                                                                                                        
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Msg1"                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				{                                                                                                                                                                                                                                                          
					label: "Message2",                                                                                                                                                                                                                                        
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Msg2"                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				{                                                                                                                                                                                                                                                          
					label: "Message3",                                                                                                                                                                                                                                        
					type: EdmType.String,                                                                                                                                                                                                                                     
					property: "Msg3"                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			);                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oTable = this.getView().byId("dlgListMessageModel");                                                                                                                                                                                                        
			oRowBinding = oTable.getBinding("items");                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			oSettings = {                                                                                                                                                                                                                                               
				workbook: {                                                                                                                                                                                                                                                
					columns: aCols,                                                                                                                                                                                                                                           
					hierarchyLevel: "Level"                                                                                                                                                                                                                                   
				},                                                                                                                                                                                                                                                         
				dataSource: oRowBinding,                                                                                                                                                                                                                                   
				fileName: "Message_Erro_log.xlsx",                                                                                                                                                                                                                         
				worker: false // We need to disable worker because we are using a MockServer as OData Service                                                                                                                                                              
			};                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oSheet = new Spreadsheet(oSettings);                                                                                                                                                                                                                        
			oSheet.build().finally(function () {                                                                                                                                                                                                                        
				oSheet.destroy();                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		getViewSettingsDialog: function (sDialogFragmentName) {                                                                                                                                                                                                      
			var that = this;                                                                                                                                                                                                                                            
			var pDialog = this._mViewSettingsDialogs[sDialogFragmentName];                                                                                                                                                                                              
			if (!pDialog) {                                                                                                                                                                                                                                             
				pDialog = Fragment.load({                                                                                                                                                                                                                                  
					id: this.getView().getId(),                                                                                                                                                                                                                               
					name: sDialogFragmentName,                                                                                                                                                                                                                                
					controller: this                                                                                                                                                                                                                                          
				}).then(function (oDialog) {                                                                                                                                                                                                                               
					if (Device.system.desktop) {                                                                                                                                                                                                                              
						that.getView().addDependent(oDialog);                                                                                                                                                                                                                    
					}                                                                                                                                                                                                                                                         
					return oDialog;                                                                                                                                                                                                                                           
				});                                                                                                                                                                                                                                                        
				this._mViewSettingsDialogs[sDialogFragmentName] = pDialog;                                                                                                                                                                                                 
				// this.getView().addDependent(this._oMessagePopover);                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
			return pDialog;                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onRelease: function (oEvent) {                                                                                                                                                                                                                               
			var oTable = this.getView().byId("seltable");                                                                                                                                                                                                               
			var oselItems = oTable.getSelectedItems();                                                                                                                                                                                                                  
			var oString = "";                                                                                                                                                                                                                                           
			oselItems.forEach(function (data) {                                                                                                                                                                                                                         
				oString += data.getBindingContext().getProperty("Date") + ",";                                                                                                                                                                                             
			});                                                                                                                                                                                                                                                         
			this.getView().setBusy(true);                                                                                                                                                                                                                               
			this.getView().getModel().callFunction("/DunningReportSet", {                                                                                                                                                                                               
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: {                                                                                                                                                                                                                                           
					"Vbeln": oString                                                                                                                                                                                                                                          
				},                                                                                                                                                                                                                                                         
				success: function (res) {                                                                                                                                                                                                                                  
					if (res.results.length) {                                                                                                                                                                                                                                 
						this.getView().getModel("mModel").setData(this.getView().getModel("mModel").getData().concat(res.results));                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					// oTable.clearSelection();                                                                                                                                                                                                                               
					this.getView().getModel().refresh(true);                                                                                                                                                                                                                  
					this.byId("btnMsgPopover1").setVisible(true);                                                                                                                                                                                                             
					this.byId("btnMsgPopover1").firePress();                                                                                                                                                                                                                  
					// this.getView().getModel().getIgnoreMessages(true);                                                                                                                                                                                                     
					this.getView().setBusy(false);                                                                                                                                                                                                                            
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (err) {                                                                                                                                                                                                                                    
					this.getView().setBusy(false);                                                                                                                                                                                                                            
				}.bind(this)                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////BOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                 
		onPersoButtonPressed29: function (oEvent) {                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			this._oVDR1.openDialog({                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/*  Ship To Address Fragment Implementation                    */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
		addressOld: "",                                                                                                                                                                                                                                              
		fragmentAdd: null,                                                                                                                                                                                                                                           
		addObject: "",                                                                                                                                                                                                                                               
		addObjArray: [],                                                                                                                                                                                                                                             
		soldtoAdd: function (oEvent) {                                                                                                                                                                                                                               
			//&nbsp;                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			this.selectedRowAdd = oEvent.getSource().getBindingContext("Dunning");                                                                                                                                                                                      
			this.btnId = oEvent.getParameter("id");                                                                                                                                                                                                                     
			var addObjectOld = {};                                                                                                                                                                                                                                      
			for (var i = 0; i < this.addObjArray.length; i++) {                                                                                                                                                                                                         
				if (this.addObjArray[i].Id === this.btnId) {                                                                                                                                                                                                               
					addObjectOld = this.addObjArray[i];                                                                                                                                                                                                                       
					this.addObjectOld = addObjectOld;                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			if (!addObjectOld.Id) {                                                                                                                                                                                                                                     
				addObjectOld.Id = this.btnId;                                                                                                                                                                                                                              
				addObjectOld.Soldto = oEvent.getSource().getBindingContext("Dunning").getProperty("Kunnr");                                                                                                                                                                
				addObjectOld.Name1 = oEvent.getSource().getBindingContext("Dunning").getProperty("Name1");                                                                                                                                                                 
				addObjectOld.Ort01 = oEvent.getSource().getBindingContext("Dunning").getProperty("Ort01");                                                                                                                                                                 
				addObjectOld.Land1 = oEvent.getSource().getBindingContext("Dunning").getProperty("Land1");                                                                                                                                                                 
				addObjectOld.PostCode1 = oEvent.getSource().getBindingContext("Dunning").getProperty("PostCode1");                                                                                                                                                         
				addObjectOld.Stras = oEvent.getSource().getBindingContext("Dunning").getProperty("Stras");                                                                                                                                                                 
				this.addObjectOld = addObjectOld;                                                                                                                                                                                                                          
				this.addObjArray.push(addObjectOld);                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			//Create Fragmnet Object                                                                                                                                                                                                                                    
			if (this.fragmentAdd === null) {                                                                                                                                                                                                                            
				this.fragmentAdd = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentAddress", this);                                                                                                                                                         
				this.getView().addDependent(this.fragmentAdd);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			sap.ui.getCore().byId("Name1").setText(addObjectOld.Name1);                                                                                                                                                                                                 
			sap.ui.getCore().byId("Ort01").setText(addObjectOld.Ort01);                                                                                                                                                                                                 
			sap.ui.getCore().byId("Land1").setText(addObjectOld.Land1);                                                                                                                                                                                                 
			sap.ui.getCore().byId("PostCode1").setText(addObjectOld.PostCode1);                                                                                                                                                                                         
			sap.ui.getCore().byId("Stras").setText(addObjectOld.Stras);                                                                                                                                                                                                 
			this.fragmentAdd.setTitle("Sold To Party " + addObjectOld.Soldto);                                                                                                                                                                                          
			var sPath = this.selectedRowAdd.getPath();                                                                                                                                                                                                                  
			this.fragmentAdd.setModel(this.getView().getModel("Dunning"));                                                                                                                                                                                              
			this.fragmentAdd.bindElement(sPath);                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			this.fragmentAdd.open();                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
		cancelAdd: function () {                                                                                                                                                                                                                                     
			this.fragmentAdd.close();                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onMainSearch88: function (oEvent) {                                                                                                                                                                                                                          
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			value.toUpperCase();                                                                                                                                                                                                                                        
			var oFilter1 = new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter2 = new sap.ui.model.Filter("Xref1", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter3 = new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter4 = new sap.ui.model.Filter("ShipTo", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter5 = new sap.ui.model.Filter("Matnr", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter6 = new sap.ui.model.Filter("InvoiceValue", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                        
			var oFilter7 = new sap.ui.model.Filter("Posnr", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter8 = new sap.ui.model.Filter("Maktx", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter9 = new sap.ui.model.Filter("Vgtyp", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                               
			var oFilter10 = new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter11 = new sap.ui.model.Filter("Pstyv", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter12 = new sap.ui.model.Filter("Kdgrp", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter13 = new sap.ui.model.Filter("Zlsch", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter14 = new sap.ui.model.Filter("Erdat", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter15 = new sap.ui.model.Filter("DueDate", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                            
			var oFilter16 = new sap.ui.model.Filter("DaysBeyond", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                         
			var oFilter17 = new sap.ui.model.Filter("Vkgrp", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                              
			var oFilter18 = new sap.ui.model.Filter("ConStDate", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                          
			var oFilter19 = new sap.ui.model.Filter("ConEdDate", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                          
			var oFilter20 = new sap.ui.model.Filter("Vkbur1", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                             
			var oFilter21 = new sap.ui.model.Filter("Bsark1", sap.ui.model.FilterOperator.Contains, value);                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var oTable = this.getView().byId("seltable");                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var oTableItems = oTable.getBinding("rows");                                                                                                                                                                                                                
			var orFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                    
				filters: [oFilter1, oFilter2, oFilter3, oFilter4, oFilter5, oFilter6, oFilter8, oFilter9,                                                                                                                                                                  
					oFilter10, oFilter11, oFilter12, oFilter13, oFilter7, oFilter14, oFilter15, oFilter16, oFilter17, oFilter18,                                                                                                                                              
					oFilter19, oFilter20, oFilter21                                                                                                                                                                                                                           
				],                                                                                                                                                                                                                                                         
				and: false                                                                                                                                                                                                                                                 
			});                                                                                                                                                                                                                                                         
			var aFilter = [orFilter];                                                                                                                                                                                                                                   
			oTableItems.filter(aFilter);                                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* Excel download                                          */                                                                                                                                                                                                
		/* =========================================================== */                                                                                                                                                                                            
		downloadExcel87: function () {                                                                                                                                                                                                                               
			var oTable = this.getView().byId("seltable");                                                                                                                                                                                                               
			var EdmType = exportLibrary.EdmType;                                                                                                                                                                                                                        
			var aColumns = oTable.getColumns();                                                                                                                                                                                                                         
			var aTemplate = [];                                                                                                                                                                                                                                         
			for (var i = 0; i < aColumns.length; i++) {                                                                                                                                                                                                                 
				var oColumn = {                                                                                                                                                                                                                                            
					label: aColumns[i].getLabel().getText(),                                                                                                                                                                                                                  
					property: aColumns[i].getSortProperty(),                                                                                                                                                                                                                  
					type: EdmType.String,                                                                                                                                                                                                                                     
				};                                                                                                                                                                                                                                                         
				aTemplate.push(oColumn);                                                                                                                                                                                                                                   
				if (i === 38) {                                                                                                                                                                                                                                            
					aTemplate.pop(oColumn);                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			// debugger;                                                                                                                                                                                                                                                
			var filename = 'Dunning'; //this.getView().byId("seltable").getSelectedItem().getText();                                                                                                                                                                    
			var d = new Date();                                                                                                                                                                                                                                         
			var oDateFormat = sap.ui.core.format.DateFormat.getInstance({                                                                                                                                                                                               
				pattern: "ddMMyyyyhhMMss"                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			var date = oDateFormat.format(d);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oModel = this.getView().getModel("Dunning");                                                                                                                                                                                                            
			var oSheet = new Spreadsheet({                                                                                                                                                                                                                              
				workbook: {                                                                                                                                                                                                                                                
					columns: aTemplate                                                                                                                                                                                                                                        
				},                                                                                                                                                                                                                                                         
				dataSource: this.getView().getModel("Dunning").getProperty("/results"),                                                                                                                                                                                    
				fileName: filename + date                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oSheet.build().then(function () {                                                                                                                                                                                                                           
					sap.m.MessageToast.show("Export Successfull");                                                                                                                                                                                                            
				})                                                                                                                                                                                                                                                         
				.finally(oSheet.destroy);                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		////EOC Delivery Block OTCM-44804 E266 10/11/2021 VDPATABALL                                                                                                                                                                                                 
		/**                                                                                                                                                                                                                                                          
		 * Internal helper method to apply both filter and search state together on the list binding                                                                                                                                                                 
		 * @param {sap.ui.model.Filter[]} aTableSearchState An array of filters for the search                                                                                                                                                                       
		 * @private                                                                                                                                                                                                                                                  
		 */                                                                                                                                                                                                                                                          
		_applySearch: function (aTableSearchState) {                                                                                                                                                                                                                 
			var oTable = this.byId("table"),                                                                                                                                                                                                                            
				oViewModel = this.getModel("worklistView");                                                                                                                                                                                                                
			oTable.getBinding("items").filter(aTableSearchState, "Application");                                                                                                                                                                                        
			// changes the noDataText of the list in case there are no filter results                                                                                                                                                                                   
			if (aTableSearchState.length !== 0) {                                                                                                                                                                                                                       
				oViewModel.setProperty("/tableNoDataText", this.getResourceBundle().getText("worklistNoDataWithSearchText"));                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		}                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
	});                                                                                                                                                                                                                                                           
});                                                                                                                                                                                                                                                            