sap.ui.define([                                                                                                                                                                                                                                                
	"./BaseController",                                                                                                                                                                                                                                           
	"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                                
	"../model/formatter",                                                                                                                                                                                                                                         
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator"                                                                                                                                                                                                                                 
], function (BaseController, JSONModel, formatter, Filter, FilterOperator) {                                                                                                                                                                                   
	"use strict";                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
	return BaseController.extend("orders.ZQTC_SALES_VA.controller.Worklist", {                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		formatter: formatter,                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* lifecycle methods                                           */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Called when the worklist controller is instantiated.                                                                                                                                                                                                      
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onInit : function () {                                                                                                                                                                                                                                       
			var oViewModel,                                                                                                                                                                                                                                             
				iOriginalBusyDelay,                                                                                                                                                                                                                                        
				oTable = this.byId("table");                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			this.oJsonDataT = new JSONModel([], true);                                                                                                                                                                                                                  
			this.getView().setModel(this.oJsonDataT, "BTsel");                                                                                                                                                                                                          
			                                                                                                                                                                                                                                                            
			// Put down worklist table's original value for busy indicator delay,                                                                                                                                                                                       
			// so it can be restored later on. Busy handling on the table is                                                                                                                                                                                            
			// taken care of by the table itself.                                                                                                                                                                                                                       
			iOriginalBusyDelay = oTable.getBusyIndicatorDelay();                                                                                                                                                                                                        
			// keeps the search state                                                                                                                                                                                                                                   
			this._aTableSearchState = [];                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
	                                                                                                                                                                                                                                                              
			                                                                                                                                                                                                                                                            
			// Model used to manipulate control states                                                                                                                                                                                                                  
			oViewModel = new JSONModel({                                                                                                                                                                                                                                
				worklistTableTitle : this.getResourceBundle().getText("worklistTableTitle"),                                                                                                                                                                               
				shareOnJamTitle: this.getResourceBundle().getText("worklistTitle"),                                                                                                                                                                                        
				shareSendEmailSubject: this.getResourceBundle().getText("shareSendEmailWorklistSubject"),                                                                                                                                                                  
				shareSendEmailMessage: this.getResourceBundle().getText("shareSendEmailWorklistMessage", [location.href]),                                                                                                                                                 
				tableNoDataText : this.getResourceBundle().getText("tableNoDataText"),                                                                                                                                                                                     
				tableBusyDelay : 0                                                                                                                                                                                                                                         
			});                                                                                                                                                                                                                                                         
			this.setModel(oViewModel, "worklistView");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// Make sure, busy indication is showing immediately so there is no                                                                                                                                                                                         
			// break after the busy indication for loading the view's meta data is                                                                                                                                                                                      
			// ended (see promise 'oWhenMetadataIsLoaded' in AppController)                                                                                                                                                                                             
			oTable.attachEventOnce("updateFinished", function(){                                                                                                                                                                                                        
				// Restore original busy indicator delay for worklist's table                                                                                                                                                                                              
				oViewModel.setProperty("/tableBusyDelay", iOriginalBusyDelay);                                                                                                                                                                                             
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* event handlers                                              */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Triggered by the table's 'updateFinished' event: after new table                                                                                                                                                                                          
		 * data is available, this handler method updates the table counter.                                                                                                                                                                                         
		 * This should only happen if the update was successful, which is                                                                                                                                                                                            
		 * why this handler is attached to 'updateFinished' and not to the                                                                                                                                                                                           
		 * table's list binding's 'dataReceived' method.                                                                                                                                                                                                             
		 * @param {sap.ui.base.Event} oEvent the update finished event                                                                                                                                                                                               
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onUpdateFinished : function (oEvent) {                                                                                                                                                                                                                       
			// update the worklist's object counter after the table update                                                                                                                                                                                              
			var sTitle,                                                                                                                                                                                                                                                 
				oTable = oEvent.getSource(),                                                                                                                                                                                                                               
				iTotalItems = oEvent.getParameter("total");                                                                                                                                                                                                                
			// only update the counter if the length is final and                                                                                                                                                                                                       
			// the table is not empty                                                                                                                                                                                                                                   
			if (iTotalItems && oTable.getBinding("items").isLengthFinal()) {                                                                                                                                                                                            
				sTitle = this.getResourceBundle().getText("worklistTableTitleCount", [iTotalItems]);                                                                                                                                                                       
			} else {                                                                                                                                                                                                                                                    
				sTitle = this.getResourceBundle().getText("worklistTableTitle");                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
			this.getModel("worklistView").setProperty("/worklistTableTitle", sTitle);                                                                                                                                                                                   
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler when a table item gets pressed                                                                                                                                                                                                              
		 * @param {sap.ui.base.Event} oEvent the table selectionChange event                                                                                                                                                                                         
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onPress : function (oEvent) {                                                                                                                                                                                                                                
			// The source is the list item that got pressed                                                                                                                                                                                                             
			this._showObject(oEvent.getSource());                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler for navigating back.                                                                                                                                                                                                                        
		 * We navigate back in the browser history                                                                                                                                                                                                                   
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onNavBack : function() {                                                                                                                                                                                                                                     
			// eslint-disable-next-line sap-no-history-manipulation                                                                                                                                                                                                     
			history.go(-1);                                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
////////////////////////////////////////////////////// Start App custom Event Handlers                                                                                                                                                                         
		// VA05 data  Refresh Event Handler                                                                                                                                                                                                                          
			VA05dataEH: function (oEvent) {                                                                                                                                                                                                                             
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                 
			// var oTable = this.getView().byId("Bill"); //reading                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var DataObject = {};                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var value = 0;                                                                                                                                                                                                                                              
			var value1 = 0;                                                                                                                                                                                                                                             
			// DataObject.Vbeln = value;                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// var bsdate = this.getView().byId("Bsdate").getValue();                                                                                                                                                                                                   
			// var bedate = this.getView().byId("Bedate").getValue();                                                                                                                                                                                                   
			// sap.ui.getCore().bsdate = bsdate;                                                                                                                                                                                                                        
			// sap.ui.getCore().bedate = bedate;                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// if (bedate < bsdate) {                                                                                                                                                                                                                                   
			// 	// sap.m.MessageToast.show("'Date-To' earlier than 'Date-From',Please8 check! ");                                                                                                                                                                       
			// 	sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please9 check! ");                                                                                                                                                                    
			// 	return;                                                                                                                                                                                                                                                 
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
			// DataObject.Posnr = value1;                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                     
				filters: [                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					// // new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, DataObject.Vbeln),                                                                                                                                                                 
					// new sap.ui.model.Filter("Posnr", sap.ui.model.FilterOperator.EQ, DataObject.Posnr),                                                                                                                                                                    
					// new sap.ui.model.Filter("Faksk", sap.ui.model.FilterOperator.EQ, "RF"),                                                                                                                                                                                
					// // new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().otypb2),                                                                                                                                                          
					// new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, bsdate),                                                                                                                                                                             
					// new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, bedate)                                                                                                                                                                              
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//  Read multiple BP selectec                                                                                                                                                                                                                               
			// var DataObject2 = [];                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// var items = this.getView().byId("BK").getTokens();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// for (var i = 0; i < items.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			// 	var item = items[i].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, item));                                                                                                                                                               
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
	                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			//  Read multiple Orders selectec                                                                                                                                                                                                                           
	                                                                                                                                                                                                                                                              
			// var items3 = this.getView().byId("Bso").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// for (var i3 = 0; i3 < items3.length; i3++) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// 	var item3 = items3[i3].getText();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, item3));                                                                                                                                                              
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// var items4 = this.getView().byId("BT3").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// for (var i4 = 0; i4 < items4.length; i4++) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// 	var item4 = items4[i4].getText();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, item4));                                                                                                                                                              
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                               
			// oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                          
			//////////////////////////////////////&nbsp;                                                                                                                                                                                                                
			debugger;                                                                                                                                                                                                                                                   
			                                                                                                                                                                                                                                                            
			var odatamodelobject = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_VA_REP_SRV", {                                                                                                                                                         
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			odatamodelobject.read("/VA05Set", {                                                                                                                                                                                                                         
				// filters: [oFilter],                                                                                                                                                                                                                                     
				                                                                                                                                                                                                                                                           
				success: function (oData, response) {                                                                                                                                                                                                                      
					var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                       
					// oJSONModel.setSizeLimit(oData.results.length);                                                                                                                                                                                                         
					oJSONModel.setData(oData);                                                                                                                                                                                                                                
					sap.ui.getCore().setModel(oJSONModel);                                                                                                                                                                                                                    
					this.getView().setModel(oJSONModel, "VA05");                                                                                                                                                                                                              
					// sap.m.MessageToast.show("Billing data refreshed");                                                                                                                                                                                                     
					// var itab4 = this.getView().byId("Tab4");                                                                                                                                                                                                               
					// itab4.setCount(oData.results.length);                                                                                                                                                                                                                  
					// oData.bindRows("/VA05");                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in VA05 data refresh");                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// VA25 data  Refresh Event Handler                                                                                                                                                                                                                          
			VA25dataEH: function (oEvent) {                                                                                                                                                                                                                             
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                 
			// var oTable = this.getView().byId("Bill"); //reading                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var DataObject25 = {};                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var value5 = 0;                                                                                                                                                                                                                                             
			var value25 = 0;                                                                                                                                                                                                                                            
			// DataObject.Vbeln = value;                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// var bsdate = this.getView().byId("Bsdate").getValue();                                                                                                                                                                                                   
			// var bedate = this.getView().byId("Bedate").getValue();                                                                                                                                                                                                   
			// sap.ui.getCore().bsdate = bsdate;                                                                                                                                                                                                                        
			// sap.ui.getCore().bedate = bedate;                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// if (bedate < bsdate) {                                                                                                                                                                                                                                   
			// 	// sap.m.MessageToast.show("'Date-To' earlier than 'Date-From',Please8 check! ");                                                                                                                                                                       
			// 	sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please9 check! ");                                                                                                                                                                    
			// 	return;                                                                                                                                                                                                                                                 
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
			// DataObject.Posnr = value1;                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var oFilter25 = new sap.ui.model.Filter({                                                                                                                                                                                                                   
				filters: [                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					// // new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, DataObject.Vbeln),                                                                                                                                                                 
					// new sap.ui.model.Filter("Posnr", sap.ui.model.FilterOperator.EQ, DataObject.Posnr),                                                                                                                                                                    
					// new sap.ui.model.Filter("Faksk", sap.ui.model.FilterOperator.EQ, "RF"),                                                                                                                                                                                
					// // new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().otypb2),                                                                                                                                                          
					// new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, bsdate),                                                                                                                                                                             
					// new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, bedate)                                                                                                                                                                              
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//  Read multiple BP selectec                                                                                                                                                                                                                               
			// var DataObject2 = [];                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// var items = this.getView().byId("BK").getTokens();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// for (var i = 0; i < items.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			// 	var item = items[i].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, item));                                                                                                                                                               
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
	                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			//  Read multiple Orders selectec                                                                                                                                                                                                                           
	                                                                                                                                                                                                                                                              
			// var items3 = this.getView().byId("Bso").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// for (var i3 = 0; i3 < items3.length; i3++) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// 	var item3 = items3[i3].getText();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, item3));                                                                                                                                                              
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// var items4 = this.getView().byId("BT3").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// for (var i4 = 0; i4 < items4.length; i4++) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// 	var item4 = items4[i4].getText();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, item4));                                                                                                                                                              
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                               
			// oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                          
			//////////////////////////////////////&nbsp;                                                                                                                                                                                                                
			debugger;                                                                                                                                                                                                                                                   
			                                                                                                                                                                                                                                                            
			var odatamodelobject25 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_VA_REP_SRV", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			odatamodelobject25.read("/VA25Set", {                                                                                                                                                                                                                       
				// filters: [oFilter],                                                                                                                                                                                                                                     
				                                                                                                                                                                                                                                                           
				success: function (oData25, response) {                                                                                                                                                                                                                    
					var oJSONModel25 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                     
					// oJSONModel.setSizeLimit(oData.results.length);                                                                                                                                                                                                         
					oJSONModel25.setData(oData25);                                                                                                                                                                                                                            
					sap.ui.getCore().setModel(oJSONModel25);                                                                                                                                                                                                                  
					this.getView().setModel(oJSONModel25, "VA25");                                                                                                                                                                                                            
					// sap.m.MessageToast.show("Billing data refreshed");                                                                                                                                                                                                     
					// var itab4 = this.getView().byId("Tab4");                                                                                                                                                                                                               
					// itab4.setCount(oData.results.length);                                                                                                                                                                                                                  
					// oData.bindRows("/VA05");                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in VA25 data refresh");                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		                                                                                                                                                                                                                                                             
			// VA45 data  Refresh Event Handler                                                                                                                                                                                                                         
			VA45dataEH: function (oEvent) {                                                                                                                                                                                                                             
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                 
			// var oTable = this.getView().byId("Bill"); //reading                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var DataObject45 = {};                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			var value45 = 0;                                                                                                                                                                                                                                            
			var value45 = 0;                                                                                                                                                                                                                                            
			// DataObject.Vbeln = value;                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// var bsdate = this.getView().byId("Bsdate").getValue();                                                                                                                                                                                                   
			// var bedate = this.getView().byId("Bedate").getValue();                                                                                                                                                                                                   
			// sap.ui.getCore().bsdate = bsdate;                                                                                                                                                                                                                        
			// sap.ui.getCore().bedate = bedate;                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// if (bedate < bsdate) {                                                                                                                                                                                                                                   
			// 	// sap.m.MessageToast.show("'Date-To' earlier than 'Date-From',Please8 check! ");                                                                                                                                                                       
			// 	sap.m.MessageBox.warning("'Date-To'  earlier  than  'Date-From ', Please9 check! ");                                                                                                                                                                    
			// 	return;                                                                                                                                                                                                                                                 
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
			// DataObject.Posnr = value1;                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			var oFilter45 = new sap.ui.model.Filter({                                                                                                                                                                                                                   
				filters: [                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					// // new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, DataObject.Vbeln),                                                                                                                                                                 
					// new sap.ui.model.Filter("Posnr", sap.ui.model.FilterOperator.EQ, DataObject.Posnr),                                                                                                                                                                    
					// new sap.ui.model.Filter("Faksk", sap.ui.model.FilterOperator.EQ, "RF"),                                                                                                                                                                                
					// // new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().otypb2),                                                                                                                                                          
					// new sap.ui.model.Filter("Stdate", sap.ui.model.FilterOperator.EQ, bsdate),                                                                                                                                                                             
					// new sap.ui.model.Filter("Endate", sap.ui.model.FilterOperator.EQ, bedate)                                                                                                                                                                              
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//  Read multiple BP selectec                                                                                                                                                                                                                               
			// var DataObject2 = [];                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// var items = this.getView().byId("BK").getTokens();                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// for (var i = 0; i < items.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			// 	var item = items[i].getText();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Kunnr", sap.ui.model.FilterOperator.EQ, item));                                                                                                                                                               
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
	                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			//  Read multiple Orders selectec                                                                                                                                                                                                                           
	                                                                                                                                                                                                                                                              
			// var items3 = this.getView().byId("Bso").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// for (var i3 = 0; i3 < items3.length; i3++) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// 	var item3 = items3[i3].getText();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, item3));                                                                                                                                                              
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// var items4 = this.getView().byId("BT3").getTokens();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// for (var i4 = 0; i4 < items4.length; i4++) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// 	var item4 = items4[i4].getText();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// 	DataObject2.push(new sap.ui.model.Filter("Auart", sap.ui.model.FilterOperator.EQ, item4));                                                                                                                                                              
			// 	// DataObject2.push(item);                                                                                                                                                                                                                              
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// sap.ui.getCore().multiItype = DataObject2;                                                                                                                                                                                                               
			// oFilter = oFilter.aFilters.concat(DataObject2);                                                                                                                                                                                                          
			//////////////////////////////////////&nbsp;                                                                                                                                                                                                                
			debugger;                                                                                                                                                                                                                                                   
			                                                                                                                                                                                                                                                            
			var odatamodelobject45 = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_VA_REP_SRV", {                                                                                                                                                       
				json: true,                                                                                                                                                                                                                                                
				loadMetadataAsync: true                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
			odatamodelobject45.read("/VA45Set", {                                                                                                                                                                                                                       
				// filters: [oFilter],                                                                                                                                                                                                                                     
				                                                                                                                                                                                                                                                           
				success: function (oData45, response) {                                                                                                                                                                                                                    
					var oJSONModel45 = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                     
					// oJSONModel.setSizeLimit(oData.results.length);                                                                                                                                                                                                         
					oJSONModel45.setData(oData45);                                                                                                                                                                                                                            
					sap.ui.getCore().setModel(oJSONModel45);                                                                                                                                                                                                                  
					this.getView().setModel(oJSONModel45, "VA45");                                                                                                                                                                                                            
					// sap.m.MessageToast.show("Billing data refreshed");                                                                                                                                                                                                     
					// var itab4 = this.getView().byId("Tab4");                                                                                                                                                                                                               
					// itab4.setCount(oData.results.length);                                                                                                                                                                                                                  
					// oData.bindRows("/VA05");                                                                                                                                                                                                                               
				}.bind(this),                                                                                                                                                                                                                                              
				error: function (oError) {                                                                                                                                                                                                                                 
					sap.m.MessageToast.show("Error in VA45 data refresh");                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},	                                                                                                                                                                                                                                                          
		// Tcodes dropdown event                                                                                                                                                                                                                                     
    	SelTabEH: function (oEvent) {                                                                                                                                                                                                                             
			debugger;                                                                                                                                                                                                                                                   
		                                                                                                                                                                                                                                                             
		this.getView().byId("idva05").setVisible(false);                                                                                                                                                                                                             
		this.getView().byId("idva25").setVisible(false);                                                                                                                                                                                                             
		this.getView().byId("idva45").setVisible(false);                                                                                                                                                                                                             
		var va05tab = this.getView().byId("idva05");                                                                                                                                                                                                                 
		var tcode = this.getView().byId("cbtcodes").getSelectedItem().getKey();                                                                                                                                                                                      
		                                                                                                                                                                                                                                                             
			// var that = this;                                                                                                                                                                                                                                         
			// var r = this.getView().byId("cbtcodes").setSelectedKey("");                                                                                                                                                                                              
		                                                                                                                                                                                                                                                             
			if ( tcode === "VA05" )  {                                                                                                                                                                                                                                  
			// // JSON Model for VA05 data                                                                                                                                                                                                                              
			this.VA05dataEH();                                                                                                                                                                                                                                          
			this.getView().byId("idva05").setVisible(true);                                                                                                                                                                                                             
			}&nbsp;                                                                                                                                                                                                                                                     
		                                                                                                                                                                                                                                                             
			if ( tcode === "VA25" )  {                                                                                                                                                                                                                                  
				this.VA25dataEH();                                                                                                                                                                                                                                         
				this.getView().byId("idva25").setVisible(true);                                                                                                                                                                                                            
			}&nbsp;                                                                                                                                                                                                                                                     
			                                                                                                                                                                                                                                                            
			if ( tcode === "VA45" )  {                                                                                                                                                                                                                                  
				this.VA45dataEH();                                                                                                                                                                                                                                         
				this.getView().byId("idva45").setVisible(true);                                                                                                                                                                                                            
			}&nbsp;                                                                                                                                                                                                                                                     
			                                                                                                                                                                                                                                                            
			                                                                                                                                                                                                                                                            
			// var oFilter = new sap.ui.model.Filter({                                                                                                                                                                                                                  
			// 	filters: [],                                                                                                                                                                                                                                            
			// 	and: true                                                                                                                                                                                                                                               
			// });                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// var sUrl = "/sap/opu/odata/sap/ZQTC_VA_REP_SRV";                                                                                                                                                                                                         
			// var oDataModel = new ODATAModel(sUrl, {                                                                                                                                                                                                                  
			// 	json: true,                                                                                                                                                                                                                                             
			// 	loadMetadataAsync: true                                                                                                                                                                                                                                 
			// });                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// if (this.getView().byId("tableinput").getSelectedItem() !== null) {                                                                                                                                                                                      
			// 	oFilter.aFilters.push(new sap.ui.model.Filter("High", sap.ui.model.FilterOperator.EQ, tabnamref));                                                                                                                                                      
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// oDataModel.read("/ReportnameSet", {                                                                                                                                                                                                                      
			// 	filters: oFilter.aFilters,                                                                                                                                                                                                                              
			// 	and: true,                                                                                                                                                                                                                                              
			// 	success: function (oData, response) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// 		that.getView().setBusy(false);                                                                                                                                                                                                                         
			// 		var oJSONModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                    
			// 		oJSONModel.setData(oData);                                                                                                                                                                                                                             
			// 		sap.ui.getCore().setModel(oJSONModel);                                                                                                                                                                                                                 
			// 		that.getView().setModel(oJSONModel, "tab");                                                                                                                                                                                                            
			// 		// sap.m.MessageToast.show("Data Read Successfully");                                                                                                                                                                                                  
			// 	},                                                                                                                                                                                                                                                      
			// 	error: function (oError) {                                                                                                                                                                                                                              
			// 		// that.getView().setBusy(false);                                                                                                                                                                                                                      
			// 		// sap.m.MessageToast.show("Error in Fetching Data");                                                                                                                                                                                                  
			// 	}                                                                                                                                                                                                                                                       
			// });                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
	//////////////////////////////////////////////////////////  Bill SO F4 Start                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
		inputBsf: "",                                                                                                                                                                                                                                                
		fragmentBsf: null,                                                                                                                                                                                                                                           
		SelfldsEH: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			this.inputBso = oEvent.getSource().getId();                                                                                                                                                                                                                 
			if (this.fragmentBso === null) {                                                                                                                                                                                                                            
				this.fragmentBso = new sap.ui.xmlfragment("Block_Orders.Block_Orders.view.fragmentOrder", this);                                                                                                                                                           
                                                                                                                                                                                                                                                               
				this.fragmentBso.setTitle("Sales Orders ");                                                                                                                                                                                                                
				this.getView().addDependent(this.fragmentBso);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			//			var aToken = this.getView().byId("productInput").getTokens();                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.fragmentBso.open();                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Cancel Button on Media issue F4                                                                                                                                                                                                                            
		cancelBSO: function () {                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this.fragmentBso.close();                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Order  selections	in Billing Block F4                                                                                                                                                                                                                      
		rowSelectionBso: function (oEvent) {                                                                                                                                                                                                                         
			var btable = sap.ui.getCore().byId("BSOTable");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// User selected all rows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === true) {                                                                                                                                                            
				for (var i = 0; i < oEvent.getParameter("listItems").length; i++) {                                                                                                                                                                                        
					var selectedItem2 = oEvent.getParameter("listItems")[i].getBindingContext("Billing").getProperty("Vbeln");                                                                                                                                                
					this.getView().getModel("Bsosel").getData().push({                                                                                                                                                                                                        
						"Vbeln": selectedItem2                                                                                                                                                                                                                                   
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//Slected only single row                                                                                                                                                                                                                                   
			else {                                                                                                                                                                                                                                                      
				var selectedItem = oEvent.getParameter("listItem").getBindingContext("Billing").getProperty("Vbeln");                                                                                                                                                      
				if (oEvent.getParameter("listItem").getProperty("selected") === true) {                                                                                                                                                                                    
					this.getView().getModel("Bsosel").getData().push({                                                                                                                                                                                                        
						"Vbeln": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                   
					//deselected single row                                                                                                                                                                                                                                   
				} else {                                                                                                                                                                                                                                                   
					this.getView().getModel("Bsosel").getData().pop({                                                                                                                                                                                                         
						"Vbeln": selectedItem                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
					this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			//User deselected allrows                                                                                                                                                                                                                                   
			if ((oEvent.getParameter("listItems").length > 1) && oEvent.getParameter("selected") === false) {                                                                                                                                                           
				this.getView().getModel("Bsosel").setData([]);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			//sap.ui.getCore().byId("mySelProdTable").insertItem(selectedItem.clone(selectedItem.getId(),Math.random()));                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// Accept Button in Customer F4 in Delivery Block selected items                                                                                                                                                                                             
		acceptBSO: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			this.getView().byId("Bso").removeAllTokens();                                                                                                                                                                                                               
			var aFilter = [];                                                                                                                                                                                                                                           
			//	var oTable = sap.ui.getCore().byId("myProdTable");                                                                                                                                                                                                       
			var oTable = sap.ui.getCore().byId("BSOselTable");                                                                                                                                                                                                          
			//	var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                         
			//var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                            
			var selectedItems = oTable.getItems();                                                                                                                                                                                                                      
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				// var aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                    
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				for (var i = 0; i < selectedItems.length; i++) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					var selectedItem = selectedItems[i].getBindingContext("Bsosel").getProperty("Vbeln");                                                                                                                                                                     
					var defToken = new sap.m.Token({                                                                                                                                                                                                                          
						text: selectedItem                                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					this.getView().byId("Bso").addToken(defToken);                                                                                                                                                                                                            
					sap.ui.getCore().Bso = selectedItem;                                                                                                                                                                                                                      
					aFilter.push(selectedItem);                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				sap.ui.getCore().multiBso = aFilter;                                                                                                                                                                                                                       
				sap.ui.getCore().byId("BSOTable").removeSelections(true);                                                                                                                                                                                                  
			} else {                                                                                                                                                                                                                                                    
				// aToken = this.getView().byId("Dso").getTokens();                                                                                                                                                                                                        
				// this.getView().byId("Dso").destroyTokens([aToken]);                                                                                                                                                                                                     
				sap.ui.getCore().Bso = null;                                                                                                                                                                                                                               
				sap.ui.getCore().multiBso = [];                                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.fragmentBso.close();                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// this.DELVREFRESHWEH(oEvent)();                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Clear all selections Deliveryblock  Customers&nbsp;                                                                                                                                                                                                        
		clearBSO: function () {                                                                                                                                                                                                                                      
			var oTable = sap.ui.getCore().byId("BSOTable");                                                                                                                                                                                                             
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			if (selectedItems.length > 0) {                                                                                                                                                                                                                             
				oTable.removeSelections(true);                                                                                                                                                                                                                             
				var aToken = this.getView().byId("Bso").getTokens();                                                                                                                                                                                                       
				this.getView().byId("Bso").destroyTokens([aToken]);                                                                                                                                                                                                        
				sap.ui.getCore().multiBso = [];                                                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
			//remove selections also                                                                                                                                                                                                                                    
			this.getView().getModel("Bsosel").setData([]);                                                                                                                                                                                                              
			//var searchValue = sap.ui.core.Fragment.byId("mediaDialog", "mySearch").getValue();                                                                                                                                                                        
			var searchField = sap.ui.getCore().byId("mySearch");                                                                                                                                                                                                        
			searchField.setValue(null);                                                                                                                                                                                                                                 
			this.getView().byId("Bso").removeAllTokens();                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//delete selected Customers from Delivery block customer F4 selected table                                                                                                                                                                                   
		deleteSelectionBso: function (oEvent) {                                                                                                                                                                                                                      
			var selectedItem = oEvent.getParameter("listItem");                                                                                                                                                                                                         
			var oTable = sap.ui.getCore().byId("BSOselTable");                                                                                                                                                                                                          
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			oTable.removeItem(selectedItem);                                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		searchEHO: function (oEvent) {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//if table has any any selected items capture it else clear                                                                                                                                                                                                 
			var value = oEvent.getParameter("query");                                                                                                                                                                                                                   
			//value.toUpperCase();                                                                                                                                                                                                                                      
			var oFilter = new sap.ui.model.Filter("Vbeln", sap.ui.model.FilterOperator.EQ, value);                                                                                                                                                                      
			var oTable1 = sap.ui.getCore().byId("BSOTable");                                                                                                                                                                                                            
			//      	var selectedItems = oTable.getSelectedItems();                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//var oTable = this.fragmentMedia.getContent()[1];                                                                                                                                                                                                          
			var oTableItem1s = oTable1.getBinding("items");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			oTableItem1s.filter(oFilter);                                                                                                                                                                                                                               
			oTable1.removeSelections(true);                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//Change tokens in Sold-to Multi Input                                                                                                                                                                                                                       
		BsoChange: function (oEvent) {                                                                                                                                                                                                                               
			var value = oEvent.getParameter("type");                                                                                                                                                                                                                    
			if (value === "removed") {                                                                                                                                                                                                                                  
				//remove from selection in value help	                                                                                                                                                                                                                     
				var text = oEvent.getParameter("token").getText();                                                                                                                                                                                                         
				this.getView().getModel("Bsosel").getData().pop({                                                                                                                                                                                                          
					"Kunnr": text                                                                                                                                                                                                                                             
				});                                                                                                                                                                                                                                                        
				this.getView().getModel("Bsosel").updateBindings(true);                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				var aFilter = [];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var aToken = this.getView().byId("Kunnr").getTokens();                                                                                                                                                                                                     
				//if table has any any selected items capture it else clear                                                                                                                                                                                                
				if (aToken.length > 0) {                                                                                                                                                                                                                                   
					for (var i = 0; i < aToken.length; i++) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						var selectedItem = aToken[i].getProperty("text");                                                                                                                                                                                                        
						// var defToken = new sap.m.Token({                                                                                                                                                                                                                      
						// 	text: selectedItem                                                                                                                                                                                                                                   
						// });                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						aFilter.push(selectedItem);                                                                                                                                                                                                                              
					}                                                                                                                                                                                                                                                         
					sap.ui.getCore().multiMedia = aFilter;                                                                                                                                                                                                                    
				} else {                                                                                                                                                                                                                                                   
					sap.ui.getCore().multiMedia = [];                                                                                                                                                                                                                         
					sap.ui.getCore().media = null;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				this.BillRefreshEH(oEvent)();                                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/////////////////////////////////////////////////////////   Bill SO F4 END                                                                                                                                                                                   
////////////////////////////////////////////////////// End of Custom events                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
		onSearch : function (oEvent) {                                                                                                                                                                                                                               
			if (oEvent.getParameters().refreshButtonPressed) {                                                                                                                                                                                                          
				// Search field's 'refresh' button has been pressed.                                                                                                                                                                                                       
				// This is visible if you select any master list item.                                                                                                                                                                                                     
				// In this case no new search is triggered, we only                                                                                                                                                                                                        
				// refresh the list binding.                                                                                                                                                                                                                               
				this.onRefresh();                                                                                                                                                                                                                                          
			} else {                                                                                                                                                                                                                                                    
				var aTableSearchState = [];                                                                                                                                                                                                                                
				var sQuery = oEvent.getParameter("query");                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				if (sQuery && sQuery.length > 0) {                                                                                                                                                                                                                         
					aTableSearchState = [new Filter("Posnr", FilterOperator.Contains, sQuery)];                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				this._applySearch(aTableSearchState);                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler for refresh event. Keeps filter, sort                                                                                                                                                                                                       
		 * and group settings and refreshes the list binding.                                                                                                                                                                                                        
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onRefresh : function () {                                                                                                                                                                                                                                    
			var oTable = this.byId("table");                                                                                                                                                                                                                            
			oTable.getBinding("items").refresh();                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* internal methods                                            */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Shows the selected item on the object page                                                                                                                                                                                                                
		 * On phones a additional history entry is created                                                                                                                                                                                                           
		 * @param {sap.m.ObjectListItem} oItem selected Item                                                                                                                                                                                                         
		 * @private                                                                                                                                                                                                                                                  
		 */                                                                                                                                                                                                                                                          
		_showObject : function (oItem) {                                                                                                                                                                                                                             
			this.getRouter().navTo("object", {                                                                                                                                                                                                                          
				objectId: oItem.getBindingContext().getProperty("Vbeln")                                                                                                                                                                                                   
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Internal helper method to apply both filter and search state together on the list binding                                                                                                                                                                 
		 * @param {sap.ui.model.Filter[]} aTableSearchState An array of filters for the search                                                                                                                                                                       
		 * @private                                                                                                                                                                                                                                                  
		 */                                                                                                                                                                                                                                                          
		_applySearch: function(aTableSearchState) {                                                                                                                                                                                                                  
			var oTable = this.byId("table"),                                                                                                                                                                                                                            
				oViewModel = this.getModel("worklistView");                                                                                                                                                                                                                
			oTable.getBinding("items").filter(aTableSearchState, "Application");                                                                                                                                                                                        
			// changes the noDataText of the list in case there are no filter results                                                                                                                                                                                   
			if (aTableSearchState.length !== 0) {                                                                                                                                                                                                                       
				oViewModel.setProperty("/tableNoDataText", this.getResourceBundle().getText("worklistNoDataWithSearchText"));                                                                                                                                              
			}                                                                                                                                                                                                                                                           
		}                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
	});                                                                                                                                                                                                                                                           
});                                                                                                                                                                                                                                                            