sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/core/util/Export","sap/ui/core/util/ExportTypeCSV",+
"sap/ui/table/TablePersoController","../model/personalization"],function(e,t,o,r,i,s,d,a,n,l,g){"use strict";return e.extend("ren.ZQTC_FUTURE_REN.controller.Worklist",{formatter:r,onInit:function(){var e;var t=new Promise(function(t,o){this.getOwnerCompo+
nent().getModel().read("/TimeSet",{success:function(o){e=o.results[0].TimeLimit*1e3;t()},error:function(t){e="300000";o()}})}.bind(this));t.then(function(t){var o;function r(){clearTimeout(o);o=setTimeout(function(){sap.m.MessageBox.show("Click OK to Ref+
resh",{icon:sap.m.MessageBox.Icon.Error,title:"Session Timeout",onClose:function(e){location.reload()}})},e)}document.onmousemove=r});try{sap.ui.getCore().bp=jQuery.sap.getUriParameters().mParams["sap-data-bp"][0]}catch(e){sap.ui.getCore().bp=""}sap.ui.g+
etCore().renstatus=null;if(sap.ui.getCore().bp===""){sap.ui.getCore().bp="1002571500"}this.setDefaultDates();this.getData();this._oTPC=new l("perosId",{table:this.getView().byId("table"),componentName:"demoApp",persoService:g})},setDefaultDates:function(+
){var e=new Date;var t=this.getView().byId("IDatefrom");t.setDateValue(e);var o=e;o=o.setDate(o.getDate()+720);this.getView().byId("IDateto").setDateValue(new Date(o));var r=new Date;var i=this.getView().byId("IDatefrom");i.setDateValue(r);var s=sap.ui.c+
ore.format.DateFormat.getInstance({pattern:"yyyy-MM-dd"});sap.ui.getCore().enddate=s.format(e);sap.ui.getCore().startdate=s.format(r)},getData:function(){var e=this;var t="/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/";var r=new o(t,{json:true,loadMet+
adataAsync:true});r.read("/GETLISTSet",{filters:[this.getInitialFilter()],and:true,success:function(t,o){e.getView().setBusy(false);var r=new sap.ui.model.json.JSONModel;for(var i=0;i<t.results.length;i++){var s=t.results[i];if(s.ExclStatus==="X"||s.RenS+
tatus==="C"){s.District="Indication02";s.Color=""}else if(s.FutureOrd){s.District="Indication04";s.Color=""}else{s.District="None";s.Color=""}}r.setData(t);sap.ui.getCore().setModel(r);e.getView().setModel(r,"tp")},error:function(t){e.getView().setBusy(f+
alse);sap.m.MessageToast.show("Error in Fetching Data")}})},getInitialFilter:function(){return new i({filters:[new i("Kunag",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().bp),new i("RenStatus",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().renstatus),+
new i("Vbegdat",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().startdate),new i("Venddat",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().enddate)],and:true})},onAfterRendering:function(){this.getView().byId("bpInput").setValue(sap.ui.getCore().bp)},ref+
resh:function(){sap.ui.getCore().startdate=this.getView().byId("IDatefrom").getValue();sap.ui.getCore().enddate=this.getView().byId("IDateto").getValue();this.getView().byId("searchField").setValue("");this.getData()},addressOld:"",fragmentAdd:null,addOb+
ject:"",addObjArray:[],shiptoAdd:function(e){this.selectedRowAdd=e.getSource().getBindingContext("tp");this.btnId=e.getParameter("id");var t={};for(var o=0;o<this.addObjArray.length;o++){if(this.addObjArray[o].Id===this.btnId){t=this.addObjArray[o];this.+
addObjectOld=t}}if(!t.Id){t.Id=this.btnId;t.shipto=e.getSource().getBindingContext("tp").getProperty("Kunwe");t.Street=e.getSource().getBindingContext("tp").getProperty("Street");t.Street2=e.getSource().getBindingContext("tp").getProperty("StrSuppl1");t.+
Street3=e.getSource().getBindingContext("tp").getProperty("StrSuppl2");t.Street4=e.getSource().getBindingContext("tp").getProperty("StrSuppl3");try{t.Location=e.getSource().getBindingContext("tp").getProperty("Location")}catch(e){t.Location=""}t.City1=e.+
getSource().getBindingContext("tp").getProperty("City1");t.Region=e.getSource().getBindingContext("tp").getProperty("Region");t.Country=e.getSource().getBindingContext("tp").getProperty("Country");t.PostCode1=e.getSource().getBindingContext("tp").getProp+
erty("PostCode1");this.addObjectOld=t;this.addObjArray.push(t)}if(this.fragmentAdd===null){this.fragmentAdd=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentAddress",this);this.getView().addDependent(this.fragmentAdd)}sap.ui.getCore().byId("stree+
t").setText(t.Street);sap.ui.getCore().byId("street2").setText(t.Street2);sap.ui.getCore().byId("street3").setText(t.Street3);sap.ui.getCore().byId("street4").setText(t.Street4);sap.ui.getCore().byId("street5").setText(t.Location);sap.ui.getCore().byId("+
city").setText(t.City1);sap.ui.getCore().byId("country").setText(t.Country);sap.ui.getCore().byId("regio").setText(t.Region);sap.ui.getCore().byId("postcode").setText(t.PostCode1);this.fragmentAdd.setTitle("Ship To Party "+t.shipto);var r=this.selectedRo+
wAdd.getPath();this.fragmentAdd.setModel(this.getView().getModel("tp"));this.fragmentAdd.bindElement(r);this.fragmentAdd.open()},fragmentAddDoc:null,addUpdate:function(e){var t={};t.shipto=this.getView().getModel("tp").getProperty("Kunwe",this.selectedRo+
wAdd);t.Street=this.getView().getModel("tp").getProperty("Street",this.selectedRowAdd);try{t.Location=this.getView().getModel("tp").getProperty("Location",this.selectedRowAdd)}catch(e){t.Location=""}t.City1=this.getView().getModel("tp").getProperty("City+
1",this.selectedRowAdd);t.Region=this.getView().getModel("tp").getProperty("Region",this.selectedRowAdd);t.Country=this.getView().getModel("tp").getProperty("Country",this.selectedRowAdd);t.PostCode1=this.getView().getModel("tp").getProperty("PostCode1",+
this.selectedRowAdd);t.NameWe=this.getView().getModel("tp").getProperty("NameWe",this.selectedRowAdd);var o="X";this.getView().getModel("tp").setProperty("AddressChg",o,this.selectedRowAdd);if(this.fragmentAddDoc===null){this.fragmentAddDoc=new sap.ui.xm+
lfragment("ren.ZQTC_FUTURE_REN.view.fragmentAddDoc",this);this.getView().addDependent(this.fragmentAddDoc)}var r=this;var i=new sap.ui.model.Filter("Partner",s.EQ,t.shipto);var d=new sap.ui.model.Filter("Street",s.EQ,t.Street);var a=new sap.ui.model.Filt+
er("Location",s.EQ,t.Location);var n=new sap.ui.model.Filter("City",s.EQ,t.City1);var l=new sap.ui.model.Filter("Region",s.EQ,t.Region);var g=new sap.ui.model.Filter("Country",s.EQ,t.Country);var p=new sap.ui.model.Filter("PostalCode",s.EQ,t.PostCode1);v+
ar u=new sap.ui.model.Filter("FirstName",s.EQ,t.NameWe);var c=new sap.ui.model.Filter({filters:[i,d,a,n,l,g,p,u],and:true});var h=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");h.read("/ADDRESSCHECKSet",{filters:+
[c],success:function(e,t){if(e.results.length>0){var o=new sap.ui.model.json.JSONModel;o.setData(e);r.getView().setModel(o,"doc");sap.ui.getCore().setModel(o);r.fragmentAddDoc.open()}else{r.selectedRowAdd.getObject().Color="yellow";r.getView().byId(r.btn+
Id).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));r.fragmentAdd.close()}},error:function(e){}})},addDocSelect:function(e){var t={};t.street=e.getParameter("listItem").getBindingContext("doc").getProperty(+
"Street");t.country=e.getParameter("listItem").getBindingContext("doc").getProperty("Country");t.region=e.getParameter("listItem").getBindingContext("doc").getProperty("Region");t.postcode=e.getParameter("listItem").getBindingContext("doc").getProperty("+
PostalCode");t.street2=e.getParameter("listItem").getBindingContext("doc").getProperty("StrSuppl1");t.location=e.getParameter("listItem").getBindingContext("doc").getProperty("Location");t.street3=e.getParameter("listItem").getBindingContext("doc").getPr+
operty("StrSuppl2");t.street4=e.getParameter("listItem").getBindingContext("doc").getProperty("StrSuppl3");t.city=e.getParameter("listItem").getBindingContext("doc").getProperty("City");this.getView().getModel("tp").setProperty("Street",t.street,this.sel+
ectedRowAdd);this.getView().getModel("tp").setProperty("StrSuppl1",t.street2,this.selectedRowAdd);this.getView().getModel("tp").setProperty("StrSuppl2",t.street3,this.selectedRowAdd);this.getView().getModel("tp").setProperty("StrSuppl3",t.street4,this.se+
lectedRowAdd);this.getView().getModel("tp").setProperty("Location",t.location,this.selectedRowAdd);this.getView().getModel("tp").setProperty("City1",t.city,this.selectedRowAdd);this.getView().getModel("tp").setProperty("Region",t.region,this.selectedRowA+
dd);this.getView().getModel("tp").setProperty("Country",t.country,this.selectedRowAdd);this.getView().getModel("tp").setProperty("PostCode1",t.postcode,this.selectedRowAdd);this.selectedRowAdd.getObject().Color="yellow";this.getView().byId(this.btnId).ad+
dCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.fragmentAddDoc.close();this.fragmentAdd.close()},cancelAddDoc:function(){this.selectedRowAdd.getObject().Color="yellow";this.getView().byId(this.btnId).add+
CustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.fragmentAddDoc.close();this.fragmentAdd.close()},addReset:function(){this.getView().getModel("tp").setProperty("Street",this.addObjectOld.Street,this.select+
edRowAdd);this.getView().getModel("tp").setProperty("StrSuppl1",this.addObjectOld.Street2,this.selectedRowAdd);this.getView().getModel("tp").setProperty("StrSuppl2",this.addObjectOld.Street3,this.selectedRowAdd);this.getView().getModel("tp").setProperty(+
"StrSuppl3",this.addObjectOld.Street4,this.selectedRowAdd);this.getView().getModel("tp").setProperty("Location",this.addObjectOld.Location,this.selectedRowAdd);this.getView().getModel("tp").setProperty("City1",this.addObjectOld.City1,this.selectedRowAdd)+
;this.getView().getModel("tp").setProperty("Region",this.addObjectOld.Region,this.selectedRowAdd);this.getView().getModel("tp").setProperty("Country",this.addObjectOld.Country,this.selectedRowAdd);this.getView().getModel("tp").setProperty("PostCode1",thi+
s.addObjectOld.PostCode1,this.selectedRowAdd);this.getView().getModel("tp").setProperty("AddressChg"," ",this.selectedRowAdd);this.getView().byId(this.btnId).destroyCustomData()},cancelAdd:function(){this.fragmentAdd.close()},inputBPID:"",fragmentSold:nu+
ll,fragmentBP:null,onHelpRequestBP:function(e){this.inputBPID=e.getSource().getId();if(this.fragmentBP===null){this.fragmentBP=new sap.ui.xmlfragment("fragmentBPID","ren.ZQTC_FUTURE_REN.view.fragmentSold",this);this.fragmentBP.setTitle("BP Value Help");t+
his.getView().addDependent(this.fragmentBP)}this.fragmentBP.open()},onHelpRequestSold:function(e){this.inputBPID=e.getSource().getId();this.selectedRow=e.getSource().getBindingContext("tp");this.selectedSold=e.getSource().getBindingContext("tp").getPrope+
rty("Kunag");if(this.fragmentSold===null){this.fragmentSold=new sap.ui.xmlfragment("fragmentBPsold","ren.ZQTC_FUTURE_REN.view.fragmentSold",this);this.fragmentSold.setTitle("SoldTo Value Help");this.getView().addDependent(this.fragmentSold)}this.fragment+
Sold.open()},searchEHSold:function(e){var t=e.getParameter("query");var o=new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.EQ,t);var r;if(e.getSource().getId()==="fragmentBPID--mySoldSearch"){r=sap.ui.core.Fragment.byId("fragmentBPID","mySoldT+
able")}else{r=sap.ui.core.Fragment.byId("fragmentBPsold","mySoldTable")}var i=r.getBinding("items");i.filter(o)},soldToSelect:function(e){var t=e.getParameter("listItem").getBindingContext().getProperty("Kunnr");this.selectedItemSold=t;if(e.getSource().g+
etId()==="fragmentBPID--mySoldTable"){this.getView().byId("bpInput").setValue(t);sap.ui.getCore().bp=t;this.fragmentBP.close()}else{this.getView().getModel("tp").setProperty("Kunag",t,this.selectedRow);this.selectedRow.getObject().Color="yellow";this.get+
View().byId(this.inputBPID).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));var o=this.getView().getModel("tp").getProperty("KunagOld",this.selectedRow);this.getView().getModel("tp").setProperty("KunagOldSe+
t",o,this.selectedRow);if(t===o){this.getView().byId(this.inputBPID).destroyCustomData();this.getView().getModel("tp").setProperty("KunagOldSet","",this.selectedRow)}var r=sap.ui.core.Fragment.byId("fragmentBPsold","mySoldTable");r.removeSelections();thi+
s.fragmentSold.close()}this.inputBPID=""},bpChange:function(e){var t=e.getParameter("value");sap.ui.getCore().bp=t?t:null;if(this.selectedItemSold){var o=sap.ui.core.Fragment.byId("fragmentBPID","mySoldTable");o.removeSelections(true)}},soldChange:functi+
on(e){if(this.selectedItemSold){var t=sap.ui.core.Fragment.byId("fragmentBPsold","mySoldTable");t.removeSelections(true)}},cancelSold:function(e){if(e.getSource().getId()==="fragmentBPID--soldReject"){this.fragmentBP.close()}else{this.fragmentSold.close(+
)}this.inputBPID=""},onSuggest:function(e){var t=e.getParameter("suggestValue");var o=[];if(t){o.push(new i("Name1",s.StartsWith,t))}e.getSource().getBinding("suggestionItems").filter(o)},onSuggestionSoldTo:function(e){var t=e.getParameter("selectedItem"+
);sap.ui.getCore().bp=t.getKey()},renSelected:function(e){var t=this.getView().byId("renstat").getSelectedItem();sap.ui.getCore().renstatus=t?t.getKey():null;if(sap.ui.getCore().renstatus===""){sap.ui.getCore().renstatus="R"}},inputProdId:"",fragmentProd+
:null,onHelpRequestProd:function(e){this.inputProdId=e.getSource().getId();this.selectedRowProd=e.getSource().getBindingContext("tp");this.selectedProdOld=e.getSource().getBindingContext("tp").getProperty("Matnr");if(this.fragmentProd===null){this.fragme+
ntProd=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentProduct",this);this.fragmentProd.setTitle("Product Value Help");this.getView().addDependent(this.fragmentProd)}this.fragmentProd.open()},searchEHProd:function(e){var t=e.getParameter("query"+
);var o=new sap.ui.model.Filter("Maktx",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("myProdTable");var i=r.getBinding("items");i.filter(o)},rowSelectionMedia:function(e){var t=e.getParameter("listItem").getBindingContext().getProperty("+
Matnr");var o=this.getView().getModel("tp").getProperty("MatnrOld",this.selectedRowProd);this.getView().getModel("tp").setProperty("Matnr",t,this.selectedRowProd);this.selectedRowProd.getObject().Color="yellow";this.getView().byId(this.inputProdId).addCu+
stomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.getView().getModel("tp").setProperty("MatnrOldSet",o,this.selectedRowProd);sap.ui.getCore().byId("myProdTable").removeSelections();if(t===o){this.getView().by+
Id(this.inputProdId).destroyCustomData();this.getView().getModel("tp").setProperty("MatnrOldSet","",this.selectedRowProd)}if(this.reasonValue){this.getView().getModel("tp").setProperty("Abgru",this.reasonValue,this.selectedRowProd)}this.fragmentProd.clos+
e()},reasonChange:function(e){var t=e.getParameters("listItem").selectedItem;var o=t?t.getKey():" ";this.getView().getModel("tp").setProperty("Abgru",o,this.selectedRowProd);this.reasonValue=o},cancelProd:function(e){this.fragmentProd.close()},pricegrpCh+
ange:function(e){this.selectedItemPrice=e.getSource().getBindingContext("tp").getProperty("Price");var t=e.getSource().getBindingContext("tp");var o=e.getSource().getBindingContext("tp").getProperty("PriceOld");this.getView().getModel("tp").setProperty("+
PriceOldSet",o,t);var r=e.getSource().getId();e.getSource().getBindingContext("tp").getObject().Color="yellow";this.getView().byId(r).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}))},fragmentPrice:null,qtyP+
ress:function(e){this.inputQtyId=e.getSource().getId();this.selectedRowQty=e.getSource().getBindingContext("tp");this.selectedQtyOld=e.getSource().getBindingContext("tp").getProperty("Zmeng");var t=e.getSource();if(!this._oPopover){d.load({name:"ren.ZQTC+
_FUTURE_REN.view.fragmentPrice",controller:this}).then(function(e){this._oPopover=e;this.getView().addDependent(this._oPopover);this._oPopover.openBy(t)}.bind(this))}else{this._oPopover.openBy(t)}},handleOkButtonPrice:function(e){var t=sap.ui.getCore().b+
yId("inputQty").getValue();var o=this.getView().getModel("tp").getProperty("ZmengOld",this.selectedRowQty);this.getView().getModel("tp").setProperty("Zmeng",sap.ui.getCore().byId("inputQty").getValue(),this.selectedRowQty);this.selectedRowQty.getObject()+
.Color="yellow";this.getView().byId(this.inputQtyId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.getView().getModel("tp").setProperty("ZmengOldSet",o,this.selectedRowQty);t.toString();o.toString();+
var r=t.trimLeft();var i=o.trimLeft();if(r===i){this.getView().getModel("tp").setProperty("ZmengOldSet","",this.selectedRowQty);this.getView().byId(this.inputQtyId).destroyCustomData()}this._oPopover.close()},handleCloseButtonPrice:function(e){this._oPop+
over.close()},fragmento:null,payMethodF4:function(e){this.selectedRowPayMeth=e.getSource().getBindingContext("tp");this.payinputId=e.getSource().getId();this.payMethod=e.getSource().getBindingContext("tp").getProperty("Zlsch");var t=this;var o=this.getVi+
ew().getModel("tp").getProperty("Country",this.selectedRowPayMeth);var r=new sap.ui.model.Filter("Land1",s.EQ,o);var i=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");i.read("/PaymethodSet",{filters:[r],success:fu+
nction(e,o){var r=new sap.ui.model.json.JSONModel;r.setData(e);t.getView().setModel(r,"paymeth");sap.ui.getCore().setModel(r);t.showPaymeth()},error:function(e){}})},showPaymeth:function(){if(this.fragmento===null){this.fragmento=new sap.ui.xmlfragment("+
ren.ZQTC_FUTURE_REN.view.fragmentPayMeth",this);this.fragmento.bindAggregation("items",{path:"paymeth>/results",parameters:{},template:new sap.m.DisplayListItem({label:"{paymeth>Zlsch}",value:"{paymeth>Text2}"})});this.getView().addDependent(this.fragmen+
to)}this.fragmento.open()},handlePaymethConfirm:function(e){var t=e.getParameter("selectedItem");var o=t.getLabel();var r=this.getView().getModel("tp").getProperty("ZlschOld",this.selectedRowPayMeth);this.getView().getModel("tp").setProperty("Zlsch",o,th+
is.selectedRowPayMeth);this.getView().getModel("tp").setProperty("ZlschOldSet",r,this.selectedRowPayMeth);this.selectedRowPayMeth.getObject().Color="yellow";this.getView().byId(this.payinputId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",va+
lue:"{tp>Color}",writeToDom:true}));if(o===r){this.getView().getModel("tp").setProperty("ZlschOldSet","",this.selectedRowPayMeth);this.getView().byId(this.payinputId).destroyCustomData()}},onSearchPaymethf4:function(e){var t=e.getParameter("itemsBinding"+
);var o=e.getParameter("value");if(!o){t.filter([])}else{var r=new sap.ui.model.Filter("Zlsch",s.Contains,o);t.filter([r])}},fragmentExcl:null,exclStatusF4:function(e){var t=e.getSource().getBindingContext("tp");var o=this.getView().getModel("tp").getPro+
perty("Vbeln",t);var r=this.getView().getModel("tp").getProperty("PosnrC",t);if(this.getView().getModel("tp").getProperty("ExclStatus",t)===""){sap.m.MessageBox.warning("Exclusion Reason is Not Set For This Item!")}else{if(this.fragmentExcl===null){this.+
fragmentExcl=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentExcl",this);this.getView().addDependent(this.fragmentExcl);this.fragmentExcl.setTitle("Item Exclusion Details"+" "+o+" "+r)}this.selectedRowExcl=t;this.showExcldata()}},showExcldata:fu+
nction(){var e=this;var t=this.getView().getModel("tp").getProperty("Vbeln",this.selectedRowExcl);var o=this.getView().getModel("tp").getProperty("PosnrC",this.selectedRowExcl);var r=new sap.ui.model.Filter("Vbeln",s.EQ,t);var i=new sap.ui.model.Filter("+
Posnr",s.EQ,o);var d=new sap.ui.model.Filter({filters:[r,i],and:true});var a=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");a.read("/ExclusionDetailsSet",{filters:[d],success:function(t,o){var r=new sap.ui.model.+
json.JSONModel;r.setData(t);e.getView().setModel(r,"excl");sap.ui.getCore().setModel(r);e.fragmentExcl.setModel(e.getView().getModel("excl"));e.fragmentExcl.bindElement("/results/0");e.fragmentExcl.open()},error:function(e){sap.m.MessagBox.Error("Error i+
n Fetching Item Exclusion Data")}})},cancelExcl:function(){this.fragmentExcl.close()},includeExcl:function(e){var t={};t.Vbeln=this.getView().getModel("tp").getProperty("Vbeln",this.selectedRowExcl);t.Posnr=this.getView().getModel("tp").getProperty("Posn+
rC",this.selectedRowExcl);if(e.getSource().getId()==="inclExcl"){t.ExclResn=this.getView().getModel("excl").getData().results[0].ExclResn;this.exclResn1="X"}else{t.ExclResn2=this.getView().getModel("excl").getData().results[0].ExclResn2;this.exclResn2="X+
"}var o=this.getView().getModel().createKey("/IncludeSet",{Vbeln:t.Vbeln});var r=this;var i=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");i.update(o,t,{success:function(e,t){sap.m.MessageBox.success("Item Includ+
ed for Renewal");r.showExcldata();r.getView().getModel("tp").setProperty("ExclStatus","",r.selectedRowExcl);r.getView().getModel("tp").setProperty("District","None",r.selectedRowExcl)},error:function(e){sap.m.MessageBox.error("Item Inclusion failed")}})}+
,fragmentCon:null,countryOnF4:function(e){this.cntryBtntId=e.getSource().getId();if(this.fragmentCon===null){this.fragmentCon=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentCntry",this);this.fragmentCon.bindAggregation("items",{path:"/CountrySe+
t",parameters:{},template:new sap.m.DisplayListItem({label:"{Land1}",value:"{Landx}"})});this.getView().addDependent(this.fragmentCon)}this.fragmentCon.open()},handleCntryValueHelpConfirm:function(e){var t=e.getParameter("selectedItem");var o=t.getLabel(+
);if(this.cntryBtntId=="cntryNew"){sap.ui.getCore().byId("cntryNew").setValue(o)}else{sap.ui.getCore().byId("cntryNewSold").setValue(o)}},onSearchCountryf4:function(e){var t=e.getParameter("itemsBinding");var o=e.getParameter("value");if(!o){t.filter([])+
}else{var r=new sap.ui.model.Filter("Landx",s.EQ,o);t.filter([r])}},fragmentReg:null,regionOnF4:function(e){this.regioBtntId=e.getSource().getId();var t=this;var o;if(this.regioBtntId=="regionNew"){o=this.getView().getModel("tp").getProperty("Country",th+
is.selectedRowAdd)}else{o=this.getView().getModel("tp").getProperty("AG_Country",this.selectedRowSoldAdd)}var r=new sap.ui.model.Filter("Land1",s.EQ,o);var i=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");i.read(+
"/RegionSet",{filters:[r],success:function(e,o){var r=new sap.ui.model.json.JSONModel;r.setData(e);t.getView().setModel(r,"reg");sap.ui.getCore().setModel(r);t.showRegions()},error:function(e){}})},showRegions:function(){if(this.fragmentReg===null){this.+
fragmentReg=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentReg",this);this.fragmentReg.bindAggregation("items",{path:"reg>/results",parameters:{},template:new sap.m.DisplayListItem({label:"{reg>Bland}",value:"{reg>Bezei}"})});this.getView().add+
Dependent(this.fragmentReg)}this.fragmentReg.open()},handleRegValueHelpConfirm:function(e){var t=e.getParameter("selectedItem");var o=t.getLabel();if(this.regioBtntId=="regionNew"){sap.ui.getCore().byId("regionNew").setValue(o)}else{sap.ui.getCore().byId+
("regionNewSold").setValue(o)}},onSearchRegionf4:function(e){var t=e.getParameter("itemsBinding");var o=e.getParameter("value");if(!o){t.filter([])}else{var r=new sap.ui.model.Filter("Bland",s.EQ,o);var i=new sap.ui.model.Filter("Bezei",s.Contains,o);var+
 d=new sap.ui.model.Filter({filters:[r,i],and:false});t.filter([d])}},fragmenrFA:null,ffF4help:function(e){this.selectedRowFF=e.getSource().getBindingContext("tp");this.inputFFId=e.getSource().getId();if(this.fragmenrFA===null){this.fragmenrFA=new sap.ui+
.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentFF",this)}this.getView().addDependent(this.fragmenrFA);this.fragmenrFA.open()},cancelFF:function(){this.fragmenrFA.close()},ffSelect:function(e){var t=e.getParameter("listItem").getBindingContext().getProper+
ty("Lifnr");var o=this.getView().getModel("tp").getProperty("KunffOld",this.selectedRowFF);this.getView().getModel("tp").setProperty("Kunff",t,this.selectedRowFF);this.getView().getModel("tp").setProperty("KunffOldSet",o,this.selectedRowFF);this.selected+
RowFF.getObject().Color="yellow";this.getView().byId(this.inputFFId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));sap.ui.getCore().byId("myFFTable").removeSelections();if(t===o){this.getView().byId(this.+
selectedRowFF).destroyCustomData();this.getView().getModel("tp").setProperty("KunffOldSet","",this.selectedRowFF)}this.fragmenrFA.close()},searchFF:function(e){var t=e.getParameter("query");var o=new sap.ui.model.Filter("Name1",s.EQ,t);var r=sap.ui.getCo+
re().byId("myFFTable");var i=r.getBinding("items");i.filter([o])},resetFF:function(){var e=this.getView().getModel("tp").getProperty("KunffOld",this.selectedRowFF);this.getView().getModel("tp").setProperty("Kunff",e,this.selectedRowFF);this.getView().get+
Model("tp").setProperty("KunffOldSet","",this.selectedRowFF);this.getView().byId(this.inputFFId).destroyCustomData();this.fragmenrFA.close()},removeFwd:function(){var e=this.getView().getModel("tp").getProperty("KunffOld",this.selectedRowFF);this.getView+
().getModel("tp").setProperty("Kunff","",this.selectedRowFF);this.getView().getModel("tp").setProperty("KunffOldSet",e,this.selectedRowFF);this.selectedRowFF.getObject().Color="yellow";this.getView().byId(this.inputFFId).addCustomData(new sap.ui.core.Cus+
tomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.fragmenrFA.close()},fragmentIncomp:null,incompleteF4:function(e){var t=e.getSource().getBindingContext("tp");var o=this;var r=this.getView().getModel("tp").getProperty("FutureOrd",t);var+
 i=new sap.ui.model.Filter("Vbeln",s.EQ,r);var d=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");d.read("/INCOMPLETESet",{filters:[i],success:function(e,t){var r=new sap.ui.model.json.JSONModel;r.setData(e);o.getV+
iew().setModel(r,"incomp");sap.ui.getCore().setModel(r);o.showIncomplete()},error:function(e){}})},showIncomplete:function(){if(this.fragmentIncomp===null){this.fragmentIncomp=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentIncomp",this)}this.ge+
tView().addDependent(this.fragmentIncomp);this.fragmentIncomp.open()},cancelIncomp:function(){this.fragmentIncomp.close()},rowSelection:function(e){var t=this.getView().byId("table");var o;var r;var i;var s;try{o=e.getParameter("rowContext").getProperty(+
"FutureOrd")}catch(e){o=""}try{r=e.getParameter("rowContext").getProperty("ExclStatus")}catch(e){r=""}try{i=e.getParameter("rowContext").getProperty("RenStatus")}catch(e){i=""}try{s=e.getParameter("rowContext").getProperty("District")}catch(e){s=""}var d+
=e.getParameter("rowIndex");if(o||s==="Information"||r==="X"||i==="C"){t.removeSelectionInterval(d,d)}},processEH:function(e){this.btnSource=e.getSource();var o=this.getView().byId("table").getSelectedIndices();if(o.length===0){sap.m.MessageBox.warning("+
Please Select Items To Be Processed!")}else{var r=[];for(var i=0;i<o.length;i++){var s=this.getView().byId("table").getContextByIndex(o[i]).getObject();var d={};d.Vbeln=s.Vbeln;d.PosnrC=s.PosnrC;d.Vbegdat=s.Vbegdat;d.Venddat=s.Venddat;d.Kunag=s.Kunag;d.K+
unwe=s.Kunwe;d.Matnr=s.Matnr;d.MatnrOld=s.MatnrOld;d.Zmeng=s.Zmeng;d.Price=s.Price;d.Kunff=s.Kunff;d.Zlsch=s.Zlsch;d.Abgru=s.Abgru;d.Street=s.Street;d.StrSuppl1=s.StrSuppl1;d.StrSuppl2=s.StrSuppl2;d.StrSuppl3=s.StrSuppl3;d.Location=s.Location;d.City1=s.C+
ity1;d.Country=s.Country;d.Region=s.Region;d.PostCode1=s.PostCode1;d.AddressChg=s.AddressChg;d.AG_Del=s.AG_Del;d.AG_Addrchg=s.AG_Addrchg;d.AG_Street=s.AG_Street;d.AG_StrSuppl1=s.AG_StrSuppl1;d.AG_StrSuppl2=s.AG_StrSuppl2;d.AG_StrSuppl3=s.AG_StrSuppl3;d.A+
G_Location=s.AG_Location;d.AG_City1=s.AG_City1;d.AG_Region=s.AG_Region;d.AG_District=s.AG_District;d.AG_Country=s.AG_Country;d.AG_PostCode1=s.AG_PostCode1;r.push(d)}var a=this;this.getView().setBusy(true);var n={};n.NP_VBELN=r;var l=new sap.ui.model.odat+
a.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");l.create("/HeaderSet",n,{success:function(e,o){a.getView().setBusy(false);var r=a.getView().byId("table").getSelectedIndices();if(e.NP_VBELN.results.length===1&&e.Message||r.length>5){sa+
p.m.MessageBox.success(e.Message);for(var i=0;i<r.length;i++){var s=a.getView().byId("table").getContextByIndex(r[i]).getPath();if(r.length<6){a.getView().getModel("tp").getProperty(s).FutureOrd=e.NP_VBELN.results[i].FutureOrd;a.getView().getModel("tp").+
getProperty(s).District="Indication04";a.getView().getModel("tp").getProperty(s).Link=e.NP_VBELN.results[i].Link}else{a.getView().getModel("tp").getProperty(s).District="Information";a.getView().getModel("tp").getProperty(s).Link=e.NP_VBELN.results[i].Li+
nk}}a.getView().byId("table").getModel("tp").updateBindings(true);a.getView().byId("table").clearSelection()}else{var d=new t;d.setData(e);a.getView().setModel(d,"msg");sap.ui.getCore().setModel(d);if(!a.notificationPopover){a.oMessageTemplate=new sap.m.+
MessageItem({type:"{msg>Type}",title:"{msg>Vbeln} {msg>Posnr}",subtitle:"{msg>Posnr}",description:"{msg>Msg1} {msg>Msg2} {msg>Msg3}",text:"{msg>Msg2}",groupName:"abc"})}var n=new sap.m.MessagePopover;n.bindAggregation("items",{template:a.oMessageTemplate+
,path:"msg>/NP_VBELN/results"});a.notificationPopover=n;a.getView().addDependent(a.notificationPopover);a.notificationPopover.openBy(a.btnSource);for(var l=0;l<r.length;l++){var g=a.getView().byId("table").getContextByIndex(r[l]).getPath();if(e.NP_VBELN.+
results[l].FutureOrd&&e.NP_VBELN.results[l].Type==="Success"){a.getView().getModel("tp").getProperty(g).FutureOrd=e.NP_VBELN.results[l].FutureOrd;a.getView().getModel("tp").getProperty(g).District="Indication04";a.getView().getModel("tp").getProperty(g).+
Link=e.NP_VBELN.results[l].Link}}a.getView().byId("table").getModel("tp").updateBindings(true)}a.getView().byId("table").clearSelection()},error:function(e){a.getView().setBusy(false);sap.m.MessageBox.error("Error in Future Renewal Creation")}})}},onMain+
Search:function(e){var t=e.getParameter("query");t.toUpperCase();var o=new sap.ui.model.Filter("Vbeln",sap.ui.model.FilterOperator.Contains,t);var r=new sap.ui.model.Filter("PosnrC",sap.ui.model.FilterOperator.Contains,t);var i=new sap.ui.model.Filter("V+
begdat",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("Venddat",sap.ui.model.FilterOperator.Contains,t);var d=new sap.ui.model.Filter("Kunag",sap.ui.model.FilterOperator.Contains,t);var a=new sap.ui.model.Filter("KunagOldSet",sap.+
ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter("Kunwe",sap.ui.model.FilterOperator.Contains,t);var l=new sap.ui.model.Filter("NameWe",sap.ui.model.FilterOperator.Contains,t);var g=new sap.ui.model.Filter("Matnr",sap.ui.model.FilterOper+
ator.Contains,t);var p=new sap.ui.model.Filter("MatnrOldSet",sap.ui.model.FilterOperator.Contains,t);var u=new sap.ui.model.Filter("Zmeng",sap.ui.model.FilterOperator.Contains,t);var c=new sap.ui.model.Filter("Netwr",sap.ui.model.FilterOperator.Contains,+
t);var h=new sap.ui.model.Filter("Waerk",sap.ui.model.FilterOperator.Contains,t);var m=new sap.ui.model.Filter("Zlsch",sap.ui.model.FilterOperator.Contains,t);var w=new sap.ui.model.Filter("ExclStatus",sap.ui.model.FilterOperator.Contains,t);var y=new sa+
p.ui.model.Filter("RenwlProf",sap.ui.model.FilterOperator.Contains,t);var S=new sap.ui.model.Filter("StatusText",sap.ui.model.FilterOperator.Contains,t);var f=new sap.ui.model.Filter("RenContr",sap.ui.model.FilterOperator.Contains,t);var C=this.getView()+
.byId("table");var P=C.getBinding("rows");var v=new sap.ui.model.Filter({filters:[o,r,i,s,l,g,p,u,c,h,d,a,n,m,w,y,S,f],and:false});var V=[v];P.filter(V)},resetSort:function(){var e=this.getView().byId("table");var t=e.getColumns();for(var o=0;o<t.length;+
o++){t[o].setSorted(false);t[o].setFiltered(false);e.filter(t[o],null)}this.getView().byId("searchField").setValue("");e.getModel("tp").refresh(true)},onPersoButtonPressed:function(e){this._oTPC.openDialog({})},downloadExcel:function(){var e=this.getView+
().byId("table");var t=e.getColumns();var o=[];for(var r=0;r<t.length;r++){var i={name:t[r].getLabel().getText(),template:{content:{path:t[r].getProperty("filterProperty")}}};o.push(i);if(r===0||r===7){o.pop(i)}}var s=this.getView().getModel("tp");var d=+
new a({exportType:new n({mimeType:"application/vnd.ms-excel",fileExtension:"xls",separatorChar:"\t",charset:"utf-8"}),models:s,rows:{path:"/results"},columns:o});d.saveFile().catch(function(e){sap.m.MessageBox.error("error")}).then(function(){d.destroy()+
})},onUpdateFinished:function(e){},onPress:function(e){},onNavBack:function(){history.go(-1)},_showObject:function(e){this.getRouter().navTo("object",{objectId:e.getBindingContext().getProperty("Vbeln")})},addObjArraySold:[],addObjectOldSold:{},btnSoldId+
:"",soldtoAdd:function(e){this.selectedRowSoldAdd=e.getSource().getBindingContext("tp");this.btnSoldId=e.getSource().getId();var t={};for(var o=0;o<this.addObjArraySold.length;o++){if(this.addObjArraySold[o].Id===this.btnSoldId){t=this.addObjArraySold[o]+
;this.addObjectOldSold=t}}if(!t.Id){t.Id=this.btnSoldId;t.soldto=e.getSource().getBindingContext("tp").getProperty("Kunag");t.Street=e.getSource().getBindingContext("tp").getProperty("AG_Street");t.Street2=e.getSource().getBindingContext("tp").getPropert+
y("AG_StrSuppl1");t.Street3=e.getSource().getBindingContext("tp").getProperty("AG_StrSuppl2");t.Street4=e.getSource().getBindingContext("tp").getProperty("AG_StrSuppl3");try{t.Location=e.getSource().getBindingContext("tp").getProperty("AG_Location")}catc+
h(e){t.Location=""}t.City1=e.getSource().getBindingContext("tp").getProperty("AG_City1");t.Region=e.getSource().getBindingContext("tp").getProperty("AG_Region");t.Country=e.getSource().getBindingContext("tp").getProperty("AG_Country");t.PostCode1=e.getSo+
urce().getBindingContext("tp").getProperty("AG_PostCode1");this.addObjectOldSold=t;this.addObjArraySold.push(t)}if(!this.fragmentAddSold){this.fragmentAddSold=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentSoldToaddress",this);this.getView().ad+
dDependent(this.fragmentAddSold)}sap.ui.getCore().byId("streetSold").setText(t.Street);sap.ui.getCore().byId("street2Sold").setText(t.Street2);sap.ui.getCore().byId("street3Sold").setText(t.Street3);sap.ui.getCore().byId("street4Sold").setText(t.Street4)+
;sap.ui.getCore().byId("street5Sold").setText(t.Location);sap.ui.getCore().byId("citySold").setText(t.City1);sap.ui.getCore().byId("countrySold").setText(t.Country);sap.ui.getCore().byId("regioSold").setText(t.Region);sap.ui.getCore().byId("postcodeSold"+
).setText(t.PostCode1);this.fragmentAddSold.setTitle("Sold To Party "+t.soldto);var r=this.selectedRowSoldAdd.getPath();this.fragmentAddSold.setModel(this.getView().getModel("tp"));this.fragmentAddSold.bindElement(r);this.fragmentAddSold.open()},addUpdat+
eSold:function(e){var t={};t.Soldto=this.getView().getModel("tp").getProperty("Kunag",this.selectedRowSoldAdd);t.Street=this.getView().getModel("tp").getProperty("AG_Street",this.selectedRowSoldAdd);try{t.Location=this.getView().getModel("tp").getPropert+
y("AG_Location",this.selectedRowSoldAdd)}catch(e){t.Location=""}t.City1=this.getView().getModel("tp").getProperty("AG_City1",this.selectedRowSoldAdd);t.Region=this.getView().getModel("tp").getProperty("AG_Region",this.selectedRowSoldAdd);t.Country=this.g+
etView().getModel("tp").getProperty("AG_Country",this.selectedRowSoldAdd);t.PostCode1=this.getView().getModel("tp").getProperty("AG_PostCode1",this.selectedRowSoldAdd);t.NameAg=this.getView().getModel("tp").getProperty("NameAg",this.selectedRowSoldAdd);v+
ar o="X";this.getView().getModel("tp").setProperty("AG_Addrchg",o,this.selectedRowSoldAdd);if(!this.fragmentAddDocSold){this.fragmentAddDocSold=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentAddDocSold",this);this.getView().addDependent(this.fr+
agmentAddDocSold)}var r=this;var i=new sap.ui.model.Filter("Partner",s.EQ,t.Soldto);var d=new sap.ui.model.Filter("Street",s.EQ,t.Street);var a=new sap.ui.model.Filter("Location",s.EQ,t.Location);var n=new sap.ui.model.Filter("City",s.EQ,t.City1);var l=n+
ew sap.ui.model.Filter("Region",s.EQ,t.Region);var g=new sap.ui.model.Filter("Country",s.EQ,t.Country);var p=new sap.ui.model.Filter("PostalCode",s.EQ,t.PostCode1);var u=new sap.ui.model.Filter("FirstName",s.EQ,t.NameAg);var c=new sap.ui.model.Filter({fi+
lters:[i,d,a,n,l,g,p,u],and:true});var h=new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZQTC_FUTURE_RENEWAL_PLAN_SRV/");h.read("/ADDRESSCHECKSet",{filters:[c],success:function(e,t){if(e.results.length>0){var o=new sap.ui.model.json.JSONModel;o.+
setData(e);r.getView().setModel(o,"doc2");sap.ui.getCore().setModel(o);r.fragmentAddDocSold.open()}else{r.selectedRowSoldAdd.getObject().Color="yellow";r.getView().byId(r.btnSoldId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Col+
or}",writeToDom:true}));r.fragmentAddSold.close()}},error:function(e){}})},addDocSelectSold:function(e){var t={};t.street=e.getParameter("listItem").getBindingContext("doc2").getProperty("AG_Street");t.country=e.getParameter("listItem").getBindingContext+
("doc2").getProperty("AG_Country");t.region=e.getParameter("listItem").getBindingContext("doc2").getProperty("AG_Region");t.postcode=e.getParameter("listItem").getBindingContext("doc2").getProperty("AG_PostalCode");t.street2=e.getParameter("listItem").ge+
tBindingContext("doc2").getProperty("AG_StrSuppl1");t.location=e.getParameter("listItem").getBindingContext("doc2").getProperty("AG_Location");t.street3=e.getParameter("listItem").getBindingContext("doc2").getProperty("AG_StrSuppl2");t.street4=e.getParam+
eter("listItem").getBindingContext("doc2").getProperty("AG_StrSuppl3");t.city=e.getParameter("listItem").getBindingContext("doc2").getProperty("City");this.getView().getModel("tp").setProperty("AG_Street",t.street,this.selectedRowSoldAdd);this.getView().+
getModel("tp").setProperty("AG_StrSuppl1",t.street2,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_StrSuppl2",t.street3,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_StrSuppl3",t.street4,this.selectedRowSo+
ldAdd);this.getView().getModel("tp").setProperty("AG_Location",t.location,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_City1",t.city,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_Region",t.region,this.se+
lectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_Country",t.country,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_PostCode1",t.postcode,this.selectedRowSoldAdd);this.selectedRowSoldAdd.getObject().Color="yellow";th+
is.getView().byId(this.btnSoldId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.fragmentAddDocSold.close();this.fragmentAddSold.close()},cancelAddDocSold:function(){this.selectedRowSoldAdd.getObject(+
).Color="yellow";this.getView().byId(this.btnSoldId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));this.fragmentAddDocSold.close();this.fragmentAddSold.close()},addResetSold:function(){this.getView().getM+
odel("tp").setProperty("AG_Street",this.addObjectOldSold.Street,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_StrSuppl1",this.addObjectOldSold.Street2,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_StrSupp+
l2",this.addObjectOldSold.Street3,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_StrSuppl3",this.addObjectOldSold.Street4,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_Location",this.addObjectOldSold.Locat+
ion,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_City1",this.addObjectOldSold.City1,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_Region",this.addObjectOldSold.Region,this.selectedRowSoldAdd);this.getVie+
w().getModel("tp").setProperty("AG_Country",this.addObjectOldSold.Country,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty("AG_PostCode1",this.addObjectOldSold.PostCode1,this.selectedRowSoldAdd);this.getView().getModel("tp").setProperty+
("AG_Addrchg"," ",this.selectedRowSoldAdd);this.getView().byId(this.btnSoldId).destroyCustomData()},cancelAddSold:function(){this.fragmentAddSold.close()},inputShipId:"",onHelpRequestShip:function(e){this.inputShipId=e.getSource().getId();this.selectedRo+
wShipHelp=e.getSource().getBindingContext("tp");if(!this.fragmentShipHelp){this.fragmentShipHelp=new sap.ui.xmlfragment("ren.ZQTC_FUTURE_REN.view.fragmentShipto",this);this.getView().addDependent(this.fragmentShipHelp)}this.fragmentShipHelp.open()},shipT+
oSelect:function(e){var t=e.getParameter("listItem").getBindingContext().getProperty("Shipto");this.getView().getModel("tp").setProperty("Kunwe",t,this.selectedRowShipHelp);this.selectedRowShipHelp.getObject().Color="yellow";this.getView().byId(this.inpu+
tShipId).addCustomData(new sap.ui.core.CustomData({key:"colorCode",value:"{tp>Color}",writeToDom:true}));var o=this.getView().getModel("tp").getProperty("KunweOld",this.selectedRowShipHelp);this.getView().getModel("tp").setProperty("KunweOldSet",o,this.s+
electedRowShipHelp);if(t===o){this.getView().byId(this.inputShipId).destroyCustomData();this.getView().getModel("tp").setProperty("KunweOldSet","",this.selectedRowShipHelp)}this.fragmentShipHelp.close()},cancelShipHelp:function(){this.fragmentShipHelp.cl+
ose()},searchEHShip:function(e){var t=e.getParameter("query");var o=new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.EQ,t);var r=sap.ui.getCore().byId("myShipTable");var i=r.getBinding("items");i.filter(o)}})});                                 